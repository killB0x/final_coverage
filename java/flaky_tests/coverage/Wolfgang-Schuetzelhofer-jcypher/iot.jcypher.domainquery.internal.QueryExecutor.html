<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
           "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Coverage Report</title>
<link title="Style" type="text/css" rel="stylesheet" href="css/main.css"/>
<script type="text/javascript" src="js/popup.js"></script>
</head>
<body>
<h5>Coverage Report - iot.jcypher.domainquery.internal.QueryExecutor</h5>
<div class="separator">&nbsp;</div>
<table class="report">
<thead><tr>  <td class="heading">Classes in this File</td>  <td class="heading"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">Line Coverage</a></td>  <td class="heading"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">Branch Coverage</a></td>  <td class="heading"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">Complexity</a></td></tr></thead>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">74%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:74px"><span class="text">168/226</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">61%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:61px"><span class="text">78/126</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$1</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></td><td class="percentgraph"><div class="percentgraph"><div class="na" style="width:100px"><span class="text"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></td><td class="percentgraph"><div class="percentgraph"><div class="na" style="width:100px"><span class="text"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$MappingInfo</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">88%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:88px"><span class="text">15/17</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></td><td class="percentgraph"><div class="percentgraph"><div class="na" style="width:100px"><span class="text"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">94%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:94px"><span class="text">431/458</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">83%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:83px"><span class="text">248/298</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilder</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">95%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:95px"><span class="text">646/673</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">88%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:88px"><span class="text">368/414</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilder$CloneInfo</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">2/2</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">2/2</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilder$CountIntersectsPerType</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">1/1</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></td><td class="percentgraph"><div class="percentgraph"><div class="na" style="width:100px"><span class="text"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilder$StepClause</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">93%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:93px"><span class="text">204/218</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">82%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:82px"><span class="text">92/112</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilder$TraversalPathsPerDOM</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">23/23</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">8/8</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilder$TraversalResult</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">18/18</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">87%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:87px"><span class="text">7/8</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilderContext</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">96%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:96px"><span class="text">57/59</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">87%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:87px"><span class="text">28/32</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClauseBuilderContext$TraversalResultPerTypes</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">89%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:89px"><span class="text">17/19</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">80%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:80px"><span class="text">8/10</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ClausesPerType</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">93%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:93px"><span class="text">73/78</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">87%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:87px"><span class="text">47/54</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$ExpressionsPerDOM</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">28/28</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">94%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:94px"><span class="text">17/18</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$OrderClausesHolder</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">95%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:95px"><span class="text">42/44</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">85%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:85px"><span class="text">34/40</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryBuilder$StateContext</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">20/20</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">90%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:90px"><span class="text">9/10</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryContext</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">94%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:94px"><span class="text">34/36</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">85%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:85px"><span class="text">12/14</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$QueryContext$ResultsPerType</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">9/9</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></td><td class="percentgraph"><div class="percentgraph"><div class="na" style="width:100px"><span class="text"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$RecordedQueryContext</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">87%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:87px"><span class="text">21/24</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">70%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:70px"><span class="text">7/10</span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>
  <tr><td><a href="iot.jcypher.domainquery.internal.QueryExecutor.html">QueryExecutor$State</a></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40">100%</td><td class="percentgraph"><div class="percentgraph"><div class="greenbar" style="width:100px"><span class="text">2/2</span></div></div></td></tr></table></td><td><table cellpadding="0px" cellspacing="0px" class="percentgraph"><tr class="percentgraph"><td align="right" class="percentgraph" width="40"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></td><td class="percentgraph"><div class="percentgraph"><div class="na" style="width:100px"><span class="text"><a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">N/A</a></span></div></div></td></tr></table></td><td class="value"><span class="hidden">5.47887323943662;</span>5.479</td></tr>

</table>
<div class="separator">&nbsp;</div>
<table cellspacing="0" cellpadding="0" class="src">
<tr>  <td class="numLine">&nbsp;1</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">/************************************************************************</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * Copyright (c) 2014-2016 IoT-Solutions e.U.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * </span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;4</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the "License");</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;5</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * you may not use this file except in compliance with the License.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;6</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * You may obtain a copy of the License at</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;7</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * </span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;8</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> *  http://www.apache.org/licenses/LICENSE-2.0</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;9</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * </span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;10</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;11</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;12</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;13</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * See the License for the specific language governing permissions and</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;14</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> * limitations under the License.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;15</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment"> ************************************************************************/</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;16</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;17</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">package</span> iot.jcypher.domainquery.internal;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;18</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;19</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.math.BigDecimal;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;20</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.ArrayList;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;21</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.Collections;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;22</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.HashMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;23</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.Iterator;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;24</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.LinkedHashSet;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;25</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.List;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;26</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.Map;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;27</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.Map.Entry;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;28</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> java.util.Set;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;29</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;30</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.concurrency.QExecution;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;31</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.concurrency.QExecution.ExecType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;32</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.IDomainAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;33</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.SyncInfo;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;34</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.internal.CurrentDomain;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;35</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.internal.DomainAccess.InternalDomainAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;36</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.internal.IIntDomainAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;37</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.internal.SkipLimitCalc;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;38</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.internal.SkipLimitCalc.SkipsLimits;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;39</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.mapping.CompoundObjectType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;40</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.mapping.FieldMapping;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;41</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.mapping.MappingUtil;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;42</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.mapping.ObjectMapping;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;43</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.mapping.surrogate.Array;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;44</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domain.mapping.surrogate.Collection;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;45</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.AbstractDomainQuery;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;46</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.CountQueryResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;47</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.DomainQueryResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;48</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.InternalAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;49</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.api.APIAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;50</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.api.Count;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;51</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.api.DomainObjectMatch;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;52</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.api.IPredicateOperand1;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;53</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.CollectExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;54</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.ConcatenateExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;55</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.ConcatenateExpression.Concatenator;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;56</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.FromPreviousQueryExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;57</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.IASTObject;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;58</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.OrderExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;59</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.OrderExpression.OrderBy;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;60</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.Parameter;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;61</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.PredicateExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;62</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.PredicateExpression.Operator;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;63</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.SelectExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;64</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.TraversalExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;65</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.TraversalExpression.Step;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;66</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.ast.UnionExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;67</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.domainquery.internal.QueryRecorder.QueriesPerThread;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;68</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.JcQuery;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;69</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.JcQueryResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;70</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.APIObject;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;71</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.APIObjectAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;72</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.IClause;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;73</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.pattern.Node;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;74</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.pattern.Relation;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;75</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.predicate.BooleanOperation;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;76</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.predicate.Concat;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;77</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.predicate.PFactory;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;78</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.api.returns.RSortable;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;79</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.ast.predicate.BooleanValue;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;80</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.ast.predicate.IPredicateHolder;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;81</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.ast.returns.ReturnElement;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;82</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.ast.returns.ReturnExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;83</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.clause.OPTIONAL_MATCH;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;84</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.clause.RETURN;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;85</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.clause.SEPARATE;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;86</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.clause.START;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;87</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.clause.WHERE;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;88</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.clause.WITH;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;89</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.xpression.C;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;90</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.factories.xpression.I;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;91</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.result.JcError;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;92</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.result.JcResultException;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;93</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.JcCollection;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;94</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.JcNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;95</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.JcNumber;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;96</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.JcPath;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;97</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.JcPrimitive;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;98</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.JcValue;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;99</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.ValueAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;100</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.values.ValueElement;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;101</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.query.writer.Format;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;102</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.util.QueriesPrintObserver.QueryToObserve;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;103</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="keyword">import</span> iot.jcypher.util.Util;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;104</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;105</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<span class="keyword">public</span> <span class="keyword">class</span> QueryExecutor <span class="keyword">implements</span> IASTObjectsContainer {</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;106</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;107</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String idPrefix = <span class="string">"id_"</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;108</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String countPrefix = <span class="string">"cnt_"</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;109</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String tmpNodePostPrefix = <span class="string">"_t"</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;110</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String collNodePostPrefix = <span class="string">"_c"</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;111</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String countXprPostPrefix = <span class="string">"_cnt"</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;112</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String collectNodePostfix = <span class="string">"_col"</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;113</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">char</span> separator = <span class="string">'_'</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;114</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;115</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> IDomainAccess domainAccess;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;116</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> List&lt;IASTObject&gt; astObjects;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;117</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> List&lt;OrderExpression&gt; orders;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;118</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> List&lt;DomainObjectMatch&lt;?&gt;&gt; domainObjectMatches;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;119</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> Map&lt;String, Parameter&gt; parameters;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;120</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> MappingInfo mappingInfo;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;121</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> QueryContext queryResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;122</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> QueryContext countResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;123</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> RecordedQueryContext recordedQueryContext;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;124</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> ReplayedQueryContext replayedQueryContext;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;125</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;126</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> QueryExecutor(IDomainAccess domainAccess) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;127</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;128</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">this</span>.domainAccess = domainAccess;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;129</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">this</span>.astObjects = <span class="keyword">new</span> ArrayList&lt;IASTObject&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;130</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">this</span>.domainObjectMatches = <span class="keyword">new</span> ArrayList&lt;DomainObjectMatch&lt;?&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;131</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">this</span>.parameters = <span class="keyword">new</span> HashMap&lt;String, Parameter&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;132</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;133</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;134</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        @Override</pre></td></tr>
<tr>  <td class="numLine">&nbsp;135</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">void</span> addAstObject(IASTObject astObj) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;136</td>  <td class="nbHitsCovered">&nbsp;1137</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">this</span>.astObjects.add(astObj);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;137</td>  <td class="nbHitsCovered">&nbsp;1137</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;138</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;139</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> List&lt;IASTObject&gt; getAstObjects() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;140</td>  <td class="nbHitsCovered">&nbsp;25</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> astObjects;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;141</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;142</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;143</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> OrderExpression getOrderFor(DomainObjectMatch&lt;?&gt; dom) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;144</td>  <td class="nbHitsCovered"><a title="Line 144: Conditional coverage 100% (2/2).">&nbsp;887</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 144: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.orders == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;145</td>  <td class="nbHitsCovered">&nbsp;185</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.orders = <span class="keyword">new</span> ArrayList&lt;OrderExpression&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;146</td>  <td class="nbHitsCovered">&nbsp;887</td>  <td class="src"><pre class="src">&nbsp;                OrderExpression ret = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;147</td>  <td class="nbHitsCovered"><a title="Line 147: Conditional coverage 100% (2/2).">&nbsp;887</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 147: Conditional coverage 100% (2/2).">                <span class="keyword">for</span> (OrderExpression oe : <span class="keyword">this</span>.orders) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;148</td>  <td class="nbHitsCovered"><a title="Line 148: Conditional coverage 100% (2/2).">&nbsp;1808</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 148: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (oe.getObjectMatch().equals(dom)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;149</td>  <td class="nbHitsCovered">&nbsp;440</td>  <td class="src"><pre class="src">&nbsp;                                ret = oe;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;150</td>  <td class="nbHitsCovered">&nbsp;440</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;151</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;152</td>  <td class="nbHitsCovered">&nbsp;1368</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;153</td>  <td class="nbHitsCovered"><a title="Line 153: Conditional coverage 100% (2/2).">&nbsp;887</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 153: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (ret == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;154</td>  <td class="nbHitsCovered">&nbsp;447</td>  <td class="src"><pre class="src">&nbsp;                        ret = <span class="keyword">new</span> OrderExpression(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;155</td>  <td class="nbHitsCovered">&nbsp;447</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.orders.add(ret);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;156</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;157</td>  <td class="nbHitsCovered">&nbsp;887</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;158</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;159</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;160</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> List&lt;DomainObjectMatch&lt;?&gt;&gt; getDomainObjectMatches() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;161</td>  <td class="nbHitsCovered">&nbsp;1460</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> domainObjectMatches;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;162</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;163</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;164</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;165</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * Get or create, if not exists, a query parameter.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;166</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @param name of the parameter</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;167</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @return a query parameter</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;168</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;169</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> Parameter parameter(String name) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;170</td>  <td class="nbHitsCovered">&nbsp;20</td>  <td class="src"><pre class="src">&nbsp;                Parameter param = <span class="keyword">this</span>.parameters.get(name);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;171</td>  <td class="nbHitsCovered"><a title="Line 171: Conditional coverage 100% (2/2).">&nbsp;20</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 171: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (param == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;172</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                        param = <span class="keyword">new</span> Parameter(name);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;173</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.parameters.put(name, param);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;174</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;175</td>  <td class="nbHitsCovered">&nbsp;20</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> param;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;176</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;177</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;178</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> Set&lt;String&gt; getParameterNames() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;179</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> <span class="keyword">this</span>.parameters.keySet();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;180</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;181</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;182</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">void</span> addParameter(Parameter param) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;183</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">this</span>.parameters.put(param.getName(), param);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;184</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;185</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;186</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;187</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * Execute the domain query</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;188</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;189</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">void</span> execute() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;190</td>  <td class="nbHitsUncovered"><a title="Line 190: Conditional coverage 50% (1/2).">&nbsp;172</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 190: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (hasBeenReplayed()) { <span class="comment">// delegate to the replayed query</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;191</td>  <td class="nbHitsUncovered"><a title="Line 191: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 191: Conditional coverage 0% (0/2).">                        <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext.queryResult == <span class="keyword">null</span>) <span class="comment">// only count query has been executed</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;192</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">this</span>.recordedQueryContext.queryResult =</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;193</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        InternalAccess.getDomainQuery(<span class="keyword">this</span>.recordedQueryContext.countResult)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;194</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                .execute();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;195</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">return</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;196</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;197</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                String pLab = ((IIntDomainAccess)domainAccess).getInternalDomainAccess().setDomainLabel();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;198</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                QExecution qExec = ((IIntDomainAccess)<span class="keyword">this</span>.domainAccess).getInternalDomainAccess().getQExecution();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;199</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                QExecution myQExec = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;200</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">boolean</span> doReplay = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;201</td>  <td class="nbHitsCovered"><a title="Line 201: Conditional coverage 100% (2/2).">&nbsp;172</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 201: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (qExec == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;202</td>  <td class="nbHitsCovered">&nbsp;169</td>  <td class="src"><pre class="src">&nbsp;                        myQExec = <span class="keyword">new</span> QExecution(ExecType.execute);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;203</td>  <td class="nbHitsCovered">&nbsp;169</td>  <td class="src"><pre class="src">&nbsp;                        ((IIntDomainAccess)<span class="keyword">this</span>.domainAccess).getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;204</td>  <td class="nbHitsCovered">&nbsp;169</td>  <td class="src"><pre class="src">&nbsp;                                .setQExecution(myQExec);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;205</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;206</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">try</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;207</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                        executeInternal(<span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;208</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                } <span class="keyword">catch</span>(RuntimeException e) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;209</td>  <td class="nbHitsUncovered"><a title="Line 209: Conditional coverage 50% (2/4) [each condition: 50%, 50%].">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 209: Conditional coverage 50% (2/4) [each condition: 50%, 50%].">                        <span class="keyword">if</span> (myQExec != <span class="keyword">null</span> &amp;&amp; isReplayQuery(e))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;210</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                doReplay = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;211</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;212</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">throw</span> e;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;213</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                } <span class="keyword">finally</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;214</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                        CurrentDomain.setDomainLabel(pLab);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;215</td>  <td class="nbHitsCovered"><a title="Line 215: Conditional coverage 100% (2/2).">&nbsp;172</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 215: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (qExec == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;216</td>  <td class="nbHitsCovered">&nbsp;169</td>  <td class="src"><pre class="src">&nbsp;                                ((IIntDomainAccess)<span class="keyword">this</span>.domainAccess).getInternalDomainAccess().setQExecution(<span class="keyword">null</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;217</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                }</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;218</td>  <td class="nbHitsCovered"><a title="Line 218: Conditional coverage 100% (2/2).">&nbsp;172</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 218: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (doReplay)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;219</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        replayQuery(myQExec);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;220</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;221</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;222</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;223</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * Execute the count query</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;224</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;225</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">void</span> executeCount() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;226</td>  <td class="nbHitsUncovered"><a title="Line 226: Conditional coverage 50% (1/2).">&nbsp;9</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 226: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (hasBeenReplayed()) { <span class="comment">// delegate to the replayed query</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;227</td>  <td class="nbHitsUncovered"><a title="Line 227: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 227: Conditional coverage 0% (0/2).">                        <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext.countResult == <span class="keyword">null</span>) <span class="comment">// only dom query has been executed</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;228</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">this</span>.recordedQueryContext.countResult =</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;229</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        InternalAccess.getDomainQuery(<span class="keyword">this</span>.recordedQueryContext.queryResult)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;230</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                .executeCount();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;231</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">return</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;232</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;233</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                String pLab = ((IIntDomainAccess)domainAccess).getInternalDomainAccess().setDomainLabel();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;234</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                QExecution qExec = ((IIntDomainAccess)<span class="keyword">this</span>.domainAccess).getInternalDomainAccess().getQExecution();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;235</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                QExecution myQExec = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;236</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">boolean</span> doReplay = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;237</td>  <td class="nbHitsCovered"><a title="Line 237: Conditional coverage 100% (2/2).">&nbsp;9</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 237: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (qExec == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;238</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                        myQExec = <span class="keyword">new</span> QExecution(ExecType.executeCount);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;239</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                        ((IIntDomainAccess)<span class="keyword">this</span>.domainAccess).getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;240</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                .setQExecution(myQExec);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;241</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;242</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">try</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;243</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                        executeInternal(<span class="keyword">true</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;244</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                } <span class="keyword">catch</span>(RuntimeException e) {</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;245</td>  <td class="nbHitsUncovered"><a title="Line 245: Conditional coverage 0% (0/4) [each condition: 0%, 0%].">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 245: Conditional coverage 0% (0/4) [each condition: 0%, 0%].">                        <span class="keyword">if</span> (myQExec != <span class="keyword">null</span> &amp;&amp; isReplayQuery(e))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;246</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                doReplay = <span class="keyword">true</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;247</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;248</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">throw</span> e;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;249</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                } <span class="keyword">finally</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;250</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                        CurrentDomain.setDomainLabel(pLab);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;251</td>  <td class="nbHitsCovered"><a title="Line 251: Conditional coverage 100% (2/2).">&nbsp;9</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 251: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (qExec == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;252</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                ((IIntDomainAccess)<span class="keyword">this</span>.domainAccess).getInternalDomainAccess().setQExecution(<span class="keyword">null</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;253</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                }</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;254</td>  <td class="nbHitsUncovered"><a title="Line 254: Conditional coverage 50% (1/2).">&nbsp;9</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 254: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (doReplay)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;255</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        replayQuery(myQExec);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;256</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;257</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;258</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;259</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * answer true if this query has been replayed and therefore contains the replayed query result</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;260</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;261</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;262</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">boolean</span> hasBeenReplayed() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;263</td>  <td class="nbHitsCovered"><a title="Line 263: Conditional coverage 100% (2/2).">&nbsp;411</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 263: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;264</td>  <td class="nbHitsCovered"><a title="Line 264: Conditional coverage 100% (2/2).">&nbsp;804</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 264: Conditional coverage 100% (2/2).">                        <span class="keyword">return</span> <span class="keyword">this</span>.recordedQueryContext.queryResult != <span class="keyword">null</span> ||</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;265</td>  <td class="nbHitsUncovered"><a title="Line 265: Conditional coverage 50% (1/2).">&nbsp;400</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 265: Conditional coverage 50% (1/2).">                                        <span class="keyword">this</span>.recordedQueryContext.countResult != <span class="keyword">null</span>;</a></span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;266</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;267</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;268</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;269</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;270</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">void</span> replayQuery(QExecution myQExec) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;271</td>  <td class="nbHitsUncovered"><a title="Line 271: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 271: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;272</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        RecordedQueryPlayer qp = <span class="keyword">new</span> RecordedQueryPlayer();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;273</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        AbstractDomainQuery q;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;274</td>  <td class="nbHitsCovered"><a title="Line 274: Conditional coverage 100% (2/2).">&nbsp;2</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 274: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext.recordedQuery.isGeneric())</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;275</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                q = qp.replayGenericQuery(<span class="keyword">this</span>.recordedQueryContext.recordedQuery, domainAccess.getGenericDomainAccess());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;276</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;277</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                q = qp.replayQuery(<span class="keyword">this</span>.recordedQueryContext.recordedQuery, domainAccess);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;278</td>  <td class="nbHitsUncovered"><a title="Line 278: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 278: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (myQExec.geExecType() == ExecType.execute)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;279</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.recordedQueryContext.queryResult = q.execute();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;280</td>  <td class="nbHitsUncovered"><a title="Line 280: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 280: Conditional coverage 0% (0/2).">                        <span class="keyword">else</span> <span class="keyword">if</span> (myQExec.geExecType() == ExecType.executeCount)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;281</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">this</span>.recordedQueryContext.countResult = q.executeCount();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;282</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;283</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;284</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;285</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">boolean</span> isReplayQuery(Throwable e) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;286</td>  <td class="nbHitsUncovered"><a title="Line 286: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 286: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (e <span class="keyword">instanceof</span> JcResultException) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;287</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcError&gt; errs = ((JcResultException)e).getErrors();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;288</td>  <td class="nbHitsUncovered"><a title="Line 288: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 288: Conditional coverage 50% (1/2).">                        <span class="keyword">for</span> (JcError err : errs) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;289</td>  <td class="nbHitsUncovered"><a title="Line 289: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 289: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (err.getCodeOrType().equals(QExecution.REPLAY_QUERY))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;290</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;291</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        }</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;292</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;293</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;294</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;295</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;296</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">void</span> executeInternal(<span class="keyword">boolean</span> execCount) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;297</td>  <td class="nbHitsCovered"><a title="Line 297: Conditional coverage 100% (2/2).">&nbsp;181</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 297: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;298</td>  <td class="nbHitsCovered">&nbsp;177</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.recordedQueryContext.queryCompleted();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;299</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                Boolean br_old = QueryRecorder.blockRecording.get();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;300</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">try</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;301</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        QueryRecorder.blockRecording.set(Boolean.TRUE);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;302</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        QueryContext context = <span class="keyword">new</span> QueryContext(execCount);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;303</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        QueryBuilder qb = <span class="keyword">new</span> QueryBuilder();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;304</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcQuery&gt; queries = qb.buildQueries(context);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;305</td>  <td class="nbHitsCovered"><a title="Line 305: Conditional coverage 100% (2/2).">&nbsp;181</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 305: Conditional coverage 100% (2/2).">                        Util.printQueries(queries, execCount ? QueryToObserve.COUNT_QUERY : QueryToObserve.DOM_QUERY, Format.PRETTY_1);</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;306</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcQueryResult&gt; results = ((IIntDomainAccess)domainAccess).getInternalDomainAccess().</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;307</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                        execute(queries);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;308</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcError&gt; errors = Util.collectErrors(results);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;309</td>  <td class="nbHitsCovered"><a title="Line 309: Conditional coverage 100% (2/2).">&nbsp;181</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 309: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (errors.size() &gt; 0) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;310</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                QueryRecorder.blockRecording.set(br_old);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;311</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">throw</span> <span class="keyword">new</span> JcResultException(errors);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;312</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;313</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">//                Util.printResults(results, execCount ? "COUNT QUERY" : "DOM QUERY", Format.PRETTY_1);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;314</td>  <td class="nbHitsCovered"><a title="Line 314: Conditional coverage 100% (2/2).">&nbsp;179</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 314: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (context.execCount) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;315</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                qb.extractCounts(results, context.resultsPerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;316</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.countResult = context;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;317</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;318</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                                qb.extractUniqueIds(results, context.resultsPerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;319</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                                context.queryExecuted();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;320</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.queryResult = context;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;321</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;322</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                } <span class="keyword">finally</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;323</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        QueryRecorder.blockRecording.set(br_old);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;324</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;325</td>  <td class="nbHitsCovered">&nbsp;179</td>  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;326</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;327</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> MappingInfo getMappingInfo() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;328</td>  <td class="nbHitsCovered"><a title="Line 328: Conditional coverage 100% (2/2).">&nbsp;10923</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 328: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.mappingInfo == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;329</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.mappingInfo = <span class="keyword">new</span> MappingInfo();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;330</td>  <td class="nbHitsCovered">&nbsp;10923</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> <span class="keyword">this</span>.mappingInfo;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;331</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;332</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;333</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> List&lt;IASTObject&gt; getExpressionsFor(DomainObjectMatch&lt;?&gt; dom, List&lt;IASTObject&gt; astObjs) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;334</td>  <td class="nbHitsCovered">&nbsp;25</td>  <td class="src"><pre class="src">&nbsp;                QueryBuilder.ExpressionsPerDOM xpds = <span class="keyword">new</span> QueryBuilder().buildExpressionsPerDOM(dom, astObjs, 0);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;335</td>  <td class="nbHitsCovered">&nbsp;25</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> xpds.xPressions;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;336</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;337</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;338</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;339</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; loadResult(DomainObjectMatch&lt;T&gt; match) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;340</td>  <td class="nbHitsCovered"><a title="Line 340: Conditional coverage 100% (2/2).">&nbsp;217</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 340: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (APIAccess.isPageChanged(match)) <span class="comment">// need to execute the query</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;341</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                        execute();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;342</td>  <td class="nbHitsUncovered"><a title="Line 342: Conditional coverage 50% (1/2).">&nbsp;217</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 342: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.queryResult == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;343</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"query was not executed, call execute() on DomainQuery"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;344</td>  <td class="nbHitsCovered">&nbsp;217</td>  <td class="src"><pre class="src">&nbsp;                List&lt;QueryContext.ResultsPerType&gt; resPerTypeList = <span class="keyword">this</span>.queryResult.resultsMap.get(match);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;345</td>  <td class="nbHitsUncovered"><a title="Line 345: Conditional coverage 50% (1/2).">&nbsp;217</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 345: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (resPerTypeList == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;346</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"DomainObjectMatch was not defined in this query"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;347</td>  <td class="nbHitsCovered">&nbsp;217</td>  <td class="src"><pre class="src">&nbsp;                Map&lt;Class&lt;?&gt;, List&lt;Long&gt;&gt; type2IdsMap = <span class="keyword">new</span> HashMap&lt;Class&lt;?&gt;, List&lt;Long&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;348</td>  <td class="nbHitsCovered">&nbsp;217</td>  <td class="src"><pre class="src">&nbsp;                List&lt;Long&gt; allIds = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;349</td>  <td class="nbHitsCovered">&nbsp;217</td>  <td class="src"><pre class="src">&nbsp;                List&lt;T&gt; ret = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;350</td>  <td class="nbHitsCovered"><a title="Line 350: Conditional coverage 100% (2/2).">&nbsp;217</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 350: Conditional coverage 100% (2/2).">                <span class="keyword">for</span> (QueryContext.ResultsPerType resPerType : resPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;351</td>  <td class="nbHitsCovered"><a title="Line 351: Conditional coverage 100% (2/2).">&nbsp;302</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 351: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (resPerType.jcPrimitive != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;352</td>  <td class="nbHitsUncovered"><a title="Line 352: Conditional coverage 50% (1/2).">&nbsp;5</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 352: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (ret == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;353</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                        ret = <span class="keyword">new</span> ArrayList&lt;T&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;354</td>  <td class="nbHitsUncovered"><a title="Line 354: Conditional coverage 50% (1/2).">&nbsp;5</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 354: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (resPerType.simpleValues != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;355</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                        ret.addAll((java.util.Collection&lt;? <span class="keyword">extends</span> T&gt;) resPerType.simpleValues);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;356</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;357</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;Long&gt; ids = type2IdsMap.get(resPerType.type);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;358</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">boolean</span> addList = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;359</td>  <td class="nbHitsUncovered"><a title="Line 359: Conditional coverage 50% (1/2).">&nbsp;297</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 359: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (ids == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;360</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                        ids = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;361</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                        addList = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;362</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;363</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                ids.addAll(resPerType.ids);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;364</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                allIds.addAll(resPerType.ids);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;365</td>  <td class="nbHitsCovered"><a title="Line 365: Conditional coverage 100% (2/2).">&nbsp;297</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 365: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (ids.isEmpty())</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;366</td>  <td class="nbHitsCovered">&nbsp;55</td>  <td class="src"><pre class="src">&nbsp;                                        addList = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;367</td>  <td class="nbHitsCovered"><a title="Line 367: Conditional coverage 100% (2/2).">&nbsp;297</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 367: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (addList)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;368</td>  <td class="nbHitsCovered">&nbsp;242</td>  <td class="src"><pre class="src">&nbsp;                                        type2IdsMap.put(resPerType.type, ids);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;369</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;370</td>  <td class="nbHitsCovered">&nbsp;302</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;371</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;372</td>  <td class="nbHitsCovered"><a title="Line 372: Conditional coverage 100% (2/2).">&nbsp;217</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 372: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (ret == <span class="keyword">null</span>) { <span class="comment">// not null in case of primitive values</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;373</td>  <td class="nbHitsCovered">&nbsp;212</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">long</span>[] idsArray = <span class="keyword">new</span> <span class="keyword">long</span>[allIds.size()];</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;374</td>  <td class="nbHitsCovered"><a title="Line 374: Conditional coverage 100% (2/2).">&nbsp;777</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 374: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; allIds.size(); i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;375</td>  <td class="nbHitsCovered">&nbsp;565</td>  <td class="src"><pre class="src">&nbsp;                                idsArray[i] = allIds.get(i).longValue();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;376</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;377</td>  <td class="nbHitsCovered">&nbsp;212</td>  <td class="src"><pre class="src">&nbsp;                        ret = ((IIntDomainAccess)domainAccess).getInternalDomainAccess().</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;378</td>  <td class="nbHitsCovered">&nbsp;212</td>  <td class="src"><pre class="src">&nbsp;                                loadByIds(APIAccess.getDomainObjectType(match), type2IdsMap, -1, idsArray);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;379</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;380</td>  <td class="nbHitsCovered">&nbsp;217</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;381</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;382</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;383</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;384</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; loadReplayedResult(DomainObjectMatch&lt;T&gt; match) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;385</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                DomainObjectMatch&lt;?&gt; matching = <span class="keyword">this</span>.recordedQueryContext.findMatchingTo(match);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;386</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                List&lt;T&gt; ret = (List&lt;T&gt;) <span class="keyword">this</span>.recordedQueryContext.queryResult.resultOf(matching, <span class="keyword">true</span>); <span class="comment">// force reload</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;387</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;388</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;389</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;390</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">long</span> getCountResult(DomainObjectMatch&lt;?&gt; match) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;391</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">long</span> res = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;392</td>  <td class="nbHitsUncovered"><a title="Line 392: Conditional coverage 50% (1/2).">&nbsp;11</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 392: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.countResult == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;393</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"query was not executed, call executeCount() on DomainQuery"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;394</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                List&lt;QueryContext.ResultsPerType&gt; resPerTypeList = <span class="keyword">this</span>.countResult.resultsMap.get(match);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;395</td>  <td class="nbHitsUncovered"><a title="Line 395: Conditional coverage 50% (1/2).">&nbsp;11</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 395: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (resPerTypeList == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;396</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"DomainObjectMatch was not defined in this query"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;397</td>  <td class="nbHitsCovered"><a title="Line 397: Conditional coverage 100% (2/2).">&nbsp;11</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 397: Conditional coverage 100% (2/2).">                <span class="keyword">for</span> (QueryContext.ResultsPerType resPerType : resPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;398</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                        res = res + resPerType.count;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;399</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;400</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> res;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;401</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;402</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;403</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">long</span> getReplayedCountResult(DomainObjectMatch&lt;?&gt; match) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;404</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                DomainObjectMatch&lt;?&gt; matching = <span class="keyword">this</span>.recordedQueryContext.findMatchingTo(match);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;405</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">return</span> <span class="keyword">this</span>.recordedQueryContext.countResult.countOf(matching);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;406</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;407</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;408</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> List&lt;Long&gt; getIdsFor(DomainObjectMatch&lt;?&gt; match, Class&lt;?&gt; type) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;409</td>  <td class="nbHitsUncovered"><a title="Line 409: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 409: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (APIAccess.isPageChanged(match)) <span class="comment">// need to execute the query</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;410</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        execute();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;411</td>  <td class="nbHitsUncovered"><a title="Line 411: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 411: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.queryResult == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;412</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"query was not executed, call execute() on DomainQuery"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;413</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                List&lt;QueryContext.ResultsPerType&gt; resPerTypeList = <span class="keyword">this</span>.queryResult.resultsMap.get(match);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;414</td>  <td class="nbHitsUncovered"><a title="Line 414: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 414: Conditional coverage 50% (1/2).">                <span class="keyword">if</span> (resPerTypeList == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;415</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"DomainObjectMatch was not defined in this query"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;416</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                List&lt;Long&gt; allIds = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;417</td>  <td class="nbHitsUncovered"><a title="Line 417: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 417: Conditional coverage 50% (1/2).">                <span class="keyword">for</span> (QueryContext.ResultsPerType resPerType : resPerTypeList) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;418</td>  <td class="nbHitsUncovered"><a title="Line 418: Conditional coverage 50% (2/4) [each condition: 50%, 50%].">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 418: Conditional coverage 50% (2/4) [each condition: 50%, 50%].">                        <span class="keyword">if</span> (resPerType.type == type &amp;&amp; resPerType.jcPrimitive == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;419</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// not a primitive</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;420</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                allIds.addAll(resPerType.ids);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;421</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;422</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;423</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                }</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;424</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> allIds;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;425</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;426</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;427</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> QueryContext getQueryResult() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;428</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> queryResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;429</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;430</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;431</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> QueryContext loadCountResultIfNeeded() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;432</td>  <td class="nbHitsCovered"><a title="Line 432: Conditional coverage 100% (2/2).">&nbsp;5</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 432: Conditional coverage 100% (2/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.countResult == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;433</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        executeCount();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;434</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;435</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">return</span> <span class="keyword">this</span>.countResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;436</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;437</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;438</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">void</span> recordQuery(RecordedQuery rq, AbstractDomainQuery q) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;439</td>  <td class="nbHitsUncovered"><a title="Line 439: Conditional coverage 0% (0/2).">&nbsp;214</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 439: Conditional coverage 0% (0/2).">                <span class="keyword">this</span>.recordedQueryContext = <span class="keyword">new</span> RecordedQueryContext(rq,</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;440</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                rq != <span class="keyword">null</span> ? QueryRecorder.getQueriesPerThread() : <span class="keyword">null</span>,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;441</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                q);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;442</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;        }</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;443</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;444</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">void</span> replayQuery(ReplayedQueryContext rqc) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;445</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">this</span>.replayedQueryContext = rqc;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;446</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;        }</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;447</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;448</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;449</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * Answer the context containing DomainObjectMatch(es) of a replayed query.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;450</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * &lt;br/&gt;Answer null, if this is not a replayed query.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;451</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;452</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;453</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> ReplayedQueryContext getReplayedQueryContext() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;454</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">return</span> replayedQueryContext;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;455</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;456</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;457</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;458</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * Answer the recorded query. May return null.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;459</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;460</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;461</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> RecordedQuery getRecordedQuery() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;462</td>  <td class="nbHitsUncovered"><a title="Line 462: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 462: Conditional coverage 0% (0/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;463</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">return</span> <span class="keyword">this</span>.recordedQueryContext.recordedQuery;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;464</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;465</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;466</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;467</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;468</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * answer a map containing DomainObjectMatch to id entries</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;469</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;470</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;471</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> Map&lt;Object, String&gt; getRecordedQueryObjects() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;472</td>  <td class="nbHitsUncovered"><a title="Line 472: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 472: Conditional coverage 0% (0/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;473</td>  <td class="nbHitsUncovered"><a title="Line 473: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 473: Conditional coverage 0% (0/2).">                        <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext.object2IdMap != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;474</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">return</span> <span class="keyword">this</span>.recordedQueryContext.object2IdMap;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;475</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;476</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">return</span> <span class="keyword">this</span>.recordedQueryContext.queriesPerThread.getDOM2IdMap(</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;477</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">this</span>.recordedQueryContext.domainQuery);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;478</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;479</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;480</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;481</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;482</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;483</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * If the query was created from a stored state, not if it was replayed because of an optimistic locking conflict,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;484</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * then 'deleteReplayedQueryContext' is set to true and the replayedQueryContext is deleted.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;485</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * After that the query is in the same state as when programmatically created for the first time.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;486</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @param deleteReplayedQueryContext</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;487</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         * @return true if queryCompleted was actually called</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;488</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;489</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">boolean</span> queryCreationCompleted(<span class="keyword">boolean</span> deleteReplayedQueryContext) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;490</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">boolean</span> compl = <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;491</td>  <td class="nbHitsUncovered"><a title="Line 491: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 491: Conditional coverage 0% (0/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;492</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">this</span>.recordedQueryContext.queryCompleted();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;493</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        compl = <span class="keyword">true</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;494</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;495</td>  <td class="nbHitsUncovered"><a title="Line 495: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 495: Conditional coverage 0% (0/2).">                <span class="keyword">if</span> (deleteReplayedQueryContext)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;496</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">this</span>.replayedQueryContext = <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;497</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">return</span> compl;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;498</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;499</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;500</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        @Override</pre></td></tr>
<tr>  <td class="numLine">&nbsp;501</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="keyword">protected</span> <span class="keyword">void</span> finalize() <span class="keyword">throws</span> Throwable {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;502</td>  <td class="nbHitsUncovered"><a title="Line 502: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 502: Conditional coverage 0% (0/2).">                <span class="keyword">if</span> (<span class="keyword">this</span>.recordedQueryContext != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;503</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">this</span>.recordedQueryContext.queryCompleted();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;504</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                <span class="keyword">super</span>.finalize();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;505</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;        }</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;506</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;507</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;508</td>  <td class="nbHitsCovered">&nbsp;5023</td>  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">class</span> QueryBuilder {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;509</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;510</td>  <td class="nbHitsCovered">&nbsp;206</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> ClauseBuilder clauseBuilder = <span class="keyword">new</span> ClauseBuilder();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;511</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;512</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                List&lt;JcQuery&gt; buildQueries(QueryContext context) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;513</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;ClausesPerType&gt; clausesPerTypeList = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;514</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;ExpressionsPerDOM&gt; xpressionsPerDom = <span class="keyword">new</span> ArrayList&lt;ExpressionsPerDOM&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;515</td>  <td class="nbHitsCovered"><a title="Line 515: Conditional coverage 100% (2/2).">&nbsp;181</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 515: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; dom : domainObjectMatches) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;516</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                ExpressionsPerDOM xpd = buildExpressionsPerDOM(dom, astObjects, 0);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;517</td>  <td class="nbHitsUncovered"><a title="Line 517: Conditional coverage 50% (1/2).">&nbsp;460</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 517: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (xpd != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;518</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                        xpressionsPerDom.add(xpd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;519</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;520</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;521</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        xpressionsPerDom = orderByDependencies(xpressionsPerDom);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;522</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;523</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        ClauseBuilderContext cbContext = <span class="keyword">new</span> ClauseBuilderContext(<span class="keyword">new</span> ArrayList&lt;String&gt;());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;524</td>  <td class="nbHitsCovered"><a title="Line 524: Conditional coverage 100% (2/2).">&nbsp;181</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 524: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (ExpressionsPerDOM xpd : xpressionsPerDom) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;525</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                clausesPerTypeList.addAll(<span class="keyword">this</span>.clauseBuilder.buildClausesFor(xpd, cbContext, context.execCount));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;526</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;527</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;528</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> buildQueriesInt(clausesPerTypeList, context, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;529</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;530</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;531</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;532</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param dom</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;533</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param astObjs</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;534</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param mode 0 ... all expressions, 1 ... no count expressions, 2 ... count expressions only</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;535</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;536</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;537</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> ExpressionsPerDOM buildExpressionsPerDOM(DomainObjectMatch&lt;?&gt; dom, List&lt;IASTObject&gt; astObjs,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;538</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> mode) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;539</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        ExpressionsPerDOM ret = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;540</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        StateContext stateContext = findXpressionsFor(dom, astObjs, mode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;541</td>  <td class="nbHitsCovered"><a title="Line 541: Conditional coverage 100% (2/2).">&nbsp;649</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 541: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (stateContext.state == State.HAS_XPRESSION) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;542</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                                ret = <span class="keyword">new</span> ExpressionsPerDOM(dom, stateContext.candidates,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;543</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                                                stateContext.dependencies);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;544</td>  <td class="nbHitsUncovered"><a title="Line 544: Conditional coverage 50% (1/2).">&nbsp;146</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 544: Conditional coverage 50% (1/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (stateContext.state == State.INIT) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;545</td>  <td class="nbHitsCovered">&nbsp;146</td>  <td class="src"><pre class="src">&nbsp;                                stateContext.candidates.clear();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;546</td>  <td class="nbHitsCovered">&nbsp;146</td>  <td class="src"><pre class="src">&nbsp;                                ret = <span class="keyword">new</span> ExpressionsPerDOM(dom, stateContext.candidates,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;547</td>  <td class="nbHitsCovered">&nbsp;146</td>  <td class="src"><pre class="src">&nbsp;                                                stateContext.dependencies);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;548</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;549</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;550</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;551</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;552</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;JcQuery&gt; buildQueriesInt(List&lt;ClausesPerType&gt; clausesPerTypeList,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;553</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                QueryContext context, ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;554</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcQuery&gt; ret = <span class="keyword">new</span> ArrayList&lt;JcQuery&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;555</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">int</span> queryIndex = -1;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;556</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// if split into multiple queries, due to use of LIMIT, SKIP,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;557</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// which must be attached to a RETURN clause</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;558</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">int</span> startIdx = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;559</td>  <td class="nbHitsCovered"><a title="Line 559: Conditional coverage 100% (2/2).">&nbsp;401</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 559: Conditional coverage 100% (2/2).">                        <span class="keyword">while</span>(startIdx &lt; clausesPerTypeList.size()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;560</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                queryIndex++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;561</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IClause&gt; clauses = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;562</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;ClausesPerType&gt; toReturn = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;563</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;ClausesPerType&gt; added = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;564</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                OrderClausesHolder orderClausesHolder = <span class="keyword">new</span> OrderClausesHolder();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;565</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">boolean</span> lastIsWith = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;566</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> i;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;567</td>  <td class="nbHitsCovered"><a title="Line 567: Conditional coverage 100% (2/2).">&nbsp;1420</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 567: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (i = startIdx; i &lt; clausesPerTypeList.size(); i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;568</td>  <td class="nbHitsCovered">&nbsp;1243</td>  <td class="src"><pre class="src">&nbsp;                                        ClausesPerType cpt = clausesPerTypeList.get(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;569</td>  <td class="nbHitsCovered"><a title="Line 569: Conditional coverage 100% (2/2).">&nbsp;1243</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 569: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cpt.collectionClauses != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;570</td>  <td class="nbHitsCovered">&nbsp;112</td>  <td class="src"><pre class="src">&nbsp;                                                cpt.clauses = <span class="keyword">null</span>; <span class="comment">// reset for collection clauses</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;571</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                <span class="comment">// to ensure accurate with clauses</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;572</td>  <td class="nbHitsCovered"><a title="Line 572: Conditional coverage 100% (2/2).">&nbsp;1243</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 572: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cpt.valid) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;573</td>  <td class="nbHitsCovered">&nbsp;722</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">boolean</span> startNewQueryAfterThis = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;574</td>  <td class="nbHitsCovered"><a title="Line 574: Conditional coverage 100% (2/2).">&nbsp;722</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 574: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (!context.execCount) { <span class="comment">// execute full query (not count query)</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;575</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// we need to split up in multiple queries</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;576</td>  <td class="nbHitsCovered"><a title="Line 576: Conditional coverage 100% (2/2).">&nbsp;670</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 576: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (cpt.needDistinctQuery()) { <span class="comment">// need to add it to the RETURN clause</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;577</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                                                <span class="comment">// does not work at the WITH clause</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;578</td>  <td class="nbHitsCovered"><a title="Line 578: Conditional coverage 100% (2/2).">&nbsp;21</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 578: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (i &gt; startIdx) { <span class="comment">// start a new query beginning with this one</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;579</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                                        startIdx = i;     <span class="comment">// at the next run</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;580</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                                        <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;581</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;582</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                                orderClausesHolder.checkForOrdeClause(cpt);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;583</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                                orderClausesHolder.whereNot = WHERE.NOT().valueOf(cpt.node).IS_NULL();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;584</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// i == startIdx (must be)</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;585</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// start a new query after this one</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;586</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                                startIdx = i + 1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;587</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                                startNewQueryAfterThis = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;588</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;589</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                                                orderClausesHolder.checkForOrdeClause(cpt);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;590</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;591</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;592</td>  <td class="nbHitsCovered"><a title="Line 592: Conditional coverage 100% (2/2).">&nbsp;716</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 592: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (cpt.startCountSelectXpr) { <span class="comment">// we may need a distinct query.</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;593</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// A count expression is based on a traversal expression, which</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;594</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// will have been created already. It spoils the the traversal clones</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;595</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// for the select expression. To avoid this, we need a distinct query.</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;596</td>  <td class="nbHitsCovered"><a title="Line 596: Conditional coverage 100% (2/2).">&nbsp;44</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 596: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (i &gt; startIdx) { <span class="comment">// start a new query beginning with this one</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;597</td>  <td class="nbHitsCovered">&nbsp;22</td>  <td class="src"><pre class="src">&nbsp;                                                                startIdx = i;     <span class="comment">// at the next run</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;598</td>  <td class="nbHitsCovered">&nbsp;22</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;599</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;600</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;601</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;602</td>  <td class="nbHitsCovered">&nbsp;1388</td>  <td class="src"><pre class="src">&nbsp;                                                cpt.addDependencyClauses(clauses, added, orderClausesHolder,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;603</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                                cbContext, context.execCount);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;604</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                clauses.addAll(cpt.getClauses(added));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;605</td>  <td class="nbHitsCovered"><a title="Line 605: Conditional coverage 100% (2/2).">&nbsp;694</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 605: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (APIAccess.isPartOfReturn(cpt.domainObjectMatch)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;606</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                                        toReturn.add(cpt);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;607</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                                        QueryContext.ResultsPerType resPerType = context.addFor(cpt, context.execCount);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;608</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                                        context.resultsPerType.add(resPerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;609</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                                        resPerType.queryIndex = queryIndex;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;610</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;611</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                added.add(cpt);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;612</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                lastIsWith = cpt.lastIsWith;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;613</td>  <td class="nbHitsCovered"><a title="Line 613: Conditional coverage 100% (2/2).">&nbsp;694</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 613: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (startNewQueryAfterThis)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;614</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;615</td>  <td class="nbHitsCovered">&nbsp;679</td>  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;616</td>  <td class="nbHitsCovered">&nbsp;521</td>  <td class="src"><pre class="src">&nbsp;                                                context.addEmptyFor(cpt); <span class="comment">// did not produce a result</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;617</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;618</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;619</td>  <td class="nbHitsCovered"><a title="Line 619: Conditional coverage 100% (2/2).">&nbsp;220</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 619: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (i == clausesPerTypeList.size()) <span class="comment">// we are finished</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;620</td>  <td class="nbHitsCovered">&nbsp;177</td>  <td class="src"><pre class="src">&nbsp;                                        startIdx = i;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;621</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;622</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IClause&gt; returnClauses = buildReturnClauses(toReturn, context.execCount);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;623</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// if we need to add WITH clauses,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;624</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// add only those which will be returned</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;625</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                orderClausesHolder.addClauses(clauses, lastIsWith, toReturn);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;626</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                clauses.addAll(returnClauses);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;627</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;628</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                IClause[] clausesArray = clauses.toArray(<span class="keyword">new</span> IClause[clauses.size()]);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;629</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                JcQuery query = <span class="keyword">new</span> JcQuery();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;630</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                query.setClauses(clausesArray);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;631</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                                ret.add(query);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;632</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;633</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;634</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;635</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;636</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;IClause&gt; buildReturnClauses(List&lt;ClausesPerType&gt; toReturn,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;637</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">boolean</span> isCountQuery) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;638</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;IClause&gt; ret = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;639</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">int</span> idx = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;640</td>  <td class="nbHitsCovered"><a title="Line 640: Conditional coverage 100% (2/2).">&nbsp;220</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 640: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (ClausesPerType cpt : toReturn) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;641</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                JcNode n = cpt.node;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;642</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                RSortable returnClause;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;643</td>  <td class="nbHitsCovered"><a title="Line 643: Conditional coverage 100% (2/2).">&nbsp;688</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 643: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (isCountQuery)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;644</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        returnClause = RETURN.count().DISTINCT().value(n).AS(<span class="keyword">this</span>.getJcNumber(countPrefix, n));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;645</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;646</td>  <td class="nbHitsCovered"><a title="Line 646: Conditional coverage 100% (2/2).">&nbsp;636</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 646: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cpt.isCollectExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;647</td>  <td class="nbHitsCovered"><a title="Line 647: Conditional coverage 100% (2/2).">&nbsp;7</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 647: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (idx == 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;648</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                        returnClause = RETURN.DISTINCT().value(cpt.node);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;649</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;650</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                        returnClause = RETURN.value(cpt.node);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;651</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;652</td>  <td class="nbHitsCovered"><a title="Line 652: Conditional coverage 100% (2/2).">&nbsp;629</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 652: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (idx == 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;653</td>  <td class="nbHitsCovered">&nbsp;205</td>  <td class="src"><pre class="src">&nbsp;                                                        returnClause = RETURN.DISTINCT().value(n.id()).AS(<span class="keyword">this</span>.getJcNumber(idPrefix, n));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;654</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;655</td>  <td class="nbHitsCovered">&nbsp;424</td>  <td class="src"><pre class="src">&nbsp;                                                        returnClause = RETURN.value(n.id()).AS(<span class="keyword">this</span>.getJcNumber(idPrefix, n));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;656</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;657</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// add skip and limit if required</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;658</td>  <td class="nbHitsCovered"><a title="Line 658: Conditional coverage 100% (2/2).">&nbsp;636</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 658: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cpt.pageOffset &gt; 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;659</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                returnClause = (RSortable)returnClause.SKIP(cpt.pageOffset);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;660</td>  <td class="nbHitsCovered"><a title="Line 660: Conditional coverage 100% (2/2).">&nbsp;636</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 660: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cpt.pageLength &gt;= 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;661</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                returnClause = (RSortable)returnClause.LIMIT(cpt.pageLength);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;662</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;663</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                ret.add(returnClause);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;664</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                idx++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;665</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;666</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;667</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;668</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;669</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">void</span> extractUniqueIds(List&lt;JcQueryResult&gt; results, List&lt;QueryContext.ResultsPerType&gt; resultsPerTypeList) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;670</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                        Set&lt;Long&gt; uniqueIds = <span class="keyword">new</span> LinkedHashSet&lt;Long&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;671</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                        Set&lt;Object&gt; simpleVals = <span class="keyword">new</span> LinkedHashSet&lt;Object&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;672</td>  <td class="nbHitsCovered"><a title="Line 672: Conditional coverage 100% (2/2).">&nbsp;170</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 672: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (QueryContext.ResultsPerType resPerType : resultsPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;673</td>  <td class="nbHitsCovered">&nbsp;634</td>  <td class="src"><pre class="src">&nbsp;                                uniqueIds.clear();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;674</td>  <td class="nbHitsCovered">&nbsp;634</td>  <td class="src"><pre class="src">&nbsp;                                simpleVals.clear();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;675</td>  <td class="nbHitsCovered">&nbsp;634</td>  <td class="src"><pre class="src">&nbsp;                                JcQueryResult result = results.get(resPerType.queryIndex);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;676</td>  <td class="nbHitsCovered"><a title="Line 676: Conditional coverage 100% (2/2).">&nbsp;634</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 676: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (MappingUtil.isSimpleType(resPerType.type)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;677</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                        flatten(result.resultOf(resPerType.jcPrimitive), simpleVals);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;678</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                        resPerType.simpleValues = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;679</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                        resPerType.simpleValues.addAll(simpleVals);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;680</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;681</td>  <td class="nbHitsCovered">&nbsp;627</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;BigDecimal&gt; idList = result.resultOf(resPerType.jcNumber);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;682</td>  <td class="nbHitsCovered"><a title="Line 682: Conditional coverage 100% (2/2).">&nbsp;627</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 682: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (BigDecimal bd : idList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;683</td>  <td class="nbHitsUncovered"><a title="Line 683: Conditional coverage 50% (1/2).">&nbsp;58231</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 683: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (bd != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;684</td>  <td class="nbHitsCovered">&nbsp;58231</td>  <td class="src"><pre class="src">&nbsp;                                                        uniqueIds.add(bd.longValue());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;685</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;686</td>  <td class="nbHitsCovered">&nbsp;58231</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;687</td>  <td class="nbHitsCovered">&nbsp;627</td>  <td class="src"><pre class="src">&nbsp;                                        resPerType.ids = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;688</td>  <td class="nbHitsCovered">&nbsp;627</td>  <td class="src"><pre class="src">&nbsp;                                        resPerType.ids.addAll(uniqueIds);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;689</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;690</td>  <td class="nbHitsCovered">&nbsp;634</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;691</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;692</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;693</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;694</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                @SuppressWarnings({ <span class="string">"unchecked"</span>, <span class="string">"rawtypes"</span> })</pre></td></tr>
<tr>  <td class="numLine">&nbsp;695</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> flatten(List&lt;?&gt; resultOf, Set&lt;Object&gt; simpleVals) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;696</td>  <td class="nbHitsCovered"><a title="Line 696: Conditional coverage 100% (2/2).">&nbsp;7</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 696: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (Object elem : resultOf) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;697</td>  <td class="nbHitsUncovered"><a title="Line 697: Conditional coverage 50% (1/2).">&nbsp;592</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 697: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (elem <span class="keyword">instanceof</span> List&lt;?&gt;)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;698</td>  <td class="nbHitsCovered">&nbsp;592</td>  <td class="src"><pre class="src">&nbsp;                                        simpleVals.addAll((java.util.Collection) elem);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;699</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;700</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        simpleVals.add(elem);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;701</td>  <td class="nbHitsCovered">&nbsp;592</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;702</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;703</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;704</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">void</span> extractCounts(List&lt;JcQueryResult&gt; results, List&lt;QueryContext.ResultsPerType&gt; resultsPerTypeList) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;705</td>  <td class="nbHitsCovered"><a title="Line 705: Conditional coverage 100% (2/2).">&nbsp;9</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 705: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (QueryContext.ResultsPerType resPerType : resultsPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;706</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                JcQueryResult result = results.get(resPerType.queryIndex);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;707</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;BigDecimal&gt; count = result.resultOf(resPerType.jcNumber);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;708</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                resPerType.count = count.get(0).longValue();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;709</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;710</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;711</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;712</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;713</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * may return null</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;714</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param cpt</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;715</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;716</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;717</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;OrderBy&gt; getOrderExpressionsFor(ClausesPerType cpt) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;718</td>  <td class="nbHitsCovered">&nbsp;805</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;OrderBy&gt; ret = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;719</td>  <td class="nbHitsCovered">&nbsp;805</td>  <td class="src"><pre class="src">&nbsp;                        OrderExpression oe = getOrderFor(cpt.domainObjectMatch);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;720</td>  <td class="nbHitsUncovered"><a title="Line 720: Conditional coverage 50% (1/2).">&nbsp;805</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 720: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (oe != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;721</td>  <td class="nbHitsCovered">&nbsp;805</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;OrderBy&gt; ocs = oe.getOrderCriterias();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;722</td>  <td class="nbHitsCovered"><a title="Line 722: Conditional coverage 100% (2/2).">&nbsp;805</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 722: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (OrderBy ob : ocs) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;723</td>  <td class="nbHitsCovered">&nbsp;168</td>  <td class="src"><pre class="src">&nbsp;                                        String attribName = ob.getAttributeName();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;724</td>  <td class="nbHitsCovered">&nbsp;168</td>  <td class="src"><pre class="src">&nbsp;                                        FieldMapping fm = getMappingInfo().getFieldMapping(attribName, cpt.domainObjectType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;725</td>  <td class="nbHitsCovered"><a title="Line 725: Conditional coverage 100% (2/2).">&nbsp;168</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 725: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (fm != <span class="keyword">null</span>) { <span class="comment">// field exists for type, so we can sort</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;726</td>  <td class="nbHitsCovered"><a title="Line 726: Conditional coverage 100% (2/2).">&nbsp;136</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 726: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (ret == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;727</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = <span class="keyword">new</span> ArrayList&lt;OrderBy&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;728</td>  <td class="nbHitsCovered">&nbsp;136</td>  <td class="src"><pre class="src">&nbsp;                                                ret.add(ob);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;729</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;730</td>  <td class="nbHitsCovered">&nbsp;168</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;731</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;732</td>  <td class="nbHitsCovered">&nbsp;805</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;733</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;734</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;735</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;ExpressionsPerDOM&gt; orderByDependencies(</pre></td></tr>
<tr>  <td class="numLine">&nbsp;736</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                List&lt;ExpressionsPerDOM&gt; xpressionsPerDom) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;737</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;ExpressionsPerDOM&gt; ordered = <span class="keyword">new</span> ArrayList&lt;ExpressionsPerDOM&gt;(xpressionsPerDom.size());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;738</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;ExpressionsPerDOM&gt; tryingToAdd = <span class="keyword">new</span> ArrayList&lt;ExpressionsPerDOM&gt;(xpressionsPerDom.size());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;739</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;740</td>  <td class="nbHitsCovered"><a title="Line 740: Conditional coverage 100% (2/2).">&nbsp;181</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 740: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (ExpressionsPerDOM xpd : xpressionsPerDom) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;741</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                addRecursive(xpd, xpressionsPerDom, ordered, tryingToAdd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;742</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;743</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;744</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ordered;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;745</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;746</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;747</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> addRecursive(ExpressionsPerDOM add, List&lt;ExpressionsPerDOM&gt; xpressionsPerDom,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;748</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                List&lt;ExpressionsPerDOM&gt; ordered, List&lt;ExpressionsPerDOM&gt; tryingToAdd) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;749</td>  <td class="nbHitsUncovered"><a title="Line 749: Conditional coverage 50% (1/2).">&nbsp;801</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 749: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (tryingToAdd.contains(add))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;750</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"circular dependencies in WHERE clauses"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;751</td>  <td class="nbHitsCovered"><a title="Line 751: Conditional coverage 100% (2/2).">&nbsp;801</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 751: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (ExpressionsPerDOM xp : tryingToAdd) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;752</td>  <td class="nbHitsCovered">&nbsp;353</td>  <td class="src"><pre class="src">&nbsp;                                xp.addDependencies(add.flattenedDependencies);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;753</td>  <td class="nbHitsCovered">&nbsp;353</td>  <td class="src"><pre class="src">&nbsp;                                xp.addDependency(add);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;754</td>  <td class="nbHitsCovered">&nbsp;353</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;755</td>  <td class="nbHitsUncovered"><a title="Line 755: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">&nbsp;801</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 755: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">                        <span class="keyword">if</span> (add.dependencies == <span class="keyword">null</span> || add.dependencies.isEmpty()) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;756</td>  <td class="nbHitsCovered"><a title="Line 756: Conditional coverage 100% (2/2).">&nbsp;404</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 756: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (!ordered.contains(add))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;757</td>  <td class="nbHitsCovered">&nbsp;238</td>  <td class="src"><pre class="src">&nbsp;                                        ordered.add(add);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;758</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;759</td>  <td class="nbHitsCovered"><a title="Line 759: Conditional coverage 100% (2/2).">&nbsp;397</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 759: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (!ordered.contains(add)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;760</td>  <td class="nbHitsCovered">&nbsp;222</td>  <td class="src"><pre class="src">&nbsp;                                        tryingToAdd.add(add);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;761</td>  <td class="nbHitsCovered"><a title="Line 761: Conditional coverage 100% (2/2).">&nbsp;222</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 761: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; dom : add.dependencies) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;762</td>  <td class="nbHitsCovered">&nbsp;341</td>  <td class="src"><pre class="src">&nbsp;                                                ExpressionsPerDOM xpd = getXprPerDom(dom, xpressionsPerDom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;763</td>  <td class="nbHitsCovered">&nbsp;341</td>  <td class="src"><pre class="src">&nbsp;                                                addRecursive(xpd, xpressionsPerDom, ordered, tryingToAdd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;764</td>  <td class="nbHitsCovered">&nbsp;341</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;765</td>  <td class="nbHitsCovered">&nbsp;222</td>  <td class="src"><pre class="src">&nbsp;                                        tryingToAdd.remove(add);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;766</td>  <td class="nbHitsCovered">&nbsp;222</td>  <td class="src"><pre class="src">&nbsp;                                        ordered.add(add);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;767</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;768</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;769</td>  <td class="nbHitsCovered">&nbsp;801</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;770</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;771</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> ExpressionsPerDOM getXprPerDom(DomainObjectMatch&lt;?&gt; dom,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;772</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                List&lt;ExpressionsPerDOM&gt; xpressionsPerDom) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;773</td>  <td class="nbHitsUncovered"><a title="Line 773: Conditional coverage 50% (1/2).">&nbsp;341</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 773: Conditional coverage 50% (1/2).">                        <span class="keyword">for</span> (ExpressionsPerDOM xpd : xpressionsPerDom) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;774</td>  <td class="nbHitsCovered"><a title="Line 774: Conditional coverage 100% (2/2).">&nbsp;794</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 774: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (xpd.domainObjectMatch.equals(dom))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;775</td>  <td class="nbHitsCovered">&nbsp;341</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> xpd;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;776</td>  <td class="nbHitsCovered">&nbsp;453</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;777</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;778</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;779</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;780</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> SkipsLimits calcSkipsLimits(DomainObjectMatch&lt;?&gt; dom, <span class="keyword">int</span> offset, <span class="keyword">int</span> len) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;781</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                        QueryContext cRes = loadCountResultIfNeeded();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;782</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;QueryContext.ResultsPerType&gt; rpts = cRes.resultsMap.get(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;783</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;Integer&gt; counts = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(rpts.size());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;784</td>  <td class="nbHitsCovered"><a title="Line 784: Conditional coverage 100% (2/2).">&nbsp;5</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 784: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (QueryContext.ResultsPerType rpt : rpts) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;785</td>  <td class="nbHitsCovered">&nbsp;10</td>  <td class="src"><pre class="src">&nbsp;                                counts.add((<span class="keyword">int</span>)rpt.count);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;786</td>  <td class="nbHitsCovered">&nbsp;10</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;787</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                        SkipsLimits slc = SkipLimitCalc.calcSkipsLimits(counts, offset, len);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;788</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> slc;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;789</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;790</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;791</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;792</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param value</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;793</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param op</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;794</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param paramPosition 1 or 2</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;795</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;796</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> testValidInOperation(Operator op,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;797</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> paramPosition, PredicateExpression pred) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;798</td>  <td class="nbHitsUncovered"><a title="Line 798: Conditional coverage 50% (1/2).">&nbsp;1890</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 798: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (pred.getValue_1() <span class="keyword">instanceof</span> Count) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;799</td>  <td class="nbHitsUncovered"><a title="Line 799: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 799: Conditional coverage 0% (0/2).">                                <span class="keyword">if</span> (!pred.isInCollectionExpression())</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;800</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"'COUNT' operation on a DomainObjectMatch is only valid within"</span> +</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;801</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="string">" a collection expression"</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;802</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;803</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;804</td>  <td class="nbHitsCovered"><a title="Line 804: Conditional coverage 100% (2/2).">&nbsp;1890</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 804: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (op == Operator.CONTAINS) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;805</td>  <td class="nbHitsUncovered"><a title="Line 805: Conditional coverage 50% (1/2).">&nbsp;136</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 805: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (pred.getValue_1() <span class="keyword">instanceof</span> Count)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;806</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"'CONTAINS' cannot be applied to COUNT on DomainObject(s)"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;807</td>  <td class="nbHitsCovered"><a title="Line 807: Conditional coverage 100% (2/2).">&nbsp;136</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 807: Conditional coverage 100% (2/2).">                                <span class="keyword">else</span> <span class="keyword">if</span> (!(pred.getValue_1() <span class="keyword">instanceof</span> JcCollection) &amp;&amp;</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;808</td>  <td class="nbHitsUncovered"><a title="Line 808: Conditional coverage 50% (1/2).">&nbsp;100</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 808: Conditional coverage 50% (1/2).">                                                !(pred.isInCollectionExpression() &amp;&amp;</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;809</td>  <td class="nbHitsUncovered"><a title="Line 809: Conditional coverage 50% (1/2).">&nbsp;100</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 809: Conditional coverage 50% (1/2).">                                                pred.getValue_1() <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt; &amp;&amp;</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;810</td>  <td class="nbHitsUncovered"><a title="Line 810: Conditional coverage 50% (1/2).">&nbsp;100</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 810: Conditional coverage 50% (1/2).">                                                pred.getValue_2() <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt;)) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;811</td>  <td class="nbHitsUncovered"><a title="Line 811: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 811: Conditional coverage 0% (0/2).">                                        <span class="keyword">if</span> (!(pred.getValue_1() <span class="keyword">instanceof</span> ValueElement))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;812</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"'CONTAINS' operation on two DomainObjectMatch(es) is only valid within"</span> +</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;813</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="string">" a collection expression"</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;814</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;815</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"'CONTAINS' operation can only be performed on a 'Collection Attribute'."</span> +</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;816</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="string">"\nUse .collectionAttribute() on the DomainObjectMatch to access the attribute for the 'CONTAINS' operation!"</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;817</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                } </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;818</td>  <td class="nbHitsCovered">&nbsp;136</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span>; <span class="comment">// valid</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;819</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;820</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;821</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        Object value;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;822</td>  <td class="nbHitsCovered"><a title="Line 822: Conditional coverage 100% (2/2).">&nbsp;1754</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 822: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (paramPosition == 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;823</td>  <td class="nbHitsCovered">&nbsp;877</td>  <td class="src"><pre class="src">&nbsp;                                value = pred.getValue_1();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;824</td>  <td class="nbHitsCovered"><a title="Line 824: Conditional coverage 100% (2/2).">&nbsp;877</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 824: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (value <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt;) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;825</td>  <td class="nbHitsUncovered"><a title="Line 825: Conditional coverage 25% (1/4) [each condition: 50%, 0%].">&nbsp;189</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 825: Conditional coverage 25% (1/4) [each condition: 50%, 0%].">                                        <span class="keyword">if</span> (!(op == Operator.IN || op == Operator.IS_NULL))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;826</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"invalid parameter 1 in WHERE clause ["</span> + op.name() + <span class="string">"]"</span>);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;827</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;828</td>  <td class="nbHitsUncovered"><a title="Line 828: Conditional coverage 50% (1/2).">&nbsp;877</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 828: Conditional coverage 50% (1/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (paramPosition == 2) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;829</td>  <td class="nbHitsCovered">&nbsp;877</td>  <td class="src"><pre class="src">&nbsp;                                value = pred.getValue_2();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;830</td>  <td class="nbHitsCovered"><a title="Line 830: Conditional coverage 100% (2/2).">&nbsp;877</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 830: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (value <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt;) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;831</td>  <td class="nbHitsUncovered"><a title="Line 831: Conditional coverage 50% (1/2).">&nbsp;189</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 831: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (op != Operator.IN)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;832</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"invalid parameter 2 in WHERE clause ["</span> + op.name() + <span class="string">"]"</span>);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;833</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;834</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;835</td>  <td class="nbHitsCovered">&nbsp;1754</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;836</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;837</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;JcNode&gt; collectNodes(DomainObjectMatch&lt;?&gt; dom, List&lt;String&gt; validNodes,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;838</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                Class&lt;?&gt; resultType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;839</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcNode&gt; ret = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;840</td>  <td class="nbHitsUncovered"><a title="Line 840: Conditional coverage 50% (1/2).">&nbsp;239</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 840: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (resultType != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;841</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                                JcNode n = APIAccess.getNodeForType(dom, resultType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;842</td>  <td class="nbHitsCovered"><a title="Line 842: Conditional coverage 100% (2/2).">&nbsp;239</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 842: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (n != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;843</td>  <td class="nbHitsCovered">&nbsp;237</td>  <td class="src"><pre class="src">&nbsp;                                        String nnm = ValueAccess.getName(n);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;844</td>  <td class="nbHitsCovered"><a title="Line 844: Conditional coverage 100% (2/2).">&nbsp;237</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 844: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (validNodes.contains(nnm))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;845</td>  <td class="nbHitsCovered">&nbsp;133</td>  <td class="src"><pre class="src">&nbsp;                                                ret.add(n);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;846</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;847</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;848</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                List&lt;JcNode&gt; nodes = APIAccess.getNodes((DomainObjectMatch&lt;?&gt;)dom);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;849</td>  <td class="nbHitsUncovered"><a title="Line 849: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 849: Conditional coverage 0% (0/2).">                                <span class="keyword">for</span>(JcNode n : nodes) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;850</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        String nnm = ValueAccess.getName(n);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;851</td>  <td class="nbHitsUncovered"><a title="Line 851: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 851: Conditional coverage 0% (0/2).">                                        <span class="keyword">if</span> (validNodes.contains(nnm))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;852</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                ret.add(n);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;853</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                }</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;854</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;855</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;856</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;857</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;858</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;859</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param val</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;860</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param validNodes if != null, use list to filter nodes</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;861</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @return a list of ValueElements</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;862</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;863</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;864</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;Object&gt; buildAllInstances(ValueElement ve, List&lt;String&gt; validNodes) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;865</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;Object&gt; ret = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;866</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;JcNode&gt; validFor = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;867</td>  <td class="nbHitsUncovered"><a title="Line 867: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 867: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (ve != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;868</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                ValueElement first = ValueAccess.findFirst(ve);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;869</td>  <td class="nbHitsUncovered"><a title="Line 869: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 869: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (first <span class="keyword">instanceof</span> JcNode) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;870</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                        String nodeName = ValueAccess.getName((JcNode)first);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;871</td>  <td class="nbHitsUncovered"><a title="Line 871: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 871: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (validNodes.contains(nodeName))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;872</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                ret.add(ve);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;873</td>  <td class="nbHitsUncovered"><a title="Line 873: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 873: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (validFor == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;874</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                Object hint = ValueAccess.getAnyHint(ve, APIAccess.hintKey_validNodes);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;875</td>  <td class="nbHitsUncovered"><a title="Line 875: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 875: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (hint <span class="keyword">instanceof</span> List&lt;?&gt;) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;876</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                        validFor = (List&lt;JcNode&gt;) hint; </pre></td></tr>
<tr>  <td class="numLine">&nbsp;877</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;878</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;879</td>  <td class="nbHitsCovered"><a title="Line 879: Conditional coverage 100% (2/2).">&nbsp;8</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 879: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span>(JcNode n : validFor) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;880</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                                String nnm = ValueAccess.getName(n);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;881</td>  <td class="nbHitsCovered"><a title="Line 881: Conditional coverage 100% (2/2).">&nbsp;12</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 881: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (!nodeName.equals(nnm)) { <span class="comment">// need to clone</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;882</td>  <td class="nbHitsUncovered"><a title="Line 882: Conditional coverage 50% (1/2).">&nbsp;4</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 882: Conditional coverage 50% (1/2).">                                                        <span class="keyword">if</span> (validNodes.contains(nnm))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;883</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                ret.add(cloneVe(ve, first, n));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;884</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;885</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;886</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;887</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        ret.add(ve);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;888</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;889</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;890</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;891</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;892</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;893</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param ve</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;894</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param clausesPerType</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;895</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @return the expression or its clone, or null if the expression is not valid for this type</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;896</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;897</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> ValueElement testAndCloneIfNeeded(ValueElement ve, ClausesPerType clausesPerType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;898</td>  <td class="nbHitsCovered">&nbsp;706</td>  <td class="src"><pre class="src">&nbsp;                        ValueElement ret = ve;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;899</td>  <td class="nbHitsUncovered"><a title="Line 899: Conditional coverage 50% (1/2).">&nbsp;706</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 899: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (ve != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;900</td>  <td class="nbHitsCovered">&nbsp;706</td>  <td class="src"><pre class="src">&nbsp;                                ValueElement first = ValueAccess.findFirst(ve);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;901</td>  <td class="nbHitsCovered"><a title="Line 901: Conditional coverage 100% (2/2).">&nbsp;706</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 901: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (first <span class="keyword">instanceof</span> JcNode) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;902</td>  <td class="nbHitsCovered">&nbsp;675</td>  <td class="src"><pre class="src">&nbsp;                                        testValidForType((JcNode)first, ve, clausesPerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;903</td>  <td class="nbHitsUncovered"><a title="Line 903: Conditional coverage 50% (1/2).">&nbsp;675</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 903: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (clausesPerType.valid) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;904</td>  <td class="nbHitsCovered"><a title="Line 904: Conditional coverage 100% (2/2).">&nbsp;675</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 904: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span>(!(ValueAccess.getName((JcNode)first).equals(ValueAccess.getName(clausesPerType.node)))) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;905</td>  <td class="nbHitsCovered">&nbsp;276</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = cloneVe(ve, first, clausesPerType.node);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;906</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;907</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;908</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                ret = <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;909</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;910</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;911</td>  <td class="nbHitsCovered">&nbsp;706</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;912</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;913</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;914</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> ValueElement cloneVe(ValueElement ve, ValueElement first,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;915</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                ValueElement newFirst) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;916</td>  <td class="nbHitsCovered">&nbsp;361</td>  <td class="src"><pre class="src">&nbsp;                        ValueElement ret = ve;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;917</td>  <td class="nbHitsCovered">&nbsp;361</td>  <td class="src"><pre class="src">&nbsp;                        ValueElement prev = ve;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;918</td>  <td class="nbHitsCovered">&nbsp;361</td>  <td class="src"><pre class="src">&nbsp;                        ValueElement nextCloned = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;919</td>  <td class="nbHitsCovered"><a title="Line 919: Conditional coverage 100% (2/2).">&nbsp;725</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 919: Conditional coverage 100% (2/2).">                        <span class="keyword">while</span>(prev != first) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;920</td>  <td class="nbHitsCovered">&nbsp;364</td>  <td class="src"><pre class="src">&nbsp;                                ValueElement cloned = ValueAccess.cloneShallow(prev);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;921</td>  <td class="nbHitsCovered"><a title="Line 921: Conditional coverage 100% (2/2).">&nbsp;364</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 921: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (nextCloned != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;922</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                        ValueAccess.setPredecessor(nextCloned, cloned);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;923</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">else</span> <span class="comment">// in the first iteration</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;924</td>  <td class="nbHitsCovered">&nbsp;361</td>  <td class="src"><pre class="src">&nbsp;                                        ret = cloned;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;925</td>  <td class="nbHitsCovered">&nbsp;364</td>  <td class="src"><pre class="src">&nbsp;                                nextCloned = cloned;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;926</td>  <td class="nbHitsCovered">&nbsp;364</td>  <td class="src"><pre class="src">&nbsp;                                prev = ValueAccess.getPredecessor(prev);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;927</td>  <td class="nbHitsCovered">&nbsp;364</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;928</td>  <td class="nbHitsUncovered"><a title="Line 928: Conditional coverage 50% (1/2).">&nbsp;361</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 928: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (nextCloned != <span class="keyword">null</span>) <span class="comment">// there was at least one iteration</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;929</td>  <td class="nbHitsCovered">&nbsp;361</td>  <td class="src"><pre class="src">&nbsp;                                ValueAccess.setPredecessor(nextCloned, newFirst);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;930</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">else</span> </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;931</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                ret = newFirst;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;932</td>  <td class="nbHitsCovered">&nbsp;361</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;933</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;934</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;935</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;936</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> testValidForType(JcNode first,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;937</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                ValueElement ve, ClausesPerType clausesPerType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;938</td>  <td class="nbHitsUncovered"><a title="Line 938: Conditional coverage 50% (1/2).">&nbsp;675</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 938: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (ve == first) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;939</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                clausesPerType.oneValid = <span class="keyword">true</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;940</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">return</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;941</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;942</td>  <td class="nbHitsUncovered"><a title="Line 942: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">&nbsp;675</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 942: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">                        <span class="keyword">if</span> (clausesPerType.previousOr || !Settings.strict) { <span class="comment">// build the clause even if the expression will return no result</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;943</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                clausesPerType.oneValid = <span class="keyword">true</span>; <span class="comment">// because it is concatenated by OR</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;944</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span>;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;945</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;946</td>  <td class="nbHitsCovered">&nbsp;600</td>  <td class="src"><pre class="src">&nbsp;                        Object hint = ValueAccess.getAnyHint(ve, APIAccess.hintKey_validNodes);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;947</td>  <td class="nbHitsUncovered"><a title="Line 947: Conditional coverage 50% (1/2).">&nbsp;600</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 947: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (hint <span class="keyword">instanceof</span> List&lt;?&gt;) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;948</td>  <td class="nbHitsCovered">&nbsp;600</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;JcNode&gt; validFor = (List&lt;JcNode&gt;) hint; </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;949</td>  <td class="nbHitsCovered">&nbsp;600</td>  <td class="src"><pre class="src">&nbsp;                                String nm = ValueAccess.getName(clausesPerType.node);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;950</td>  <td class="nbHitsCovered"><a title="Line 950: Conditional coverage 100% (2/2).">&nbsp;600</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 950: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span>(JcNode n : validFor) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;951</td>  <td class="nbHitsCovered"><a title="Line 951: Conditional coverage 100% (2/2).">&nbsp;968</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 951: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (nm.startsWith(ValueAccess.getName(n))) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;952</td>  <td class="nbHitsCovered">&nbsp;396</td>  <td class="src"><pre class="src">&nbsp;                                                clausesPerType.oneValid = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;953</td>  <td class="nbHitsCovered">&nbsp;396</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;954</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;955</td>  <td class="nbHitsCovered">&nbsp;572</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;956</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;957</td>  <td class="nbHitsCovered">&nbsp;204</td>  <td class="src"><pre class="src">&nbsp;                        clausesPerType.testForNextIsOr = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;958</td>  <td class="nbHitsCovered">&nbsp;204</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;959</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;960</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;961</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;962</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param dom</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;963</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param astObjs</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;964</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param mode 0 ... all expressions, 1 ... no count expressions, 2 ... count expressions only</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;965</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;966</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;967</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> StateContext findXpressionsFor(DomainObjectMatch&lt;?&gt; dom, List&lt;IASTObject&gt; astObjs,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;968</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> mode) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;969</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        String baseNodeName = APIAccess.getBaseNodeName(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;970</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        StateContext context = <span class="keyword">new</span> StateContext(baseNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;971</td>  <td class="nbHitsCovered"><a title="Line 971: Conditional coverage 100% (2/2).">&nbsp;3606</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 971: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; astObjs.size(); i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;972</td>  <td class="nbHitsCovered">&nbsp;2957</td>  <td class="src"><pre class="src">&nbsp;                                IASTObject astObj = astObjs.get(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;973</td>  <td class="nbHitsCovered">&nbsp;2957</td>  <td class="src"><pre class="src">&nbsp;                                testXpressionFor(dom, baseNodeName, astObj, context, mode);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;974</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;975</td>  <td class="nbHitsUncovered"><a title="Line 975: Conditional coverage 50% (1/2).">&nbsp;649</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 975: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (context.blockCount != 0)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;976</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"bracket close mismatch"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;977</td>  <td class="nbHitsCovered"><a title="Line 977: Conditional coverage 100% (2/2).">&nbsp;649</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 977: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (context.state == State.HAS_XPRESSION) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;978</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                                removeEmptyBlocks(context.candidates);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;979</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;980</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> context;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;981</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;982</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;983</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> removeEmptyBlocks(List&lt;IASTObject&gt; candidates) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;984</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;Integer&gt; toRemove = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;985</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;Integer&gt; orsToRemove = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;986</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;Integer&gt; candidatesIndices = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;987</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// key: openBracket index, value: or index</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;988</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        Map&lt;Integer, Integer&gt; bracketToOr = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;989</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">int</span> orIndexToTest = -1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;990</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">boolean</span> orMaybeValid = <span class="keyword">false</span>; <span class="comment">// or must not be at begin</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;991</td>  <td class="nbHitsCovered"><a title="Line 991: Conditional coverage 100% (2/2).">&nbsp;1521</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 991: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; candidates.size(); i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;992</td>  <td class="nbHitsCovered">&nbsp;1018</td>  <td class="src"><pre class="src">&nbsp;                                IASTObject astObj = candidates.get(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;993</td>  <td class="nbHitsCovered"><a title="Line 993: Conditional coverage 100% (2/2).">&nbsp;1018</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 993: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> ConcatenateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;994</td>  <td class="nbHitsCovered">&nbsp;328</td>  <td class="src"><pre class="src">&nbsp;                                        Concatenator concat = ((ConcatenateExpression)astObj).getConcatenator();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;995</td>  <td class="nbHitsCovered"><a title="Line 995: Conditional coverage 100% (2/2).">&nbsp;328</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 995: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (concat == Concatenator.BR_OPEN) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;996</td>  <td class="nbHitsCovered"><a title="Line 996: Conditional coverage 100% (2/2).">&nbsp;144</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 996: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (orIndexToTest != -1) <span class="comment">// or may be before open bracket</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;997</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                        bracketToOr.put(i, orIndexToTest);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;998</td>  <td class="nbHitsCovered">&nbsp;144</td>  <td class="src"><pre class="src">&nbsp;                                                orIndexToTest = -1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;999</td>  <td class="nbHitsCovered">&nbsp;144</td>  <td class="src"><pre class="src">&nbsp;                                                candidatesIndices.add(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1000</td>  <td class="nbHitsCovered">&nbsp;144</td>  <td class="src"><pre class="src">&nbsp;                                                orMaybeValid = <span class="keyword">false</span>; <span class="comment">// or must not follow immediately after an open bracket</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1001</td>  <td class="nbHitsCovered"><a title="Line 1001: Conditional coverage 100% (2/2).">&nbsp;184</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1001: Conditional coverage 100% (2/2).">                                        } <span class="keyword">else</span> <span class="keyword">if</span> (concat == Concatenator.BR_CLOSE) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1002</td>  <td class="nbHitsCovered"><a title="Line 1002: Conditional coverage 100% (2/2).">&nbsp;144</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1002: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (candidatesIndices.size() &gt; 0) { <span class="comment">// close follows immediately after open</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1003</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                                                                <span class="comment">// empty block will be removed</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1004</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// idx is the matching open bracket index</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1005</td>  <td class="nbHitsCovered">&nbsp;107</td>  <td class="src"><pre class="src">&nbsp;                                                        Integer idx = candidatesIndices.remove(candidatesIndices.size() - 1);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1006</td>  <td class="nbHitsCovered">&nbsp;107</td>  <td class="src"><pre class="src">&nbsp;                                                        Integer orIdx = bracketToOr.get(idx);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1007</td>  <td class="nbHitsCovered"><a title="Line 1007: Conditional coverage 100% (2/2).">&nbsp;107</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1007: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (orIdx != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1008</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                                orIndexToTest = orIdx.intValue(); <span class="comment">// must be tested if valid</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1009</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1010</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                                                orIndexToTest = -1; <span class="comment">// if != -1was within the block that will be removed</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1011</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                                 <span class="comment">// it will be removed with the block so we can forget it</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1012</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// test and remove encapsulated pairs</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1013</td>  <td class="nbHitsCovered"><a title="Line 1013: Conditional coverage 100% (2/2).">&nbsp;127</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1013: Conditional coverage 100% (2/2).">                                                        <span class="keyword">for</span> (<span class="keyword">int</span> j = toRemove.size() - 1; j &gt;= 0; j--) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1014</td>  <td class="nbHitsCovered"><a title="Line 1014: Conditional coverage 100% (2/2).">&nbsp;20</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1014: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (idx.intValue() &lt; toRemove.get(j).intValue())</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1015</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                        toRemove.remove(j);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1016</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1017</td>  <td class="nbHitsCovered">&nbsp;107</td>  <td class="src"><pre class="src">&nbsp;                                                        toRemove.add(idx); <span class="comment">// start</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1018</td>  <td class="nbHitsCovered">&nbsp;107</td>  <td class="src"><pre class="src">&nbsp;                                                        toRemove.add(i); <span class="comment">// end</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1019</td>  <td class="nbHitsCovered">&nbsp;107</td>  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1020</td>  <td class="nbHitsCovered">&nbsp;37</td>  <td class="src"><pre class="src">&nbsp;                                                        orMaybeValid = <span class="keyword">true</span>; <span class="comment">// or can follow a closing bracket</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1021</td>  <td class="nbHitsUncovered"><a title="Line 1021: Conditional coverage 50% (1/2).">&nbsp;37</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1021: Conditional coverage 50% (1/2).">                                                        <span class="keyword">if</span> (orIndexToTest != -1)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1022</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                orsToRemove.add(orIndexToTest);  <span class="comment">// or must not be immediately before a close bracket</span></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1023</td>  <td class="nbHitsCovered">&nbsp;37</td>  <td class="src"><pre class="src">&nbsp;                                                        orIndexToTest = -1;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1024</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1025</td>  <td class="nbHitsUncovered"><a title="Line 1025: Conditional coverage 50% (1/2).">&nbsp;40</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1025: Conditional coverage 50% (1/2).">                                        } <span class="keyword">else</span> <span class="keyword">if</span> (concat == Concatenator.OR) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1026</td>  <td class="nbHitsCovered"><a title="Line 1026: Conditional coverage 100% (2/2).">&nbsp;40</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1026: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (!orMaybeValid)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1027</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                        orsToRemove.add(i);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1028</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1029</td>  <td class="nbHitsCovered">&nbsp;39</td>  <td class="src"><pre class="src">&nbsp;                                                        orIndexToTest = i; <span class="comment">// for test with next expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1030</td>  <td class="nbHitsCovered">&nbsp;39</td>  <td class="src"><pre class="src">&nbsp;                                                        orMaybeValid = <span class="keyword">false</span>; <span class="comment">// no consecutive ors allowed</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1031</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1032</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1033</td>  <td class="nbHitsCovered">&nbsp;328</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span> { <span class="comment">// not an empty block, contains at least one valid predicate expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1034</td>  <td class="nbHitsCovered">&nbsp;690</td>  <td class="src"><pre class="src">&nbsp;                                        candidatesIndices.clear();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1035</td>  <td class="nbHitsCovered">&nbsp;690</td>  <td class="src"><pre class="src">&nbsp;                                        orMaybeValid = <span class="keyword">true</span>; <span class="comment">// or can follow a predicate expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1036</td>  <td class="nbHitsCovered">&nbsp;690</td>  <td class="src"><pre class="src">&nbsp;                                        orIndexToTest = -1;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1037</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1038</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1039</td>  <td class="nbHitsCovered"><a title="Line 1039: Conditional coverage 100% (2/2).">&nbsp;503</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1039: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (orIndexToTest != -1)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1040</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                orsToRemove.add(orIndexToTest);  <span class="comment">// or must not be at the end</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1041</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1042</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// now remove the found empty blocks</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1043</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// indices are always pairwise for close and open brackets</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1044</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">int</span> prevCloseIndex = -1; <span class="comment">// the previous close index paired with the actual open index</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1045</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// we always start with a close index</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1046</td>  <td class="nbHitsCovered"><a title="Line 1046: Conditional coverage 100% (2/2).">&nbsp;709</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1046: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = toRemove.size() - 1; i &gt;= 0; i--) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1047</td>  <td class="nbHitsCovered">&nbsp;206</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> idx = toRemove.get(i).intValue();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1048</td>  <td class="nbHitsCovered"><a title="Line 1048: Conditional coverage 100% (2/2).">&nbsp;206</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1048: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (prevCloseIndex == -1) <span class="comment">// the actual is a close index</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1049</td>  <td class="nbHitsCovered">&nbsp;103</td>  <td class="src"><pre class="src">&nbsp;                                        candidates.remove(idx);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1050</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">else</span> { <span class="comment">// the actual is an open index</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1051</td>  <td class="nbHitsCovered"><a title="Line 1051: Conditional coverage 100% (2/2).">&nbsp;214</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1051: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (<span class="keyword">int</span> j = prevCloseIndex - 1; j &gt;= idx; j--) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1052</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// remove all between the previous close index (exclusive)</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1053</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// and the actual open index (inclusive)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1054</td>  <td class="nbHitsCovered">&nbsp;111</td>  <td class="src"><pre class="src">&nbsp;                                                candidates.remove(j);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1055</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1056</td>  <td class="nbHitsCovered">&nbsp;103</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">int</span> adjust = prevCloseIndex - idx + 1; <span class="comment">// this range is removed</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1057</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// remove and adjust or indices</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1058</td>  <td class="nbHitsCovered"><a title="Line 1058: Conditional coverage 100% (2/2).">&nbsp;105</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1058: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (<span class="keyword">int</span> j = orsToRemove.size() - 1; j &gt;= 0; j--) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1059</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">int</span> oidx = orsToRemove.get(j).intValue();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1060</td>  <td class="nbHitsUncovered"><a title="Line 1060: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1060: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">                                                <span class="keyword">if</span> (oidx &gt; idx &amp;&amp; oidx &lt; prevCloseIndex) <span class="comment">// remove</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1061</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        orsToRemove.remove(j);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1062</td>  <td class="nbHitsCovered"><a title="Line 1062: Conditional coverage 100% (2/2).">&nbsp;2</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1062: Conditional coverage 100% (2/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (oidx &gt; prevCloseIndex)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1063</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                        orsToRemove.set(j, oidx - adjust);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1064</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1065</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1066</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// toggle between close and open index (they are always pairwise)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1067</td>  <td class="nbHitsCovered"><a title="Line 1067: Conditional coverage 100% (2/2).">&nbsp;206</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1067: Conditional coverage 100% (2/2).">                                prevCloseIndex = prevCloseIndex == -1 ? idx : -1;</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1068</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1069</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1070</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// remove invalid ors</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1071</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                        Collections.sort(orsToRemove);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1072</td>  <td class="nbHitsCovered"><a title="Line 1072: Conditional coverage 100% (2/2).">&nbsp;505</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1072: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (<span class="keyword">int</span> i = orsToRemove.size() - 1; i &gt;= 0; i--) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1073</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> idx = orsToRemove.get(i).intValue();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1074</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                candidates.remove(idx);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1075</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1076</td>  <td class="nbHitsCovered">&nbsp;503</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1077</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1078</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1079</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param baseNodeName</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1080</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param astObj</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1081</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param context</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1082</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param mode 0 ... all expressions, 1 ... no count expressions, 2 ... count expressions only</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1083</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1084</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> testXpressionFor(DomainObjectMatch&lt;?&gt; dom, String baseNodeName,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1085</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                IASTObject astObj, StateContext context, <span class="keyword">int</span> mode) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1086</td>  <td class="nbHitsCovered"><a title="Line 1086: Conditional coverage 100% (2/2).">&nbsp;2957</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1086: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> PredicateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1087</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                PredicateExpression pred = (PredicateExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1088</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">boolean</span> isXpr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1089</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                IPredicateOperand1 val1 = pred.getValue_1();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1090</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                String nodeName_1 = getNodeName(val1);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1091</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> orRemoveState = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1092</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">boolean</span> isCount = val1 <span class="keyword">instanceof</span> Count;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1093</td>  <td class="nbHitsCovered"><a title="Line 1093: Conditional coverage 100% (10/10) [each condition: 100%, 100%, 100%, 100%, 100%].">&nbsp;1529</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1093: Conditional coverage 100% (10/10) [each condition: 100%, 100%, 100%, 100%, 100%].">                                <span class="keyword">if</span> (mode == 0 || (isCount &amp;&amp; mode == 2) || (!isCount &amp;&amp; mode == 1)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1094</td>  <td class="nbHitsCovered"><a title="Line 1094: Conditional coverage 100% (2/2).">&nbsp;1395</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1094: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (isCount) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1095</td>  <td class="nbHitsCovered">&nbsp;53</td>  <td class="src"><pre class="src">&nbsp;                                                DomainObjectMatch&lt;?&gt; udom = APIAccess.getDomainObjectMatch((Count)val1);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1096</td>  <td class="nbHitsCovered"><a title="Line 1096: Conditional coverage 100% (2/2).">&nbsp;53</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1096: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (APIAccess.isPartOfUnionExpression(udom, dom)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1097</td>  <td class="nbHitsCovered">&nbsp;28</td>  <td class="src"><pre class="src">&nbsp;                                                        nodeName_1 = APIAccess.getBaseNodeName(dom);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1098</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1099</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1100</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1101</td>  <td class="nbHitsUncovered"><a title="Line 1101: Conditional coverage 50% (1/2).">&nbsp;1395</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1101: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (nodeName_1 != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1102</td>  <td class="nbHitsCovered"><a title="Line 1102: Conditional coverage 100% (2/2).">&nbsp;1395</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1102: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (nodeName_1.indexOf(baseNodeName) == 0) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1103</td>  <td class="nbHitsCovered"><a title="Line 1103: Conditional coverage 100% (2/2).">&nbsp;498</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1103: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (context.orToAdd != <span class="keyword">null</span>) <span class="comment">// add pending or</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1104</td>  <td class="nbHitsCovered">&nbsp;30</td>  <td class="src"><pre class="src">&nbsp;                                                                context.candidates.add(context.orToAdd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1105</td>  <td class="nbHitsCovered">&nbsp;498</td>  <td class="src"><pre class="src">&nbsp;                                                        context.candidates.add(astObj);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1106</td>  <td class="nbHitsCovered">&nbsp;498</td>  <td class="src"><pre class="src">&nbsp;                                                        isXpr = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1107</td>  <td class="nbHitsCovered">&nbsp;498</td>  <td class="src"><pre class="src">&nbsp;                                                        context.state = State.HAS_XPRESSION;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1108</td>  <td class="nbHitsCovered">&nbsp;498</td>  <td class="src"><pre class="src">&nbsp;                                                        orRemoveState = -1;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1109</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1110</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1111</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1112</td>  <td class="nbHitsCovered"><a title="Line 1112: Conditional coverage 100% (2/2).">&nbsp;1529</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1112: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (isXpr) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1113</td>  <td class="nbHitsCovered">&nbsp;498</td>  <td class="src"><pre class="src">&nbsp;                                        String nodeName_2 = getNodeName(pred.getValue_2());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1114</td>  <td class="nbHitsCovered"><a title="Line 1114: Conditional coverage 100% (2/2).">&nbsp;498</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1114: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (nodeName_2 != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1115</td>  <td class="nbHitsUncovered"><a title="Line 1115: Conditional coverage 50% (1/2).">&nbsp;95</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1115: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (nodeName_2.indexOf(baseNodeName) &lt; 0) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1116</td>  <td class="nbHitsCovered">&nbsp;95</td>  <td class="src"><pre class="src">&nbsp;                                                        context.addDependency(nodeName_2);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1117</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1118</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1119</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1120</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                context.orRemoveState = orRemoveState;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1121</td>  <td class="nbHitsCovered">&nbsp;1529</td>  <td class="src"><pre class="src">&nbsp;                                context.orToAdd = <span class="keyword">null</span>; <span class="comment">// clear or, it has either been added already or it is invalid</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1122</td>  <td class="nbHitsCovered"><a title="Line 1122: Conditional coverage 100% (2/2).">&nbsp;1529</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1122: Conditional coverage 100% (2/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> ConcatenateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1123</td>  <td class="nbHitsCovered">&nbsp;492</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">boolean</span> isOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1124</td>  <td class="nbHitsCovered">&nbsp;492</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> orRemoveState = -1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1125</td>  <td class="nbHitsCovered">&nbsp;492</td>  <td class="src"><pre class="src">&nbsp;                                ConcatenateExpression conc = (ConcatenateExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1126</td>  <td class="nbHitsCovered"><a title="Line 1126: Conditional coverage 100% (2/2).">&nbsp;492</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1126: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (conc.getConcatenator() == Concatenator.BR_OPEN) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1127</td>  <td class="nbHitsCovered">&nbsp;156</td>  <td class="src"><pre class="src">&nbsp;                                        context.blockCount++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1128</td>  <td class="nbHitsCovered"><a title="Line 1128: Conditional coverage 100% (2/2).">&nbsp;156</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1128: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (context.orToAdd != <span class="keyword">null</span>) <span class="comment">// add pending or</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1129</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                                context.candidates.add(context.orToAdd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1130</td>  <td class="nbHitsCovered"><a title="Line 1130: Conditional coverage 100% (2/2).">&nbsp;336</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1130: Conditional coverage 100% (2/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (conc.getConcatenator() == Concatenator.BR_CLOSE) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1131</td>  <td class="nbHitsUncovered"><a title="Line 1131: Conditional coverage 50% (1/2).">&nbsp;156</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1131: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (context.blockCount &lt;= 0)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1132</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"bracket close mismatch"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1133</td>  <td class="nbHitsCovered">&nbsp;156</td>  <td class="src"><pre class="src">&nbsp;                                        context.blockCount--;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1134</td>  <td class="nbHitsUncovered"><a title="Line 1134: Conditional coverage 50% (1/2).">&nbsp;180</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1134: Conditional coverage 50% (1/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (conc.getConcatenator() == Concatenator.OR) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1135</td>  <td class="nbHitsCovered">&nbsp;180</td>  <td class="src"><pre class="src">&nbsp;                                        orRemoveState = context.orRemoveState;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1136</td>  <td class="nbHitsCovered">&nbsp;180</td>  <td class="src"><pre class="src">&nbsp;                                        isOr = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1137</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1138</td>  <td class="nbHitsCovered">&nbsp;492</td>  <td class="src"><pre class="src">&nbsp;                                context.orToAdd = <span class="keyword">null</span>; <span class="comment">// clear or, it has either been added already or it is invalid</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1139</td>  <td class="nbHitsCovered"><a title="Line 1139: Conditional coverage 100% (2/2).">&nbsp;492</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1139: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (orRemoveState != 0) { <span class="comment">// prevoius was not foreign predicate expression</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1140</td>  <td class="nbHitsCovered"><a title="Line 1140: Conditional coverage 100% (2/2).">&nbsp;364</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1140: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (isOr)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1141</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                                context.orToAdd = astObj; <span class="comment">// to test if next is foreign predicate expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1142</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1143</td>  <td class="nbHitsCovered">&nbsp;312</td>  <td class="src"><pre class="src">&nbsp;                                                context.candidates.add(astObj);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1144</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1145</td>  <td class="nbHitsCovered">&nbsp;492</td>  <td class="src"><pre class="src">&nbsp;                                context.orRemoveState = orRemoveState;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1146</td>  <td class="nbHitsCovered"><a title="Line 1146: Conditional coverage 100% (2/2).">&nbsp;492</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1146: Conditional coverage 100% (2/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> TraversalExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1147</td>  <td class="nbHitsCovered">&nbsp;579</td>  <td class="src"><pre class="src">&nbsp;                                TraversalExpression te = (TraversalExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1148</td>  <td class="nbHitsCovered">&nbsp;579</td>  <td class="src"><pre class="src">&nbsp;                                String bName = APIAccess.getBaseNodeName(te.getEnd());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1149</td>  <td class="nbHitsCovered"><a title="Line 1149: Conditional coverage 100% (2/2).">&nbsp;579</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1149: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (baseNodeName.equals(bName)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1150</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                        context.candidates.add(astObj);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1151</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                        context.state = State.HAS_XPRESSION;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1152</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                        bName = APIAccess.getBaseNodeName(te.getStart());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1153</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                        context.addDependency(bName);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1154</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1155</td>  <td class="nbHitsCovered"><a title="Line 1155: Conditional coverage 100% (2/2).">&nbsp;579</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1155: Conditional coverage 100% (2/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> SelectExpression&lt;?&gt;) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1156</td>  <td class="nbHitsCovered">&nbsp;296</td>  <td class="src"><pre class="src">&nbsp;                                SelectExpression&lt;?&gt; se = (SelectExpression&lt;?&gt;)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1157</td>  <td class="nbHitsCovered">&nbsp;296</td>  <td class="src"><pre class="src">&nbsp;                                String bName = APIAccess.getBaseNodeName(se.getEnd());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1158</td>  <td class="nbHitsCovered"><a title="Line 1158: Conditional coverage 100% (2/2).">&nbsp;296</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1158: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (baseNodeName.equals(bName)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1159</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        context.candidates.add(astObj);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1160</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        context.state = State.HAS_XPRESSION;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1161</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        bName = APIAccess.getBaseNodeName(se.getStart());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1162</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        context.addDependency(bName);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1163</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// add dependencies of predicate expressions within collection expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1164</td>  <td class="nbHitsCovered"><a title="Line 1164: Conditional coverage 100% (2/2).">&nbsp;52</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1164: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span>(IASTObject ao : se.getAstObjects()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1165</td>  <td class="nbHitsCovered"><a title="Line 1165: Conditional coverage 100% (2/2).">&nbsp;108</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1165: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (ao <span class="keyword">instanceof</span> PredicateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1166</td>  <td class="nbHitsCovered">&nbsp;83</td>  <td class="src"><pre class="src">&nbsp;                                                        PredicateExpression pred = (PredicateExpression)ao;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1167</td>  <td class="nbHitsCovered">&nbsp;83</td>  <td class="src"><pre class="src">&nbsp;                                                        context.addDependency(getNodeName(pred.getValue_1()));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1168</td>  <td class="nbHitsCovered">&nbsp;83</td>  <td class="src"><pre class="src">&nbsp;                                                        context.addDependency(getNodeName(pred.getValue_2()));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1169</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1170</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1171</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1172</td>  <td class="nbHitsCovered"><a title="Line 1172: Conditional coverage 100% (2/2).">&nbsp;296</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1172: Conditional coverage 100% (2/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> CollectExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1173</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                CollectExpression ce = (CollectExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1174</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                String bName = APIAccess.getBaseNodeName(ce.getEnd());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1175</td>  <td class="nbHitsCovered"><a title="Line 1175: Conditional coverage 100% (2/2).">&nbsp;52</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1175: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (baseNodeName.equals(bName)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1176</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        context.candidates.add(astObj);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1177</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        context.state = State.HAS_XPRESSION;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1178</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        bName = APIAccess.getBaseNodeName(ce.getStartDOM());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1179</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        context.addDependency(bName);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1180</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1181</td>  <td class="nbHitsUncovered"><a title="Line 1181: Conditional coverage 50% (1/2).">&nbsp;52</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1181: Conditional coverage 50% (1/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> FromPreviousQueryExpression) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1182</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                FromPreviousQueryExpression fpe = (FromPreviousQueryExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1183</td>  <td class="nbHitsUncovered"><a title="Line 1183: Conditional coverage 50% (1/2).">&nbsp;9</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1183: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (fpe.getActualMatch() == dom) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1184</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                        context.candidates.add(astObj);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1185</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                        context.state = State.HAS_XPRESSION;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1186</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1187</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1188</td>  <td class="nbHitsCovered">&nbsp;2957</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1189</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1190</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> String getNodeName(Object value) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1191</td>  <td class="nbHitsCovered"><a title="Line 1191: Conditional coverage 100% (2/2).">&nbsp;2193</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1191: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (value <span class="keyword">instanceof</span> ValueElement) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1192</td>  <td class="nbHitsCovered">&nbsp;1054</td>  <td class="src"><pre class="src">&nbsp;                                ValueElement ve = (ValueElement)value;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1193</td>  <td class="nbHitsCovered">&nbsp;1054</td>  <td class="src"><pre class="src">&nbsp;                                ValueElement first = ValueAccess.findFirst(ve);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1194</td>  <td class="nbHitsUncovered"><a title="Line 1194: Conditional coverage 50% (1/2).">&nbsp;1054</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1194: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (first <span class="keyword">instanceof</span> JcNode)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1195</td>  <td class="nbHitsCovered">&nbsp;1054</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> ValueAccess.getName((JcNode)first);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1196</td>  <td class="nbHitsUncovered"><a title="Line 1196: Conditional coverage 100% (2/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1196: Conditional coverage 100% (2/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (value <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt;) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1197</td>  <td class="nbHitsCovered">&nbsp;544</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> APIAccess.getBaseNodeName((DomainObjectMatch&lt;?&gt;)value);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1198</td>  <td class="nbHitsCovered"><a title="Line 1198: Conditional coverage 100% (2/2).">&nbsp;595</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1198: Conditional coverage 100% (2/2).">                        } <span class="keyword">else</span> <span class="keyword">if</span> (value <span class="keyword">instanceof</span> Count) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1199</td>  <td class="nbHitsCovered">&nbsp;266</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> APIAccess.getBaseNodeName(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1200</td>  <td class="nbHitsCovered">&nbsp;133</td>  <td class="src"><pre class="src">&nbsp;                                                APIAccess.getDomainObjectMatch((Count)value));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1201</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1202</td>  <td class="nbHitsCovered">&nbsp;462</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1203</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1204</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1205</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> JcNumber getJcNumber(String prefix, JcNode n) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1206</td>  <td class="nbHitsCovered">&nbsp;1369</td>  <td class="src"><pre class="src">&nbsp;                        String nm = ValueAccess.getName(n);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1207</td>  <td class="nbHitsCovered">&nbsp;1369</td>  <td class="src"><pre class="src">&nbsp;                        nm = nm.substring(APIAccess.nodePrefix.length());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1208</td>  <td class="nbHitsCovered">&nbsp;1369</td>  <td class="src"><pre class="src">&nbsp;                        nm = prefix.concat(nm);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1209</td>  <td class="nbHitsCovered">&nbsp;1369</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> <span class="keyword">new</span> JcNumber(nm);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1210</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1211</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1212</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1213</td>  <td class="nbHitsCovered">&nbsp;1433</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> OrderClausesHolder {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1214</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;ClausesPerType&gt; toOrder;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1215</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> IClause whereNot;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1216</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1217</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> checkForOrdeClause(ClausesPerType cpt) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1218</td>  <td class="nbHitsCovered"><a title="Line 1218: Conditional coverage 100% (2/2).">&nbsp;758</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1218: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (getOrderExpressionsFor(cpt) != <span class="keyword">null</span>) { <span class="comment">// if != null it contains at least one criteria</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1219</td>  <td class="nbHitsCovered"><a title="Line 1219: Conditional coverage 100% (2/2).">&nbsp;47</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1219: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.toOrder == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1220</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.toOrder = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1221</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.toOrder.add(cpt);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1222</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1223</td>  <td class="nbHitsCovered">&nbsp;758</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1224</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1225</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addClauses(List&lt;IClause&gt; addTo, <span class="keyword">boolean</span> lastIsWith,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1226</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        List&lt;ClausesPerType&gt; withToAdd) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1227</td>  <td class="nbHitsCovered"><a title="Line 1227: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;220</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1227: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                <span class="keyword">if</span> (<span class="keyword">this</span>.toOrder != <span class="keyword">null</span> || <span class="keyword">this</span>.whereNot != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1228</td>  <td class="nbHitsCovered"><a title="Line 1228: Conditional coverage 100% (2/2).">&nbsp;45</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1228: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!lastIsWith) { <span class="comment">// need to add WITH clauses</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1229</td>  <td class="nbHitsCovered"><a title="Line 1229: Conditional coverage 100% (2/2).">&nbsp;39</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1229: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (ClausesPerType cpt : withToAdd) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1230</td>  <td class="nbHitsCovered">&nbsp;91</td>  <td class="src"><pre class="src">&nbsp;                                                        addTo.add(WITH.value(cpt.node));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1231</td>  <td class="nbHitsCovered">&nbsp;91</td>  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1232</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1233</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1234</td>  <td class="nbHitsCovered"><a title="Line 1234: Conditional coverage 100% (2/2).">&nbsp;220</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1234: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.toOrder != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1235</td>  <td class="nbHitsCovered"><a title="Line 1235: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1235: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (ClausesPerType cpt : <span class="keyword">this</span>.toOrder) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1236</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;OrderBy&gt; ocs = getOrderExpressionsFor(cpt);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1237</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// returns an index of an RSortable</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1238</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">int</span> idx = <span class="keyword">this</span>.indexOfOrderClause(cpt, addTo);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1239</td>  <td class="nbHitsCovered"><a title="Line 1239: Conditional coverage 100% (2/2).">&nbsp;47</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1239: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (idx != -1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1240</td>  <td class="nbHitsCovered">&nbsp;40</td>  <td class="src"><pre class="src">&nbsp;                                                        RSortable orderClause = (RSortable) addTo.get(idx);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1241</td>  <td class="nbHitsCovered"><a title="Line 1241: Conditional coverage 100% (2/2).">&nbsp;40</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1241: Conditional coverage 100% (2/2).">                                                        <span class="keyword">for</span> (OrderBy ob : ocs) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1242</td>  <td class="nbHitsCovered"><a title="Line 1242: Conditional coverage 100% (2/2).">&nbsp;55</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1242: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (ob.getDirection() == 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1243</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                                        orderClause = orderClause.ORDER_BY(ob.getAttributeName()); <span class="comment">// TODO use property name</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1244</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1245</td>  <td class="nbHitsCovered">&nbsp;13</td>  <td class="src"><pre class="src">&nbsp;                                                                        orderClause = orderClause.ORDER_BY_DESC(ob.getAttributeName());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1246</td>  <td class="nbHitsCovered">&nbsp;55</td>  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1247</td>  <td class="nbHitsCovered">&nbsp;40</td>  <td class="src"><pre class="src">&nbsp;                                                        addTo.set(idx, orderClause);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1248</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1249</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1250</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1251</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1252</td>  <td class="nbHitsCovered"><a title="Line 1252: Conditional coverage 100% (2/2).">&nbsp;220</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1252: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.whereNot != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1253</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                        addTo.add(<span class="keyword">this</span>.whereNot);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1254</td>  <td class="nbHitsCovered">&nbsp;220</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1255</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1256</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> indexOfOrderClause(ClausesPerType cpt, List&lt;IClause&gt; clauses) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1257</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> strt = clauses.size() - 1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1258</td>  <td class="nbHitsUncovered"><a title="Line 1258: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">&nbsp;53</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1258: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">                                <span class="keyword">while</span>(strt &gt;= 0 &amp;&amp; clauses.get(strt) <span class="keyword">instanceof</span> SEPARATE)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1259</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                        strt--;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1260</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> idx = -1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1261</td>  <td class="nbHitsUncovered"><a title="Line 1261: Conditional coverage 50% (1/2).">&nbsp;89</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1261: Conditional coverage 50% (1/2).">                                <span class="keyword">for</span> (<span class="keyword">int</span> i = strt; i &gt;= 0; i--) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1262</td>  <td class="nbHitsCovered">&nbsp;89</td>  <td class="src"><pre class="src">&nbsp;                                        IClause clause = clauses.get(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1263</td>  <td class="nbHitsCovered"><a title="Line 1263: Conditional coverage 100% (2/2).">&nbsp;89</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1263: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (clause <span class="keyword">instanceof</span> RSortable) { <span class="comment">// only RSortables can be ordered</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1264</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// can only be a ReturnExpression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1265</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                                ReturnExpression rexp = (ReturnExpression)APIObjectAccess.getAstNode((APIObject) clause);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1266</td>  <td class="nbHitsUncovered"><a title="Line 1266: Conditional coverage 25% (1/4) [each condition: 50%, 0%].">&nbsp;82</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1266: Conditional coverage 25% (1/4) [each condition: 50%, 0%].">                                                <span class="keyword">if</span> (rexp.getAlias() != <span class="keyword">null</span> &amp;&amp; ValueAccess.isSame(rexp.getAlias(), cpt.node)) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1267</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        idx = i;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1268</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">break</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1269</td>  <td class="nbHitsUncovered"><a title="Line 1269: Conditional coverage 50% (1/2).">&nbsp;82</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1269: Conditional coverage 50% (1/2).">                                                } <span class="keyword">else</span> <span class="keyword">if</span> (rexp.getReturnValue() <span class="keyword">instanceof</span> ReturnElement) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1270</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                                        JcValue elem = ((ReturnElement)rexp.getReturnValue()).getElement();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1271</td>  <td class="nbHitsCovered"><a title="Line 1271: Conditional coverage 100% (2/2).">&nbsp;82</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1271: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (ValueAccess.isSame(elem, cpt.node)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1272</td>  <td class="nbHitsCovered">&nbsp;40</td>  <td class="src"><pre class="src">&nbsp;                                                                idx = i;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1273</td>  <td class="nbHitsCovered">&nbsp;40</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1274</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1275</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1276</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1277</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1278</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1279</td>  <td class="nbHitsCovered">&nbsp;47</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> idx;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1280</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1281</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1282</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1283</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1284</td>  <td class="nbHitsCovered">&nbsp;1384</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> ClauseBuilder {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1285</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;ClausesPerType&gt; buildClausesFor(ExpressionsPerDOM xpd,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1286</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext, <span class="keyword">boolean</span> calcCounts) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1287</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                DomainObjectMatch&lt;?&gt; dom = xpd.domainObjectMatch;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1288</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IASTObject&gt; xpressionsForDom = xpd.xPressions;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1289</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;ClausesPerType&gt; clausesPerTypeList = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1290</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;JcNode&gt; nodes = APIAccess.getNodes(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1291</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;Class&lt;?&gt;&gt; typeList = APIAccess.getTypeList(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1292</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> numTypes = typeList.size();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1293</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                List&lt;Integer&gt; offsets;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1294</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                List&lt;Integer&gt; lens;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1295</td>  <td class="nbHitsCovered"><a title="Line 1295: Conditional coverage 100% (2/2).">&nbsp;460</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1295: Conditional coverage 100% (2/2).">                                <span class="keyword">int</span> offset = calcCounts ? 0 : APIAccess.getPageOffset(dom);</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1296</td>  <td class="nbHitsCovered"><a title="Line 1296: Conditional coverage 100% (2/2).">&nbsp;460</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1296: Conditional coverage 100% (2/2).">                                <span class="keyword">int</span> len = calcCounts ? -1 : APIAccess.getPageLength(dom);</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1297</td>  <td class="nbHitsUncovered"><a title="Line 1297: Conditional coverage 83% (5/6) [each condition: 100%, 100%, 50%].">&nbsp;460</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1297: Conditional coverage 83% (5/6) [each condition: 100%, 100%, 50%].">                                <span class="keyword">if</span> (numTypes &gt; 1 &amp;&amp;        (offset &gt; 0 || len &gt;= 0) &amp;&amp;</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1298</td>  <td class="nbHitsCovered"><a title="Line 1298: Conditional coverage 100% (2/2).">&nbsp;6</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1298: Conditional coverage 100% (2/2).">                                                APIAccess.isPageChanged(dom)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1299</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                        SkipsLimits slc = calcSkipsLimits(dom, offset, len);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1300</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                        offsets = slc.getOffsets();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1301</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                        lens = slc.getLengths();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1302</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1303</td>  <td class="nbHitsCovered">&nbsp;455</td>  <td class="src"><pre class="src">&nbsp;                                        offsets = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(numTypes);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1304</td>  <td class="nbHitsCovered">&nbsp;455</td>  <td class="src"><pre class="src">&nbsp;                                        lens = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(numTypes);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1305</td>  <td class="nbHitsCovered"><a title="Line 1305: Conditional coverage 100% (2/2).">&nbsp;455</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1305: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (numTypes == 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1306</td>  <td class="nbHitsCovered">&nbsp;248</td>  <td class="src"><pre class="src">&nbsp;                                                offsets.add(offset);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1307</td>  <td class="nbHitsCovered">&nbsp;248</td>  <td class="src"><pre class="src">&nbsp;                                                lens.add(len);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1308</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1309</td>  <td class="nbHitsCovered"><a title="Line 1309: Conditional coverage 100% (2/2).">&nbsp;1164</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1309: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; numTypes; i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1310</td>  <td class="nbHitsCovered">&nbsp;957</td>  <td class="src"><pre class="src">&nbsp;                                                        offsets.add(0);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1311</td>  <td class="nbHitsCovered">&nbsp;957</td>  <td class="src"><pre class="src">&nbsp;                                                        lens.add(-1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1312</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1313</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1314</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1315</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> idx = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1316</td>  <td class="nbHitsCovered"><a title="Line 1316: Conditional coverage 100% (2/2).">&nbsp;460</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1316: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (JcNode n : nodes) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1317</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                        ClausesPerType cpt = <span class="keyword">new</span> ClausesPerType(n, dom, typeList.get(idx));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1318</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.expressionsPerDOM = xpd;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1319</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.pageOffset = offsets.get(idx);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1320</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.pageLength = lens.get(idx);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1321</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                        clausesPerTypeList.add(cpt);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1322</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                        idx++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1323</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1324</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1325</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                cbContext.stepClausesCount = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1326</td>  <td class="nbHitsCovered"><a title="Line 1326: Conditional coverage 100% (2/2).">&nbsp;460</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1326: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (IASTObject astObj : xpressionsForDom) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1327</td>  <td class="nbHitsCovered"><a title="Line 1327: Conditional coverage 100% (2/2).">&nbsp;692</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1327: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (ClausesPerType clausePerType : clausesPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1328</td>  <td class="nbHitsCovered"><a title="Line 1328: Conditional coverage 100% (2/2).">&nbsp;1833</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1328: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (clausePerType.valid) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1329</td>  <td class="nbHitsCovered">&nbsp;3490</td>  <td class="src"><pre class="src">&nbsp;                                                        List&lt;TraversalResult&gt; travResults = forCollectionOwnersOf(clausePerType.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1330</td>  <td class="nbHitsCovered">&nbsp;1745</td>  <td class="src"><pre class="src">&nbsp;                                                                        clausePerType.domainObjectType, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1331</td>  <td class="nbHitsCovered">&nbsp;1745</td>  <td class="src"><pre class="src">&nbsp;                                                        addClause(astObj, clausePerType, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1332</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1333</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// if traversal results exist and have not been created by this expression,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1334</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// then add the current expression to the traversal result's ClausePerType</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1335</td>  <td class="nbHitsCovered"><a title="Line 1335: Conditional coverage 100% (2/2).">&nbsp;1745</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1335: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (travResults != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1336</td>  <td class="nbHitsCovered"><a title="Line 1336: Conditional coverage 100% (2/2).">&nbsp;512</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1336: Conditional coverage 100% (2/2).">                                                                <span class="keyword">for</span> (TraversalResult tr : travResults) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1337</td>  <td class="nbHitsCovered"><a title="Line 1337: Conditional coverage 100% (2/2).">&nbsp;12</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1337: Conditional coverage 100% (2/2).">                                                                        <span class="keyword">for</span> (ClausesPerType cpt : tr.getClausesPerTypeList()) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1338</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// the first clauses to be added after the traversal clauses</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1339</td>  <td class="nbHitsCovered"><a title="Line 1339: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;24</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1339: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                                                <span class="keyword">if</span> (cpt.concatenator == <span class="keyword">null</span> &amp;&amp; cpt.concat == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1340</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                                        cpt.concat = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1341</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1342</td>  <td class="nbHitsCovered">&nbsp;24</td>  <td class="src"><pre class="src">&nbsp;                                                                                addClause(astObj, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1343</td>  <td class="nbHitsCovered">&nbsp;24</td>  <td class="src"><pre class="src">&nbsp;                                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1344</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1345</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1346</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1347</td>  <td class="nbHitsCovered">&nbsp;1833</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1348</td>  <td class="nbHitsCovered">&nbsp;692</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1349</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1350</td>  <td class="nbHitsCovered"><a title="Line 1350: Conditional coverage 100% (2/2).">&nbsp;460</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1350: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (ClausesPerType clausePerType : clausesPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1351</td>  <td class="nbHitsCovered"><a title="Line 1351: Conditional coverage 100% (2/2).">&nbsp;1215</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1351: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (clausePerType.valid) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1352</td>  <td class="nbHitsCovered"><a title="Line 1352: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;757</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1352: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                <span class="keyword">if</span> (clausePerType.testForNextIsOr &amp;&amp; !clausePerType.oneValid) <span class="comment">// is not valid because we have reached</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1353</td>  <td class="nbHitsCovered">&nbsp;63</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.valid = <span class="keyword">false</span>;                <span class="comment">// the end, there is no next OR</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1354</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1355</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// add node names for which there is (will be) a match clause</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1356</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                        String nm = ValueAccess.getName(clausePerType.node);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1357</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                        cbContext.validNodes.add(nm);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1358</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1359</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1360</td>  <td class="nbHitsCovered">&nbsp;1215</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1361</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                xpd.clausesPerTypes = clausesPerTypeList;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1362</td>  <td class="nbHitsCovered">&nbsp;460</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> clausesPerTypeList;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1363</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1364</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1365</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;TraversalResult&gt; forCollectionOwnersOf(DomainObjectMatch&lt;?&gt; travOwner,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1366</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Class&lt;?&gt; travOwnerType, ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1367</td>  <td class="nbHitsCovered">&nbsp;1745</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;DomainObjectMatch&lt;?&gt;&gt; collOwners = APIAccess.getCollectExpressionOwner(travOwner);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1368</td>  <td class="nbHitsCovered"><a title="Line 1368: Conditional coverage 100% (2/2).">&nbsp;1745</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1368: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (collOwners != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1369</td>  <td class="nbHitsCovered">&nbsp;512</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;TraversalResult&gt; ret = <span class="keyword">new</span> ArrayList&lt;TraversalResult&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1370</td>  <td class="nbHitsCovered"><a title="Line 1370: Conditional coverage 100% (2/2).">&nbsp;512</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1370: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; collOwner : collOwners) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1371</td>  <td class="nbHitsCovered">&nbsp;550</td>  <td class="src"><pre class="src">&nbsp;                                                TraversalResult tr = cbContext.getTravResult(collOwner, travOwner, travOwnerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1372</td>  <td class="nbHitsCovered"><a title="Line 1372: Conditional coverage 100% (2/2).">&nbsp;550</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1372: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (tr != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1373</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                                        ret.add(tr);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1374</td>  <td class="nbHitsCovered">&nbsp;550</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1375</td>  <td class="nbHitsCovered">&nbsp;512</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1376</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1377</td>  <td class="nbHitsCovered">&nbsp;1233</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1378</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1379</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1380</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addClause(IASTObject astObj, ClausesPerType clausePerType,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1381</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1382</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// The following if may only be executed after select clauses have</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1383</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// been added and when thereafter the first expression is added</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1384</td>  <td class="nbHitsCovered"><a title="Line 1384: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;2213</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1384: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                <span class="keyword">if</span> (clausePerType.collectionClauses != <span class="keyword">null</span> &amp;&amp; !clausePerType.closeBracket) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1385</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// need to encapsulate the following expressions by brackets</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1386</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        clausePerType.concat = clausePerType.concatenator.AND().BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1387</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        clausePerType.concatenator = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1388</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        clausePerType.closeBracket = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1389</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1390</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1391</td>  <td class="nbHitsCovered"><a title="Line 1391: Conditional coverage 100% (2/2).">&nbsp;2213</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1391: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> ConcatenateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1392</td>  <td class="nbHitsCovered">&nbsp;529</td>  <td class="src"><pre class="src">&nbsp;                                        ConcatenateExpression conc = (ConcatenateExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1393</td>  <td class="nbHitsCovered"><a title="Line 1393: Conditional coverage 100% (2/2).">&nbsp;529</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1393: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (conc.getConcatenator() == Concatenator.BR_OPEN) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1394</td>  <td class="nbHitsCovered"><a title="Line 1394: Conditional coverage 100% (2/2).">&nbsp;205</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1394: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (clausePerType.concatenator == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1395</td>  <td class="nbHitsCovered"><a title="Line 1395: Conditional coverage 100% (2/2).">&nbsp;121</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1395: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (clausePerType.concat == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1396</td>  <td class="nbHitsUncovered"><a title="Line 1396: Conditional coverage 50% (1/2).">&nbsp;58</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1396: Conditional coverage 50% (1/2).">                                                                <span class="keyword">if</span> (clausePerType.traversalClauses != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1397</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                        initTraversalConcat(clausePerType);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1398</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1399</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                                                        clausePerType.concat = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1400</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                                                clausePerType.previousOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1401</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1402</td>  <td class="nbHitsCovered">&nbsp;63</td>  <td class="src"><pre class="src">&nbsp;                                                                clausePerType.concat = clausePerType.concat.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1403</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> { <span class="comment">// a predicate expression or a block close was before</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1404</td>  <td class="nbHitsCovered">&nbsp;84</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.concat = clausePerType.concatenator.AND().BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1405</td>  <td class="nbHitsCovered">&nbsp;84</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.concatenator = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1406</td>  <td class="nbHitsCovered">&nbsp;84</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.previousOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1407</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1408</td>  <td class="nbHitsUncovered"><a title="Line 1408: Conditional coverage 50% (1/2).">&nbsp;205</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1408: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (clausePerType.testForNextIsOr)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1409</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        clausePerType.valid = <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1410</td>  <td class="nbHitsCovered"><a title="Line 1410: Conditional coverage 100% (2/2).">&nbsp;324</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1410: Conditional coverage 100% (2/2).">                                        } <span class="keyword">else</span> <span class="keyword">if</span> (conc.getConcatenator() == Concatenator.BR_CLOSE) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1411</td>  <td class="nbHitsUncovered"><a title="Line 1411: Conditional coverage 50% (1/2).">&nbsp;202</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1411: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (clausePerType.concatenator == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1412</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"illegal statement: "</span> + conc.getConcatenator().name());</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1413</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1414</td>  <td class="nbHitsCovered">&nbsp;202</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.concatenator = clausePerType.concatenator.BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1415</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1416</td>  <td class="nbHitsCovered">&nbsp;202</td>  <td class="src"><pre class="src">&nbsp;                                                clausePerType.previousOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1417</td>  <td class="nbHitsUncovered"><a title="Line 1417: Conditional coverage 50% (1/2).">&nbsp;122</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1417: Conditional coverage 50% (1/2).">                                        } <span class="keyword">else</span> <span class="keyword">if</span> (conc.getConcatenator() == Concatenator.OR) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1418</td>  <td class="nbHitsUncovered"><a title="Line 1418: Conditional coverage 50% (1/2).">&nbsp;122</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1418: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (clausePerType.concatenator == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1419</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"illegal statement: "</span> + conc.getConcatenator().name());</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1420</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1421</td>  <td class="nbHitsCovered">&nbsp;122</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.concat = clausePerType.concatenator.OR();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1422</td>  <td class="nbHitsCovered">&nbsp;122</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.previousOr = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1423</td>  <td class="nbHitsCovered">&nbsp;122</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.testForNextIsOr = <span class="keyword">false</span>; <span class="comment">// or has occurred, we don't need further testing</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1424</td>  <td class="nbHitsCovered">&nbsp;122</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.concatenator = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1425</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1426</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1427</td>  <td class="nbHitsCovered"><a title="Line 1427: Conditional coverage 100% (2/2).">&nbsp;529</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1427: Conditional coverage 100% (2/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> PredicateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1428</td>  <td class="nbHitsCovered"><a title="Line 1428: Conditional coverage 100% (2/2).">&nbsp;1045</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1428: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (clausePerType.testForNextIsOr) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1429</td>  <td class="nbHitsCovered">&nbsp;100</td>  <td class="src"><pre class="src">&nbsp;                                                clausePerType.valid = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1430</td>  <td class="nbHitsCovered">&nbsp;100</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1431</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1432</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        PredicateExpression pred = (PredicateExpression)astObj;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1433</td>  <td class="nbHitsCovered"><a title="Line 1433: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1433: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (clausePerType.traversalClauses != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1434</td>  <td class="nbHitsCovered"><a title="Line 1434: Conditional coverage 100% (2/2).">&nbsp;11</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1434: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (clausePerType.concat == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1435</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                                        initTraversalConcat(clausePerType);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1436</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1437</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        Concat concat_1 = clausePerType.concat;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1438</td>  <td class="nbHitsCovered"><a title="Line 1438: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1438: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (clausePerType.concatenator != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1439</td>  <td class="nbHitsCovered">&nbsp;180</td>  <td class="src"><pre class="src">&nbsp;                                                concat_1 = clausePerType.concatenator.AND();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1440</td>  <td class="nbHitsCovered">&nbsp;180</td>  <td class="src"><pre class="src">&nbsp;                                                clausePerType.previousOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1441</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1442</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        clausePerType.concatenator = buildPredicateExpression(pred, concat_1, clausePerType, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1443</td>  <td class="nbHitsCovered"><a title="Line 1443: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1443: Conditional coverage 100% (2/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> TraversalExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1444</td>  <td class="nbHitsCovered">&nbsp;1392</td>  <td class="src"><pre class="src">&nbsp;                                        clausePerType.traversalClauses = createTraversalClauses(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1445</td>  <td class="nbHitsCovered">&nbsp;464</td>  <td class="src"><pre class="src">&nbsp;                                                        clausePerType.node, clausePerType,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1446</td>  <td class="nbHitsCovered">&nbsp;464</td>  <td class="src"><pre class="src">&nbsp;                                                        (TraversalExpression) astObj, cbContext, <span class="keyword">false</span>, <span class="keyword">null</span>).getAllClauses(); <span class="comment">// no copy with path</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1447</td>  <td class="nbHitsCovered">&nbsp;464</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;DomainObjectMatch&lt;?&gt;&gt; collXOwner =</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1448</td>  <td class="nbHitsCovered">&nbsp;464</td>  <td class="src"><pre class="src">&nbsp;                                                        APIAccess.getCollectExpressionOwner(((TraversalExpression)astObj).getEnd());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1449</td>  <td class="nbHitsCovered"><a title="Line 1449: Conditional coverage 100% (2/2).">&nbsp;464</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1449: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (collXOwner != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1450</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// we need to produce copies of the traversal expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1451</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// for each collection expression which uses this traversal expression,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1452</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// so that the result of the original traversal expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1453</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// will not be altered by the collection expression(s)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1454</td>  <td class="nbHitsCovered"><a title="Line 1454: Conditional coverage 100% (2/2).">&nbsp;313</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1454: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; dom : collXOwner) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1455</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                                        String nnm = ValueAccess.getName(clausePerType.node).concat(collNodePostPrefix)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1456</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                                                        .concat(APIAccess.getBaseNodeName(dom));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1457</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                                        TraversalResult travResult = createTraversalClauses(</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1458</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        <span class="keyword">new</span> JcNode(nnm), clausePerType,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1459</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        (TraversalExpression) astObj, cbContext, <span class="keyword">true</span>, dom); <span class="comment">// copy with path</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1460</td>  <td class="nbHitsCovered">&nbsp;650</td>  <td class="src"><pre class="src">&nbsp;                                                        cbContext.addTravClausesPerColl(dom, clausePerType.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1461</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                                                        clausePerType.domainObjectType, travResult);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1462</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1463</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1464</td>  <td class="nbHitsCovered"><a title="Line 1464: Conditional coverage 100% (2/2).">&nbsp;464</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1464: Conditional coverage 100% (2/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> SelectExpression&lt;?&gt;) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1465</td>  <td class="nbHitsCovered">&nbsp;150</td>  <td class="src"><pre class="src">&nbsp;                                        createAddSelectClauses(clausePerType, (SelectExpression&lt;?&gt;) astObj, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1466</td>  <td class="nbHitsCovered"><a title="Line 1466: Conditional coverage 100% (2/2).">&nbsp;25</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1466: Conditional coverage 100% (2/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> CollectExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1467</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        createCollectClauses(clausePerType, (CollectExpression) astObj, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1468</td>  <td class="nbHitsUncovered"><a title="Line 1468: Conditional coverage 50% (1/2).">&nbsp;11</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1468: Conditional coverage 50% (1/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (astObj <span class="keyword">instanceof</span> FromPreviousQueryExpression) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1469</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                        createFromPrevQueryClauses(clausePerType, (FromPreviousQueryExpression)astObj,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1470</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1471</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1472</td>  <td class="nbHitsCovered">&nbsp;2113</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1473</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1474</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> initTraversalConcat(ClausesPerType cpt) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1475</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                IClause cl = cpt.traversalClauses.get(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1476</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                                                cpt.traversalClauses.size() - 1);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1477</td>  <td class="nbHitsCovered"><a title="Line 1477: Conditional coverage 100% (2/2).">&nbsp;7</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1477: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (cl <span class="keyword">instanceof</span> iot.jcypher.query.api.predicate.Concatenator) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1478</td>  <td class="nbHitsCovered">&nbsp;10</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.concat = ((iot.jcypher.query.api.predicate.Concatenator)cl)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1479</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                        .AND().BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1480</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.closeBracket = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1481</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1482</td>  <td class="nbHitsCovered">&nbsp;7</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1483</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1484</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1485</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> iot.jcypher.query.api.predicate.Concatenator buildPredicateExpression(PredicateExpression pred,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1486</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Concat concat, ClausesPerType clausesPerType, ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1487</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                iot.jcypher.query.api.predicate.Concatenator ret = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1488</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// handle negations</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1489</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> neg = pred.getNegationCount();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1490</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                Concat concat_1 = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1491</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                BooleanOperation booleanOp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1492</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                Operator op = pred.getOperator();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1493</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                ValueElement val_1 = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1494</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                IPredicateOperand1 v_1 = pred.getValue_1();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1495</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1496</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                testValidInOperation(op, 1, pred); <span class="comment">// throws an exception if not valid</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1497</td>  <td class="nbHitsCovered"><a title="Line 1497: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1497: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (v_1 <span class="keyword">instanceof</span> ValueElement)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1498</td>  <td class="nbHitsCovered">&nbsp;706</td>  <td class="src"><pre class="src">&nbsp;                                        val_1 = testAndCloneIfNeeded((ValueElement)v_1, clausesPerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1499</td>  <td class="nbHitsUncovered"><a title="Line 1499: Conditional coverage 25% (1/4) [each condition: 50%, 0%].">&nbsp;239</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1499: Conditional coverage 25% (1/4) [each condition: 50%, 0%].">                                <span class="keyword">else</span> <span class="keyword">if</span> (v_1 <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt; || v_1 <span class="keyword">instanceof</span> Count)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1500</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                                        val_1 = clausesPerType.node;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1501</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1502</td>  <td class="nbHitsUncovered"><a title="Line 1502: Conditional coverage 50% (1/2).">&nbsp;945</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1502: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (val_1 != <span class="keyword">null</span>) { <span class="comment">// if either really null or invalid</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1503</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        Object val_2 = pred.getValue_2();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1504</td>  <td class="nbHitsCovered"><a title="Line 1504: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1504: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (val_2 <span class="keyword">instanceof</span> Parameter)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1505</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                val_2 = ((Parameter)val_2).getValue();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1506</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        testValidInOperation(op, 2, pred); <span class="comment">// throws an exception if not valid</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1507</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1508</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> val2IsDom = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1509</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;Object&gt; val_2s = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1510</td>  <td class="nbHitsCovered"><a title="Line 1510: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1510: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (val_2 <span class="keyword">instanceof</span> IPredicateOperand1) { <span class="comment">// ValueElement or DomainObjectMatch</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1511</td>  <td class="nbHitsCovered"><a title="Line 1511: Conditional coverage 100% (2/2).">&nbsp;247</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1511: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (val_2 <span class="keyword">instanceof</span> DomainObjectMatch&lt;?&gt;) { <span class="comment">// after test op must be IN or EQUALS</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1512</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                                                        val2IsDom = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1513</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                                                        val_2s = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1514</td>  <td class="nbHitsCovered">&nbsp;478</td>  <td class="src"><pre class="src">&nbsp;                                                        val_2s.add(collectNodes((DomainObjectMatch&lt;?&gt;)val_2, cbContext.validNodes,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1515</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                                                                        clausesPerType.domainObjectType));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1516</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1517</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                        val_2s = buildAllInstances((ValueElement)val_2, cbContext.validNodes);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1518</td>  <td class="nbHitsUncovered"><a title="Line 1518: Conditional coverage 50% (1/2).">&nbsp;698</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1518: Conditional coverage 50% (1/2).">                                        } <span class="keyword">else</span> <span class="keyword">if</span> (val_2 != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1519</td>  <td class="nbHitsCovered">&nbsp;698</td>  <td class="src"><pre class="src">&nbsp;                                                val_2s = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1520</td>  <td class="nbHitsCovered">&nbsp;698</td>  <td class="src"><pre class="src">&nbsp;                                                val_2s.add(val_2);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1521</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1522</td>  <td class="nbHitsUncovered"><a title="Line 1522: Conditional coverage 50% (1/2).">&nbsp;945</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1522: Conditional coverage 50% (1/2).">                                        <span class="keyword">int</span> cnt = val_2s != <span class="keyword">null</span> ? val_2s.size() : 1;</a></span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1523</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1524</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> negate = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1525</td>  <td class="nbHitsCovered"><a title="Line 1525: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1525: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (val2IsDom) { <span class="comment">// after test op must be IN or EQUALS</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1526</td>  <td class="nbHitsCovered"><a title="Line 1526: Conditional coverage 100% (2/2).">&nbsp;239</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1526: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (neg &gt; 0) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1527</td>  <td class="nbHitsCovered">&nbsp;29</td>  <td class="src"><pre class="src">&nbsp;                                                        neg--;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1528</td>  <td class="nbHitsCovered">&nbsp;29</td>  <td class="src"><pre class="src">&nbsp;                                                        negate = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1529</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1530</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1531</td>  <td class="nbHitsCovered"><a title="Line 1531: Conditional coverage 100% (2/2).">&nbsp;948</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1531: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (<span class="keyword">int</span> i = neg; neg &gt; 0; neg--) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1532</td>  <td class="nbHitsUncovered"><a title="Line 1532: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1532: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (i == neg) { <span class="comment">// the first negation</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1533</td>  <td class="nbHitsUncovered"><a title="Line 1533: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1533: Conditional coverage 50% (1/2).">                                                        <span class="keyword">if</span> (concat == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1534</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                concat_1 = (Concat)WHERE.NOT();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1535</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1536</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                                                concat_1 = (Concat)concat.NOT();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1537</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1538</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        concat_1 = (Concat)concat_1.NOT();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1539</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1540</td>  <td class="nbHitsCovered"><a title="Line 1540: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1540: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (concat_1 == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1541</td>  <td class="nbHitsCovered">&nbsp;942</td>  <td class="src"><pre class="src">&nbsp;                                                concat_1 = concat;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1542</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1543</td>  <td class="nbHitsCovered"><a title="Line 1543: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1543: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                        <span class="keyword">if</span> (cnt &gt; 1 || val2IsDom) { <span class="comment">// encapsulate by brackets</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1544</td>  <td class="nbHitsCovered"><a title="Line 1544: Conditional coverage 100% (2/2).">&nbsp;243</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1544: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (concat_1 != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1545</td>  <td class="nbHitsCovered">&nbsp;191</td>  <td class="src"><pre class="src">&nbsp;                                                        concat_1 = concat_1.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1546</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span> { <span class="comment">// no negation(s)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1547</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                                        concat_1 = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1548</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1549</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1550</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1551</td>  <td class="nbHitsCovered"><a title="Line 1551: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1551: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!val2IsDom) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1552</td>  <td class="nbHitsCovered"><a title="Line 1552: Conditional coverage 100% (2/2).">&nbsp;706</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1552: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (concat_1 == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1553</td>  <td class="nbHitsCovered">&nbsp;409</td>  <td class="src"><pre class="src">&nbsp;                                                        booleanOp = WHERE.valueOf(val_1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1554</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1555</td>  <td class="nbHitsCovered">&nbsp;297</td>  <td class="src"><pre class="src">&nbsp;                                                        booleanOp = concat_1.valueOf(val_1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1556</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1557</td>  <td class="nbHitsCovered">&nbsp;239</td>  <td class="src"><pre class="src">&nbsp;                                                booleanOp = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1558</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1559</td>  <td class="nbHitsCovered"><a title="Line 1559: Conditional coverage 100% (2/2).">&nbsp;1894</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1559: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; cnt; i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1560</td>  <td class="nbHitsUncovered"><a title="Line 1560: Conditional coverage 50% (1/2).">&nbsp;949</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1560: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (val_2s != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1561</td>  <td class="nbHitsCovered">&nbsp;949</td>  <td class="src"><pre class="src">&nbsp;                                                        val_2 = val_2s.get(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1562</td>  <td class="nbHitsCovered"><a title="Line 1562: Conditional coverage 100% (2/2).">&nbsp;949</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1562: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (op == Operator.EQUALS)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1563</td>  <td class="nbHitsCovered">&nbsp;659</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = booleanOp.EQUALS(val_2);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1564</td>  <td class="nbHitsUncovered"><a title="Line 1564: Conditional coverage 50% (1/2).">&nbsp;290</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1564: Conditional coverage 50% (1/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.GT)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1565</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        ret = booleanOp.GT(val_2);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1566</td>  <td class="nbHitsCovered"><a title="Line 1566: Conditional coverage 100% (2/2).">&nbsp;290</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1566: Conditional coverage 100% (2/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.GTE)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1567</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = booleanOp.GTE(val_2);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1568</td>  <td class="nbHitsCovered"><a title="Line 1568: Conditional coverage 100% (2/2).">&nbsp;286</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1568: Conditional coverage 100% (2/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.IN) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1569</td>  <td class="nbHitsCovered"><a title="Line 1569: Conditional coverage 100% (2/2).">&nbsp;191</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1569: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (val2IsDom)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1570</td>  <td class="nbHitsCovered">&nbsp;189</td>  <td class="src"><pre class="src">&nbsp;                                                                ret = createWhereIn(concat_1, val_1, (List&lt;JcNode&gt;) val_2, negate);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1571</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1572</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                                ret = booleanOp.IN_list(val_2);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1573</td>  <td class="nbHitsCovered"><a title="Line 1573: Conditional coverage 100% (2/2).">&nbsp;95</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1573: Conditional coverage 100% (2/2).">                                                } <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.CONTAINS) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1574</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// value_1 must be a DomainObjactMatch,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1575</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// must be in collection expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1576</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="comment">// validity test has already been done</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1577</td>  <td class="nbHitsCovered"><a title="Line 1577: Conditional coverage 100% (2/2).">&nbsp;68</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1577: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (val2IsDom)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1578</td>  <td class="nbHitsCovered">&nbsp;50</td>  <td class="src"><pre class="src">&nbsp;                                                                ret = createWhereIn(concat_1, val_1, (List&lt;JcNode&gt;) val_2, negate);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1579</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1580</td>  <td class="nbHitsCovered">&nbsp;18</td>  <td class="src"><pre class="src">&nbsp;                                                                ret = createContains(concat_1, (JcCollection) val_1, (Object[]) val_2, negate);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1581</td>  <td class="nbHitsUncovered"><a title="Line 1581: Conditional coverage 50% (1/2).">&nbsp;27</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1581: Conditional coverage 50% (1/2).">                                                } <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.IS_NULL)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1582</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        ret = booleanOp.IS_NULL();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1583</td>  <td class="nbHitsCovered"><a title="Line 1583: Conditional coverage 100% (2/2).">&nbsp;27</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1583: Conditional coverage 100% (2/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.LIKE)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1584</td>  <td class="nbHitsCovered">&nbsp;24</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = booleanOp.REGEX(val_2.toString());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1585</td>  <td class="nbHitsUncovered"><a title="Line 1585: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1585: Conditional coverage 50% (1/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.LT)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1586</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        ret = booleanOp.LT(val_2);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1587</td>  <td class="nbHitsUncovered"><a title="Line 1587: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1587: Conditional coverage 50% (1/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.LTE)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1588</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        ret = booleanOp.LTE(val_2);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1589</td>  <td class="nbHitsCovered"><a title="Line 1589: Conditional coverage 100% (2/2).">&nbsp;3</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1589: Conditional coverage 100% (2/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.STARTS_WITH)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1590</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = booleanOp.STARTS_WITH(val_2.toString());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1591</td>  <td class="nbHitsCovered"><a title="Line 1591: Conditional coverage 100% (2/2).">&nbsp;2</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1591: Conditional coverage 100% (2/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.ENDS_WITH)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1592</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = booleanOp.ENDS_WITH(val_2.toString());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1593</td>  <td class="nbHitsUncovered"><a title="Line 1593: Conditional coverage 50% (1/2).">&nbsp;1</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1593: Conditional coverage 50% (1/2).">                                                <span class="keyword">else</span> <span class="keyword">if</span> (op == Operator.CONTAINS_STRING)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1594</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                        ret = booleanOp.CONTAINS(val_2.toString());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1595</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1596</td>  <td class="nbHitsCovered"><a title="Line 1596: Conditional coverage 100% (2/2).">&nbsp;949</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1596: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (i &lt; cnt - 1)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1597</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                        booleanOp = ret.OR().valueOf(val_1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1598</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1599</td>  <td class="nbHitsCovered"><a title="Line 1599: Conditional coverage 100% (2/2).">&nbsp;945</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1599: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cnt &gt; 1) { <span class="comment">// encapsulate by brackets</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1600</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                ret = ret.BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1601</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1602</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1603</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        clausesPerType.valid = <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1604</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1605</td>  <td class="nbHitsCovered">&nbsp;945</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1606</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1607</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1608</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> iot.jcypher.query.api.predicate.Concatenator createContains(</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1609</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Concat concat, JcCollection val_1, Object[] val_2,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1610</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> negate) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1611</td>  <td class="nbHitsCovered">&nbsp;18</td>  <td class="src"><pre class="src">&nbsp;                                JcValue x = <span class="keyword">new</span> JcValue(<span class="string">"x"</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1612</td>  <td class="nbHitsCovered">&nbsp;18</td>  <td class="src"><pre class="src">&nbsp;                                iot.jcypher.query.api.predicate.Concatenator fx = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1613</td>  <td class="nbHitsCovered"><a title="Line 1613: Conditional coverage 100% (2/2).">&nbsp;18</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1613: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (val_2.length == 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1614</td>  <td class="nbHitsCovered"><a title="Line 1614: Conditional coverage 100% (2/2).">&nbsp;12</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1614: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (concat != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1615</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                fx = concat.holdsTrue(I.forAny(x).IN(val_1).WHERE().valueOf(x).EQUALS(val_2[0]));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1616</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1617</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                fx =        WHERE.holdsTrue(I.forAny(x).IN(val_1).WHERE().valueOf(x).EQUALS(val_2[0]));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1618</td>  <td class="nbHitsUncovered"><a title="Line 1618: Conditional coverage 50% (1/2).">&nbsp;6</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1618: Conditional coverage 50% (1/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (val_2.length &gt; 1) {</a></span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1619</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Concat concat_1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1620</td>  <td class="nbHitsUncovered"><a title="Line 1620: Conditional coverage 50% (1/2).">&nbsp;6</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1620: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (concat != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1621</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                concat_1 = concat.BR_OPEN();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1622</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1623</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                concat_1 = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1624</td>  <td class="nbHitsCovered"><a title="Line 1624: Conditional coverage 100% (2/2).">&nbsp;18</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1624: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; val_2.length;i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1625</td>  <td class="nbHitsCovered"><a title="Line 1625: Conditional coverage 100% (2/2).">&nbsp;12</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1625: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (fx == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1626</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                        fx = concat_1.holdsTrue(I.forAny(x).IN(val_1).WHERE().valueOf(x).EQUALS(val_2[i]));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1627</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1628</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                        fx = fx.AND().holdsTrue(I.forAny(x).IN(val_1).WHERE().valueOf(x).EQUALS(val_2[i]));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1629</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1630</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                        fx = fx.BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1631</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1632</td>  <td class="nbHitsCovered">&nbsp;18</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> fx;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1633</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1634</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1635</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> iot.jcypher.query.api.predicate.Concatenator createWhereIn(</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1636</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Concat concat, ValueElement val_1, List&lt;JcNode&gt; val_2, <span class="keyword">boolean</span> not) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1637</td>  <td class="nbHitsCovered">&nbsp;358</td>  <td class="src"><pre class="src">&nbsp;                                iot.jcypher.query.api.predicate.Concatenator booleanOp = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1638</td>  <td class="nbHitsCovered">&nbsp;358</td>  <td class="src"><pre class="src">&nbsp;                                Concat concat_1 = concat;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1639</td>  <td class="nbHitsCovered"><a title="Line 1639: Conditional coverage 100% (2/2).">&nbsp;358</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1639: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (val_2.isEmpty()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1640</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                        iot.jcypher.query.ast.predicate.PredicateExpression px =</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1641</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                                        (iot.jcypher.query.ast.predicate.PredicateExpression)APIObjectAccess.getAstNode(concat_1);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1642</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                        IPredicateHolder ph = px.getLastPredicateHolder();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1643</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                        BooleanValue bv = <span class="keyword">new</span> BooleanValue(<span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1644</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                        ph.setPredicate(bv);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1645</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                        booleanOp = PFactory.createConcatenator((iot.jcypher.query.ast.predicate.PredicateExpression) ph)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1646</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                                        .BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1647</td>  <td class="nbHitsCovered">&nbsp;106</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1648</td>  <td class="nbHitsCovered">&nbsp;252</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">int</span> idx = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1649</td>  <td class="nbHitsCovered"><a title="Line 1649: Conditional coverage 100% (2/2).">&nbsp;252</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1649: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (JcNode n : val_2) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1650</td>  <td class="nbHitsCovered"><a title="Line 1650: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;304</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1650: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                <span class="keyword">if</span> (idx == 0 &amp;&amp; val_2.size() &gt; 1) <span class="comment">// encapsulate with brackets</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1651</td>  <td class="nbHitsCovered">&nbsp;44</td>  <td class="src"><pre class="src">&nbsp;                                                        concat_1 = concat_1.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1652</td>  <td class="nbHitsCovered"><a title="Line 1652: Conditional coverage 100% (2/2).">&nbsp;304</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1652: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (not) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1653</td>  <td class="nbHitsUncovered"><a title="Line 1653: Conditional coverage 50% (1/2).">&nbsp;11</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1653: Conditional coverage 50% (1/2).">                                                        <span class="keyword">if</span> (idx == 0)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1654</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                booleanOp = concat_1.valueOf(n).IS_NULL().OR().NOT().valueOf(val_1).IN_list(n).BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1655</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1656</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                booleanOp = booleanOp.AND().BR_OPEN().valueOf(n).IS_NULL().OR().NOT().valueOf(val_1).IN_list(n).BR_CLOSE();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1657</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1658</td>  <td class="nbHitsCovered"><a title="Line 1658: Conditional coverage 100% (2/2).">&nbsp;293</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1658: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (idx == 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1659</td>  <td class="nbHitsCovered">&nbsp;241</td>  <td class="src"><pre class="src">&nbsp;                                                                booleanOp = concat_1.NOT().valueOf(n).IS_NULL().AND().valueOf(val_1).IN_list(n).BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1660</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1661</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                                                booleanOp.OR().BR_OPEN().NOT().valueOf(n).IS_NULL().AND().valueOf(val_1).IN_list(n).BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1662</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1663</td>  <td class="nbHitsCovered"><a title="Line 1663: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;304</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1663: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                <span class="keyword">if</span> ((idx == val_2.size() - 1) &amp;&amp; val_2.size() &gt; 1) <span class="comment">// encapsulate with brackets</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1664</td>  <td class="nbHitsCovered">&nbsp;44</td>  <td class="src"><pre class="src">&nbsp;                                                        booleanOp = booleanOp.BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1665</td>  <td class="nbHitsCovered">&nbsp;304</td>  <td class="src"><pre class="src">&nbsp;                                                idx++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1666</td>  <td class="nbHitsCovered">&nbsp;304</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1667</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1668</td>  <td class="nbHitsCovered">&nbsp;358</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> booleanOp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1669</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1670</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1671</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> TraversalResult createTraversalClauses(JcNode origEndNode,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1672</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClausesPerType clausesPerType,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1673</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        TraversalExpression travEx,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1674</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext, <span class="keyword">boolean</span> copy,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1675</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        DomainObjectMatch&lt;?&gt; collOwner) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1676</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                TraversalResult ret = <span class="keyword">new</span> TraversalResult();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1677</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                ret.expressionParts = <span class="keyword">new</span> ArrayList&lt;List&lt;IClause&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1678</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                String startBName = APIAccess.getBaseNodeName(travEx.getStart());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1679</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                String endNodeLabel = getMappingInfo().getLabelForClass(clausesPerType.domainObjectType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1680</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                String origEndNodeName = ValueAccess.getName(origEndNode);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1681</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1682</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;StepClause&gt; stepCls = <span class="keyword">new</span> ArrayList&lt;StepClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1683</td>  <td class="nbHitsCovered"><a title="Line 1683: Conditional coverage 100% (2/2).">&nbsp;789</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1683: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (String validNodeName : cbContext.validNodes) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1684</td>  <td class="nbHitsCovered"><a title="Line 1684: Conditional coverage 100% (2/2).">&nbsp;3397</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1684: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (validNodeName.indexOf(startBName) == 0) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1685</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">int</span> tmpNodeIdx = cbContext.stepClausesCount + stepCls.size();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1686</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// only valid clauses are returned</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1687</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;StepClause&gt; partStepCls = buildStepClauses(travEx, tmpNodeIdx, validNodeName,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1688</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                endNodeLabel, origEndNodeName, copy);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1689</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;IClause&gt; part = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1690</td>  <td class="nbHitsCovered"><a title="Line 1690: Conditional coverage 100% (2/2).">&nbsp;1171</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1690: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (StepClause sc : partStepCls) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1691</td>  <td class="nbHitsCovered">&nbsp;377</td>  <td class="src"><pre class="src">&nbsp;                                                        part.add(SEPARATE.nextClause());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1692</td>  <td class="nbHitsCovered">&nbsp;377</td>  <td class="src"><pre class="src">&nbsp;                                                        part.add(sc.getTotalMatchNode());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1693</td>  <td class="nbHitsCovered">&nbsp;377</td>  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1694</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                                ret.expressionParts.add(part);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1695</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                                stepCls.addAll(partStepCls);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1696</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1697</td>  <td class="nbHitsCovered">&nbsp;3397</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1698</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                cbContext.stepClausesCount = cbContext.stepClausesCount + stepCls.size();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1699</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1700</td>  <td class="nbHitsCovered"><a title="Line 1700: Conditional coverage 100% (2/2).">&nbsp;789</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1700: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (stepCls.size() == 1) { <span class="comment">// don't need to build union of multiple sets</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1701</td>  <td class="nbHitsCovered">&nbsp;227</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause sc = stepCls.get(0);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1702</td>  <td class="nbHitsCovered">&nbsp;227</td>  <td class="src"><pre class="src">&nbsp;                                        JcNode endNd = sc.getEndNode();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1703</td>  <td class="nbHitsCovered">&nbsp;227</td>  <td class="src"><pre class="src">&nbsp;                                        ValueAccess.setName(origEndNodeName,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1704</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        endNd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1705</td>  <td class="nbHitsCovered"><a title="Line 1705: Conditional coverage 100% (2/2).">&nbsp;227</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1705: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (sc.jcPath != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1706</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                ValueAccess.setName(pathFromNode(origEndNodeName), sc.jcPath);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1707</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                String startNodeName = ValueAccess.getName(sc.startNode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1708</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                ret.addStartPath(startNodeName, sc.jcPath);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1709</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                                                ret.getClausesPerTypeList().add(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1710</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">new</span> ClausesPerType(endNd, clausesPerType.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1711</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                                                clausesPerType.domainObjectType));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1712</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                cbContext.addCountFor(collOwner, clausesPerType.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1713</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                startNodeName, endNd);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1714</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1715</td>  <td class="nbHitsCovered"><a title="Line 1715: Conditional coverage 100% (2/2).">&nbsp;227</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1715: Conditional coverage 100% (2/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (stepCls.size() &gt; 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1716</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;JcNode&gt; tempNodes = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1717</td>  <td class="nbHitsCovered"><a title="Line 1717: Conditional coverage 100% (2/2).">&nbsp;75</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1717: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (StepClause sc : stepCls) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1718</td>  <td class="nbHitsCovered">&nbsp;150</td>  <td class="src"><pre class="src">&nbsp;                                                JcNode endNd = sc.getEndNode();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1719</td>  <td class="nbHitsCovered">&nbsp;150</td>  <td class="src"><pre class="src">&nbsp;                                                tempNodes.add(endNd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1720</td>  <td class="nbHitsCovered"><a title="Line 1720: Conditional coverage 100% (2/2).">&nbsp;150</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1720: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (sc.jcPath != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1721</td>  <td class="nbHitsCovered">&nbsp;198</td>  <td class="src"><pre class="src">&nbsp;                                                        ValueAccess.setName(pathFromNode(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1722</td>  <td class="nbHitsCovered">&nbsp;132</td>  <td class="src"><pre class="src">&nbsp;                                                                        ValueAccess.getName(endNd)), sc.jcPath);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1723</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                        String startNodeName = ValueAccess.getName(sc.startNode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1724</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                        ret.addStartPath(startNodeName, sc.jcPath);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1725</td>  <td class="nbHitsCovered">&nbsp;132</td>  <td class="src"><pre class="src">&nbsp;                                                        ret.getClausesPerTypeList().add(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1726</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                                        <span class="keyword">new</span> ClausesPerType(endNd, clausesPerType.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1727</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                                                        clausesPerType.domainObjectType));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1728</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                        cbContext.addCountFor(collOwner, clausesPerType.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1729</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        startNodeName, endNd);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1730</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1731</td>  <td class="nbHitsCovered">&nbsp;150</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1732</td>  <td class="nbHitsCovered"><a title="Line 1732: Conditional coverage 100% (2/2).">&nbsp;75</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1732: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!copy) { <span class="comment">// in this case the collection expression using</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1733</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// the copy works on each part-path in turn</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1734</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// therefore  we don't need to build the union</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1735</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;IClause&gt; part = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1736</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                part.add(SEPARATE.nextClause());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1737</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                part.add(OPTIONAL_MATCH.node(origEndNode).label(endNodeLabel));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1738</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                Concat concat = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1739</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                part.add(createWhereIn(concat, origEndNode, tempNodes, <span class="keyword">false</span>));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1740</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                ret.expressionParts.add(part);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1741</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1742</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1743</td>  <td class="nbHitsCovered">&nbsp;487</td>  <td class="src"><pre class="src">&nbsp;                                        clausesPerType.valid = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1744</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">//                                        throw new RuntimeException("attribute(s): " + invalidAttribs + " do(es) not exist " +</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1745</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">//                                                        "in domain object type(s): " + inValidTypes);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1746</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1747</td>  <td class="nbHitsCovered">&nbsp;789</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1748</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1749</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1750</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> createFromPrevQueryClauses(ClausesPerType cpt, FromPreviousQueryExpression fpe,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1751</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1752</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// this will always be the first expression for a DomainObjectMatch</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1753</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// or a ClausePerType respectively</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1754</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;Long&gt; ids = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1755</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                DomainObjectMatch&lt;?&gt; prev = fpe.getPreviousMatch();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1756</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1757</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;Object&gt; prevobjs = (List&lt;Object&gt;) fpe.getPreviousObjects();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1758</td>  <td class="nbHitsCovered"><a title="Line 1758: Conditional coverage 100% (2/2).">&nbsp;11</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1758: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (prev != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1759</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                        QueryExecutor qexec = APIAccess.getMappingInfo(prev).getQueryExecutor();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1760</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                        QueryContext qContext = qexec.getQueryResult();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1761</td>  <td class="nbHitsUncovered"><a title="Line 1761: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1761: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (qContext == <span class="keyword">null</span>) { <span class="comment">// not yet executed</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1762</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                                qexec.execute();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1763</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1764</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                                        ids = qexec.getIdsFor(prev, cpt.domainObjectType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1765</td>  <td class="nbHitsUncovered"><a title="Line 1765: Conditional coverage 50% (1/2).">&nbsp;3</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1765: Conditional coverage 50% (1/2).">                                } <span class="keyword">else</span> <span class="keyword">if</span> (prevobjs != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1766</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;SyncInfo&gt; syInfos = domainAccess.getSyncInfos(prevobjs);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1767</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                        ids = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1768</td>  <td class="nbHitsCovered"><a title="Line 1768: Conditional coverage 100% (2/2).">&nbsp;8</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1768: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (SyncInfo si : syInfos) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1769</td>  <td class="nbHitsCovered">&nbsp;29</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">long</span> id = si.getId();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1770</td>  <td class="nbHitsUncovered"><a title="Line 1770: Conditional coverage 50% (1/2).">&nbsp;29</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1770: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (id == -1)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1771</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Object was not retrieved by the underlying IDomainAccess"</span>);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1772</td>  <td class="nbHitsCovered">&nbsp;29</td>  <td class="src"><pre class="src">&nbsp;                                                ids.add(id);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1773</td>  <td class="nbHitsCovered">&nbsp;29</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1774</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1775</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1776</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                cpt.startIds = ids;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1777</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1778</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1779</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        @SuppressWarnings(<span class="string">"unchecked"</span>)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1780</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> createCollectClauses(ClausesPerType cpt, CollectExpression collEx,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1781</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1782</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                cpt.isCollectExpression = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1783</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                List&lt;JcNode&gt; nodes;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1784</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                Object hint = ValueAccess.getAnyHint(collEx.getAttribute(), APIAccess.hintKey_validNodes);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1785</td>  <td class="nbHitsUncovered"><a title="Line 1785: Conditional coverage 50% (1/2).">&nbsp;14</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1785: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (hint <span class="keyword">instanceof</span> List&lt;?&gt;) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1786</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        nodes = (List&lt;JcNode&gt;) hint;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1787</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        nodes = cbContext.filterValidNodes(nodes);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1788</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1789</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        nodes = cbContext.filterValidNodes(APIAccess.getNodes(collEx.getStartDOM()));</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1790</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1791</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                JcNode unionNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1792</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                JcValue val;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1793</td>  <td class="nbHitsUncovered"><a title="Line 1793: Conditional coverage 50% (1/2).">&nbsp;14</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1793: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (nodes.size() &gt; 0) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1794</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;IClause&gt; collectClauses = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1795</td>  <td class="nbHitsCovered"><a title="Line 1795: Conditional coverage 100% (2/2).">&nbsp;14</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1795: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (nodes.size() &gt; 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1796</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                String unionName = APIAccess.getBaseNodeName(cpt.domainObjectMatch).concat(collectNodePostfix);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1797</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                unionNode = <span class="keyword">new</span> JcNode(unionName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1798</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                collectClauses.add(OPTIONAL_MATCH.node(unionNode));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1799</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                collectClauses.add(createWhereIn(WHERE.BR_OPEN(), unionNode, nodes, <span class="keyword">false</span>));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1800</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1801</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                                unionNode = nodes.get(0);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1802</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        JcCollection&lt;JcValue&gt; unionColl = <span class="keyword">new</span> JcCollection&lt;JcValue&gt;(ValueAccess.getName(unionNode));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1803</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1804</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        String tempName = APIAccess.getBaseNodeName(cpt.domainObjectMatch).concat(tmpNodePostPrefix);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1805</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        JcNode tempNode = <span class="keyword">new</span> JcNode(tempName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1806</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        ValueElement first = ValueAccess.findFirst(collEx.getAttribute());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1807</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        val = (JcValue)cloneVe(collEx.getAttribute(), first, tempNode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1808</td>  <td class="nbHitsCovered">&nbsp;28</td>  <td class="src"><pre class="src">&nbsp;                                        collectClauses.add(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1809</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                                        WITH.collection(C.EXTRACT().valueOf(val).fromAll(tempNode).IN_list(unionColl)).AS(cpt.node));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1810</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.withClausesAddIdxs = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1811</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.withClausesAddIdxs.add(collectClauses.size());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1812</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.collectionClauses = collectClauses;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1813</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.lastIsWith = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1814</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1815</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        cpt.valid = <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1816</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1817</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1818</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1819</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1820</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> createAddSelectClauses(ClausesPerType cpt, SelectExpression&lt;?&gt; selEx,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1821</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext) {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1822</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// the select can return results only for valid nodes in start set,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1823</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// because it selects from the start set.</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1824</td>  <td class="nbHitsCovered"><a title="Line 1824: Conditional coverage 100% (2/2).">&nbsp;150</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1824: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (!cbContext.isNodeValid(APIAccess.getNodeForType(selEx.getStart(), cpt.domainObjectType))) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1825</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.valid = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1826</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1827</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1828</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1829</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IClause&gt; selectClauses = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1830</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1831</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// get the DOMs which are derived by traversal and which occur</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1832</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// as start in a predicate expression within this collection expression.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1833</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// The appropriate traversal expressions have been cloned, so that</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1834</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// the predicate expression does not constrain the result of the original</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1835</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// traversal expression.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1836</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// now add the predicate expression(s) to the clones</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1837</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;DomainObjectMatch&lt;?&gt;&gt; travDOMs = selEx.getTraversalResults();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1838</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                Map&lt;IASTObject, TraversalPathsPerDOM&gt; astObject2TraversalPaths =</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1839</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">new</span> HashMap&lt;IASTObject, TraversalPathsPerDOM&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1840</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IClause&gt; countWithClauses = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1841</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                Map&lt;Class&lt;?&gt;, CountIntersectsPerType&gt; countIntersectsPerType = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1842</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// needed for intersection in count</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1843</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IClause&gt; selfWithClauses = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1844</td>  <td class="nbHitsUncovered"><a title="Line 1844: Conditional coverage 50% (1/2).">&nbsp;75</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1844: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (travDOMs != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1845</td>  <td class="nbHitsCovered"><a title="Line 1845: Conditional coverage 100% (2/2).">&nbsp;75</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1845: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; dom : travDOMs) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1846</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">int</span> idx = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1847</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                                ExpressionsPerDOM xpd = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1848</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                                ExpressionsPerDOM countXpd = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1849</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                                TraversalPathsPerDOM tpd = <span class="keyword">new</span> TraversalPathsPerDOM();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1850</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// for all types of the DomainObjectMatch</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1851</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;Class&lt;?&gt;&gt; typeList = APIAccess.getTypeList(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1852</td>  <td class="nbHitsCovered"><a title="Line 1852: Conditional coverage 100% (2/2).">&nbsp;734</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1852: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; typeList.size(); i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1853</td>  <td class="nbHitsCovered">&nbsp;591</td>  <td class="src"><pre class="src">&nbsp;                                                        JcNode node = APIAccess.getNodes(dom).get(i);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1854</td>  <td class="nbHitsCovered"><a title="Line 1854: Conditional coverage 100% (2/2).">&nbsp;591</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1854: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (cbContext.isNodeValid(node)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1855</td>  <td class="nbHitsCovered">&nbsp;251</td>  <td class="src"><pre class="src">&nbsp;                                                                Class&lt;?&gt; clazz = typeList.get(i);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1856</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// The TraversalResult contains the cloned traversal clauses</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1857</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// (cloned for this collection expression)</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1858</td>  <td class="nbHitsCovered">&nbsp;251</td>  <td class="src"><pre class="src">&nbsp;                                                                TraversalResult travResult = cbContext.getTravResult(cpt.domainObjectMatch, dom, clazz);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1859</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1860</td>  <td class="nbHitsCovered"><a title="Line 1860: Conditional coverage 100% (2/2).">&nbsp;251</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1860: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (travResult == <span class="keyword">null</span>) { <span class="comment">// null in case of union</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1861</td>  <td class="nbHitsCovered">&nbsp;79</td>  <td class="src"><pre class="src">&nbsp;                                                                        UnionExpression ue = APIAccess.getUnionExpression(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1862</td>  <td class="nbHitsCovered"><a title="Line 1862: Conditional coverage 100% (2/2).">&nbsp;79</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1862: Conditional coverage 100% (2/2).">                                                                        <span class="keyword">if</span> (!ue.isUnion()) { <span class="comment">// intersection needs special handling</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1863</td>  <td class="nbHitsCovered"><a title="Line 1863: Conditional coverage 100% (2/2).">&nbsp;11</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1863: Conditional coverage 100% (2/2).">                                                                                <span class="keyword">if</span> (countIntersectsPerType == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1864</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                                                        countIntersectsPerType = <span class="keyword">new</span> HashMap&lt;Class&lt;?&gt;, CountIntersectsPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1865</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                CountIntersectsPerType cipt = countIntersectsPerType.get(clazz);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1866</td>  <td class="nbHitsUncovered"><a title="Line 1866: Conditional coverage 50% (1/2).">&nbsp;11</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1866: Conditional coverage 50% (1/2).">                                                                                <span class="keyword">if</span> (cipt == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1867</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                        cipt = <span class="keyword">new</span> CountIntersectsPerType();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1868</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                        countIntersectsPerType.put(clazz, cipt);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1869</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1870</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                cipt.intersection = ue;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1871</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                cipt.buildIntersection = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1872</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                cipt.intersectionDom = dom;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1873</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                                                cipt.countNodes = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1874</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1875</td>  <td class="nbHitsCovered">&nbsp;79</td>  <td class="src"><pre class="src">&nbsp;                                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1876</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        <span class="comment">// add a traversal expression clone only once for each collection expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1877</td>  <td class="nbHitsCovered"><a title="Line 1877: Conditional coverage 100% (2/2).">&nbsp;172</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1877: Conditional coverage 100% (2/2).">                                                                        <span class="keyword">if</span> (travResult.expressionsPerDOM == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1878</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                                travResult.countIntersectsPerType = countIntersectsPerType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1879</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// find all expressions within the collection expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1880</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// which act on the DomainObjectmatch dom.</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1881</td>  <td class="nbHitsCovered"><a title="Line 1881: Conditional coverage 100% (2/2).">&nbsp;119</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1881: Conditional coverage 100% (2/2).">                                                                                <span class="keyword">if</span> (xpd == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1882</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                        <span class="comment">// without count expressions</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1883</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                                                                        xpd = buildExpressionsPerDOM(dom, selEx.getAstObjects(), 1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1884</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1885</td>  <td class="nbHitsCovered"><a title="Line 1885: Conditional coverage 100% (2/2).">&nbsp;119</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1885: Conditional coverage 100% (2/2).">                                                                                <span class="keyword">if</span> (countXpd == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1886</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                        <span class="comment">// only count expressions</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1887</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                                                                        countXpd = buildExpressionsPerDOM(dom, selEx.getAstObjects(), 2);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1888</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1889</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                                <span class="keyword">boolean</span> isCount = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1890</td>  <td class="nbHitsUncovered"><a title="Line 1890: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">&nbsp;119</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1890: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">                                                                                <span class="keyword">if</span> (countXpd != <span class="keyword">null</span> &amp;&amp; countXpd.xPressions.size() &gt; 0) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1891</td>  <td class="nbHitsCovered">&nbsp;56</td>  <td class="src"><pre class="src">&nbsp;                                                                                        cpt.startCountSelectXpr = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1892</td>  <td class="nbHitsCovered">&nbsp;56</td>  <td class="src"><pre class="src">&nbsp;                                                                                        isCount = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1893</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1894</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// also serves as marker, that the teraversal expression clone has been added</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1895</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                                travResult.expressionsPerDOM = xpd; </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1896</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                                travResult.countExpressionsPerDOM = countXpd;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1897</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1898</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                                tpd.addAll(travResult.getStartPathMap());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1899</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                                <span class="keyword">int</span> idx2 = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1900</td>  <td class="nbHitsCovered"><a title="Line 1900: Conditional coverage 100% (2/2).">&nbsp;119</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1900: Conditional coverage 100% (2/2).">                                                                                <span class="keyword">for</span> (List&lt;IClause&gt; part : travResult.expressionParts) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1901</td>  <td class="nbHitsCovered"><a title="Line 1901: Conditional coverage 100% (2/2).">&nbsp;172</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1901: Conditional coverage 100% (2/2).">                                                                                        <span class="keyword">if</span> (!part.isEmpty()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1902</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                ClausesPerType iCpt = travResult.clausesPerTypeList.get(idx2);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1903</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1904</td>  <td class="nbHitsUncovered"><a title="Line 1904: Conditional coverage 50% (1/2).">&nbsp;152</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1904: Conditional coverage 50% (1/2).">                                                                                                <span class="keyword">if</span> (dom != iCpt.domainObjectMatch)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1905</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                                                        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"internal error"</span>);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1906</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1907</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// if there are predicate expressions which already</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1908</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// constrain the result set of the traversal expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1909</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// these expressions are put within brackets</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1910</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// and so are the predicate expressions added by</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1911</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// the collection expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1912</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="keyword">boolean</span> bracket = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1913</td>  <td class="nbHitsCovered"><a title="Line 1913: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1913: Conditional coverage 100% (2/2).">                                                                                                <span class="keyword">if</span> (iCpt.concatenator != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1914</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        iCpt.concat = iCpt.concatenator.BR_CLOSE().AND().BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1915</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        iCpt.concatenator = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1916</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        bracket = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1917</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1918</td>  <td class="nbHitsCovered">&nbsp;144</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        iCpt.concat = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1919</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1920</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// the path is needed, when a predicate expression is</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1921</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// added, expressed on the result of a traversal expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1922</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// (then the constraint will be expressed on head(nodes(path)))</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1923</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="keyword">boolean</span> needPath = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1924</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// without count expressions</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1925</td>  <td class="nbHitsCovered"><a title="Line 1925: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1925: Conditional coverage 100% (2/2).">                                                                                                <span class="keyword">for</span> (IASTObject ao : xpd.xPressions) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1926</td>  <td class="nbHitsCovered"><a title="Line 1926: Conditional coverage 100% (2/2).">&nbsp;146</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1926: Conditional coverage 100% (2/2).">                                                                                                        <span class="keyword">if</span> (ao <span class="keyword">instanceof</span> PredicateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1927</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                needPath = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1928</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                PredicateExpression pred = (PredicateExpression)ao;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1929</td>  <td class="nbHitsCovered">&nbsp;117</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                IPredicateOperand1 val1 = pred.getValue_1();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1930</td>  <td class="nbHitsCovered"><a title="Line 1930: Conditional coverage 100% (2/2).">&nbsp;117</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1930: Conditional coverage 100% (2/2).">                                                                                                                <span class="keyword">if</span> (val1 <span class="keyword">instanceof</span> ValueElement) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1931</td>  <td class="nbHitsCovered">&nbsp;67</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                        ValueElement ve = (ValueElement)val1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1932</td>  <td class="nbHitsCovered">&nbsp;67</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                        ve = cloneVe(ve, ValueAccess.findFirst(ve), iCpt.node);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1933</td>  <td class="nbHitsCovered">&nbsp;67</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                        pred.setValue_1(ve);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1934</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1935</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1936</td>  <td class="nbHitsCovered">&nbsp;146</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        addClause(ao, iCpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1937</td>  <td class="nbHitsCovered"><a title="Line 1937: Conditional coverage 100% (2/2).">&nbsp;146</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1937: Conditional coverage 100% (2/2).">                                                                                                        <span class="keyword">if</span> (idx == 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1938</td>  <td class="nbHitsCovered">&nbsp;63</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                astObject2TraversalPaths.put(ao, tpd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1939</td>  <td class="nbHitsCovered">&nbsp;146</td>  <td class="src"><pre class="src">&nbsp;                                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1940</td>  <td class="nbHitsCovered"><a title="Line 1940: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1940: Conditional coverage 100% (2/2).">                                                                                                <span class="keyword">if</span> (needPath) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1941</td>  <td class="nbHitsCovered">&nbsp;90</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        JcPath p = <span class="keyword">new</span> JcPath(pathFromNode(ValueAccess.getName(iCpt.node)));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1942</td>  <td class="nbHitsCovered">&nbsp;90</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        countWithClauses.add(WITH.value(p));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1943</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1944</td>  <td class="nbHitsCovered"><a title="Line 1944: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1944: Conditional coverage 100% (2/2).">                                                                                                <span class="keyword">if</span> (bracket)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1945</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        iCpt.concatenator = iCpt.concatenator.BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1946</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                idx++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1947</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                idx2++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1948</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                selectClauses.addAll(part);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1949</td>  <td class="nbHitsCovered"><a title="Line 1949: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1949: Conditional coverage 100% (2/2).">                                                                                                <span class="keyword">if</span> (iCpt.concatenator != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1950</td>  <td class="nbHitsCovered">&nbsp;90</td>  <td class="src"><pre class="src">&nbsp;                                                                                                        selectClauses.add(iCpt.concatenator);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1951</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                                                                selectClauses.add(SEPARATE.nextClause());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1952</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;1953</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// now the count expressions</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1954</td>  <td class="nbHitsCovered"><a title="Line 1954: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1954: Conditional coverage 100% (2/2).">                                                                                                <span class="keyword">for</span> (IASTObject ao : countXpd.xPressions) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1955</td>  <td class="nbHitsCovered"><a title="Line 1955: Conditional coverage 100% (2/2).">&nbsp;72</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1955: Conditional coverage 100% (2/2).">                                                                                                        <span class="keyword">if</span> (ao <span class="keyword">instanceof</span> PredicateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1956</td>  <td class="nbHitsUncovered"><a title="Line 1956: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">&nbsp;64</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1956: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">                                                                                                                <span class="keyword">boolean</span> c_i = isCount &amp;&amp;</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1957</td>  <td class="nbHitsUncovered"><a title="Line 1957: Conditional coverage 50% (1/2).">&nbsp;16</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1957: Conditional coverage 50% (1/2).">                                                                                                                                countIntersectsPerType != <span class="keyword">null</span> &amp;&amp; countIntersectsPerType.get(clazz) != <span class="keyword">null</span>;</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1958</td>  <td class="nbHitsCovered"><a title="Line 1958: Conditional coverage 100% (2/2).">&nbsp;64</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1958: Conditional coverage 100% (2/2).">                                                                                                                <span class="keyword">if</span> (c_i)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1959</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                        countIntersectsPerType.get(clazz).buildIntersection.add(iCpt);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1960</td>  <td class="nbHitsCovered">&nbsp;64</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                addCountWithClause(iCpt.node, countWithClauses,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1961</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                                selfWithClauses, selectClauses, cpt,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1962</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                                                c_i);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1963</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1964</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1965</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1966</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1967</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// handle intersection in count expression</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1968</td>  <td class="nbHitsCovered"><a title="Line 1968: Conditional coverage 100% (2/2).">&nbsp;119</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1968: Conditional coverage 100% (2/2).">                                                                                CountIntersectsPerType cipt =</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1969</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                                                                                countIntersectsPerType != <span class="keyword">null</span> ? countIntersectsPerType.get(clazz) : <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1970</td>  <td class="nbHitsCovered"><a title="Line 1970: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;119</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1970: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                                                <span class="keyword">if</span> (isCount &amp;&amp; cipt != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1971</td>  <td class="nbHitsCovered"><a title="Line 1971: Conditional coverage 100% (2/2).">&nbsp;16</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1971: Conditional coverage 100% (2/2).">                                                                                        <span class="keyword">if</span> (cipt.intersection.isLastOfSources(dom)) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;1972</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                                <span class="comment">// need to add intersection</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1973</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                                                                                cipt.countNodes = addIntersectionInCount(cipt.intersectionDom, clazz, selectClauses,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1974</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                                                                                cipt.buildIntersection, countWithClauses, cpt, cipt.countNodes);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1975</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1976</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1977</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                                        } <span class="keyword">else</span> { <span class="comment">// mark the IASTObjects which have already been processed</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1978</td>  <td class="nbHitsCovered">&nbsp;53</td>  <td class="src"><pre class="src">&nbsp;                                                                                countIntersectsPerType = travResult.countIntersectsPerType;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1979</td>  <td class="nbHitsCovered">&nbsp;53</td>  <td class="src"><pre class="src">&nbsp;                                                                                tpd.addAll(travResult.getStartPathMap());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1980</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                                <span class="comment">// without count expressions, count expressions are handled differently</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1981</td>  <td class="nbHitsCovered"><a title="Line 1981: Conditional coverage 100% (2/2).">&nbsp;53</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 1981: Conditional coverage 100% (2/2).">                                                                                <span class="keyword">for</span> (IASTObject ao : travResult.expressionsPerDOM.xPressions) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1982</td>  <td class="nbHitsCovered">&nbsp;57</td>  <td class="src"><pre class="src">&nbsp;                                                                                        astObject2TraversalPaths.put(ao, tpd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1983</td>  <td class="nbHitsCovered">&nbsp;57</td>  <td class="src"><pre class="src">&nbsp;                                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1984</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1985</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1986</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1987</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1988</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1989</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1990</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1991</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                String nodeLabel = getMappingInfo().getLabelForClass(cpt.domainObjectType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1992</td>  <td class="nbHitsCovered">&nbsp;150</td>  <td class="src"><pre class="src">&nbsp;                                selectClauses.add(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1993</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                        OPTIONAL_MATCH.node(cpt.node).label(nodeLabel)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;1994</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                );</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1995</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                Concat concat = WHERE.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1996</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;JcNode&gt; nds = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1997</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                JcNode nd = APIAccess.getNodeForType(selEx.getStart(), cpt.domainObjectType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1998</td>  <td class="nbHitsUncovered"><a title="Line 1998: Conditional coverage 50% (1/2).">&nbsp;75</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 1998: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (cbContext.isNodeValid(nd))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;1999</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                        nds.add(nd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2000</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                cpt.concatenator = createWhereIn(concat, cpt.node, nds, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2001</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                cbContext.stepClausesCount = 0;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2002</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2003</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// scope: 0 .. constrain by head(nodes(path))</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2004</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// 1 .. constraint on source set</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2005</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// 2 .. count expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2006</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// 3 .. finish (close open brackets)</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2007</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// 4 .. to force scope change</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2008</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> scope = -1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2009</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IASTObject&gt; pendingBrOpen = <span class="keyword">new</span> ArrayList&lt;IASTObject&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2010</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IASTObject&gt; pendingBrClose = <span class="keyword">new</span> ArrayList&lt;IASTObject&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2011</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                IASTObject pendingOr = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2012</td>  <td class="nbHitsCovered"><a title="Line 2012: Conditional coverage 100% (2/2).">&nbsp;75</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2012: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (selEx.getAstObjects().size() &gt; 1) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2013</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// everything after the 'containment in source expression'</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2014</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// are additional constraints and if more than one must be within brackets</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2015</td>  <td class="nbHitsCovered">&nbsp;32</td>  <td class="src"><pre class="src">&nbsp;                                        addClause(<span class="keyword">new</span> ConcatenateExpression(Concatenator.BR_OPEN), cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2016</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2017</td>  <td class="nbHitsCovered"><a title="Line 2017: Conditional coverage 100% (2/2).">&nbsp;75</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2017: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (IASTObject ao : selEx.getAstObjects()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2018</td>  <td class="nbHitsCovered">&nbsp;151</td>  <td class="src"><pre class="src">&nbsp;                                        TraversalPathsPerDOM tpd = astObject2TraversalPaths.get(ao);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2019</td>  <td class="nbHitsCovered"><a title="Line 2019: Conditional coverage 100% (2/2).">&nbsp;151</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2019: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (tpd != <span class="keyword">null</span>) { <span class="comment">// constraint defined by a traversal expression</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2020</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// test if it was not additionally created as part of a count expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2021</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// because in that case the constraint is expressed in form of the count</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2022</td>  <td class="nbHitsCovered"><a title="Line 2022: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;94</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2022: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                <span class="keyword">if</span> (!(ao <span class="keyword">instanceof</span> PredicateExpression &amp;&amp; ((PredicateExpression)ao).isPartOfCount())) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2023</td>  <td class="nbHitsCovered"><a title="Line 2023: Conditional coverage 100% (2/2).">&nbsp;92</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2023: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (!tpd.consumed) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2024</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                                tpd.consumed = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2025</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// force a scope change</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2026</td>  <td class="nbHitsCovered"><a title="Line 2026: Conditional coverage 100% (2/2).">&nbsp;60</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2026: Conditional coverage 100% (2/2).">                                                                <span class="keyword">int</span> oldScope = (scope == 0) ? 4 : scope;</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2027</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                                scope = handleScopeClose(oldScope, 0, cpt, cbContext, pendingBrClose);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2028</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                                pendingOr = handleScopeOpen(oldScope, 0, cpt, cbContext, pendingBrOpen, pendingOr);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2029</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// add clauses for the traversals (match path start)</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2030</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// as head(nodes(path))</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2031</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                                addTraversalConstraints2Select(tpd, nds, cpt);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2032</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// brClose done by handleScopeClose()</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2033</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2034</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2035</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2036</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// count expressions are handled differently</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2037</td>  <td class="nbHitsCovered"><a title="Line 2037: Conditional coverage 100% (2/2).">&nbsp;57</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2037: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (ao <span class="keyword">instanceof</span> PredicateExpression &amp;&amp;</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2038</td>  <td class="nbHitsCovered"><a title="Line 2038: Conditional coverage 100% (2/2).">&nbsp;40</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2038: Conditional coverage 100% (2/2).">                                                                ((PredicateExpression)ao).getValue_1() <span class="keyword">instanceof</span> Count) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2039</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                        List&lt;JcNode&gt; countNodes = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2040</td>  <td class="nbHitsCovered"><a title="Line 2040: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2040: Conditional coverage 100% (2/2).">                                                        CountIntersectsPerType cipt =</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2041</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                                        countIntersectsPerType != <span class="keyword">null</span> ? countIntersectsPerType.get(cpt.domainObjectType) : <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2042</td>  <td class="nbHitsCovered"><a title="Line 2042: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2042: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (cipt != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2043</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                                countNodes = cipt.countNodes;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2044</td>  <td class="nbHitsCovered"><a title="Line 2044: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2044: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (countNodes == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2045</td>  <td class="nbHitsCovered">&nbsp;54</td>  <td class="src"><pre class="src">&nbsp;                                                                countNodes = cbContext.getCountsFor(cpt.domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2046</td>  <td class="nbHitsCovered">&nbsp;27</td>  <td class="src"><pre class="src">&nbsp;                                                                                ((PredicateExpression)ao).getStartDOM(), ValueAccess.getName(nd));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2047</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">int</span> oldScope = scope;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2048</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                        scope = handleScopeClose(scope, 2, cpt, cbContext, pendingBrClose);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2049</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                        pendingOr = handleScopeOpen(oldScope, 2, cpt, cbContext, pendingBrOpen, pendingOr);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2050</td>  <td class="nbHitsCovered"><a title="Line 2050: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2050: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (pendingOr != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2051</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                                addClause(pendingOr, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2052</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                                pendingOr = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2053</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2054</td>  <td class="nbHitsCovered"><a title="Line 2054: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2054: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (countNodes.size() &gt; 0) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2055</td>  <td class="nbHitsCovered">&nbsp;31</td>  <td class="src"><pre class="src">&nbsp;                                                                JcNumber prevNum = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2056</td>  <td class="nbHitsCovered"><a title="Line 2056: Conditional coverage 100% (2/2).">&nbsp;31</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2056: Conditional coverage 100% (2/2).">                                                                <span class="keyword">for</span> (JcNode n : countNodes) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2057</td>  <td class="nbHitsCovered">&nbsp;56</td>  <td class="src"><pre class="src">&nbsp;                                                                        String alias = ValueAccess.getName(n).concat(countXprPostPrefix);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2058</td>  <td class="nbHitsCovered">&nbsp;56</td>  <td class="src"><pre class="src">&nbsp;                                                                        JcNumber num = <span class="keyword">new</span> JcNumber(alias);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2059</td>  <td class="nbHitsCovered"><a title="Line 2059: Conditional coverage 100% (2/2).">&nbsp;56</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2059: Conditional coverage 100% (2/2).">                                                                        <span class="keyword">if</span> (prevNum != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2060</td>  <td class="nbHitsCovered">&nbsp;25</td>  <td class="src"><pre class="src">&nbsp;                                                                                prevNum = prevNum.plus(num);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2061</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2062</td>  <td class="nbHitsCovered">&nbsp;31</td>  <td class="src"><pre class="src">&nbsp;                                                                                prevNum = num;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2063</td>  <td class="nbHitsCovered">&nbsp;56</td>  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2064</td>  <td class="nbHitsCovered">&nbsp;31</td>  <td class="src"><pre class="src">&nbsp;                                                                PredicateExpression newPred = ((PredicateExpression)ao).createCopy();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2065</td>  <td class="nbHitsCovered">&nbsp;31</td>  <td class="src"><pre class="src">&nbsp;                                                                newPred.setValue_1(prevNum);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2066</td>  <td class="nbHitsCovered">&nbsp;31</td>  <td class="src"><pre class="src">&nbsp;                                                                addClause(newPred, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2067</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// brClose done by handleScopeClose()</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2068</td>  <td class="nbHitsCovered">&nbsp;31</td>  <td class="src"><pre class="src">&nbsp;                                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2069</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                cpt.concat = cpt.concat.BR_OPEN();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2070</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                iot.jcypher.query.ast.predicate.PredicateExpression px =</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2071</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                                (iot.jcypher.query.ast.predicate.PredicateExpression)APIObjectAccess.getAstNode(cpt.concat);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2072</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                BooleanValue bv = <span class="keyword">new</span> BooleanValue(<span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2073</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                px.setPredicate(bv);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2074</td>  <td class="nbHitsCovered">&nbsp;10</td>  <td class="src"><pre class="src">&nbsp;                                                                cpt.concatenator = PFactory.createConcatenator(px)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2075</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                                .BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2076</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2077</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2078</td>  <td class="nbHitsCovered"><a title="Line 2078: Conditional coverage 100% (2/2).">&nbsp;21</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2078: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (ao <span class="keyword">instanceof</span> ConcatenateExpression) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2079</td>  <td class="nbHitsCovered"><a title="Line 2079: Conditional coverage 100% (2/2).">&nbsp;17</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2079: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (((ConcatenateExpression)ao).getConcatenator() == Concatenator.OR) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2080</td>  <td class="nbHitsCovered">&nbsp;13</td>  <td class="src"><pre class="src">&nbsp;                                                                        pendingOr = ao;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2081</td>  <td class="nbHitsCovered"><a title="Line 2081: Conditional coverage 100% (2/2).">&nbsp;4</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2081: Conditional coverage 100% (2/2).">                                                                } <span class="keyword">else</span> <span class="keyword">if</span> (((ConcatenateExpression)ao).getConcatenator() == Concatenator.BR_OPEN) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2082</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                                        pendingBrOpen.add(ao);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2083</td>  <td class="nbHitsUncovered"><a title="Line 2083: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2083: Conditional coverage 50% (1/2).">                                                                } <span class="keyword">else</span> <span class="keyword">if</span> (((ConcatenateExpression)ao).getConcatenator() == Concatenator.BR_CLOSE) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2084</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                                        pendingBrClose.add(ao);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2085</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2086</td>  <td class="nbHitsUncovered"><a title="Line 2086: Conditional coverage 50% (1/2).">&nbsp;4</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2086: Conditional coverage 50% (1/2).">                                                        } <span class="keyword">else</span> <span class="keyword">if</span> (ao <span class="keyword">instanceof</span> PredicateExpression) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2087</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">int</span> oldScope = scope;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2088</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                scope = handleScopeClose(scope, 1, cpt, cbContext, pendingBrClose);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2089</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                pendingOr = handleScopeOpen(oldScope, 1, cpt, cbContext, pendingBrOpen, pendingOr);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2090</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                handleBrackets(cpt, cbContext, pendingBrClose);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2091</td>  <td class="nbHitsCovered"><a title="Line 2091: Conditional coverage 100% (2/2).">&nbsp;4</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2091: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (pendingOr != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2092</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                                        addClause(pendingOr, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2093</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                                                        pendingOr = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2094</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2095</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                handleBrackets(cpt, cbContext, pendingBrOpen);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2096</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                addClause(ao, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2097</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// the expression is valid within the select expression,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2098</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// as it must be expressed either on the source set</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2099</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// or on a set directly derived from the source set by traversal;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2100</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// we must avoid testing validity afterwards</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2101</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                                cpt.testForNextIsOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2102</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2103</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2104</td>  <td class="nbHitsUncovered"><a title="Line 2104: Conditional coverage 50% (1/2).">&nbsp;57</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2104: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span>(!cpt.valid)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2105</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">break</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2106</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2107</td>  <td class="nbHitsCovered">&nbsp;151</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2108</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2109</td>  <td class="nbHitsCovered"><a title="Line 2109: Conditional coverage 100% (2/2).">&nbsp;75</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2109: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (cpt.concatenator == <span class="keyword">null</span>) { <span class="comment">// no select expression content (e.g traversal xpr) added</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2110</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.valid = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2111</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2112</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2113</td>  <td class="nbHitsCovered">&nbsp;73</td>  <td class="src"><pre class="src">&nbsp;                                        handleScopeClose(scope, 3, cpt, cbContext, pendingBrClose);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2114</td>  <td class="nbHitsCovered"><a title="Line 2114: Conditional coverage 100% (2/2).">&nbsp;73</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2114: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (selEx.getAstObjects().size() &gt; 1)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2115</td>  <td class="nbHitsCovered">&nbsp;32</td>  <td class="src"><pre class="src">&nbsp;                                        addClause(<span class="keyword">new</span> ConcatenateExpression(Concatenator.BR_CLOSE), cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2116</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2117</td>  <td class="nbHitsCovered">&nbsp;73</td>  <td class="src"><pre class="src">&nbsp;                                cpt.collectionClauses = selectClauses;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2118</td>  <td class="nbHitsCovered">&nbsp;73</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2119</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2120</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;JcNode&gt; addIntersectionInCount(DomainObjectMatch&lt;?&gt; intersectionDom,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2121</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Class&lt;?&gt; clazz, List&lt;IClause&gt; clauses, List&lt;ClausesPerType&gt; buildIntersection,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2122</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        List&lt;IClause&gt; countWithClauses, ClausesPerType cpt, List&lt;JcNode&gt; counNodes) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2123</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;JcNode&gt; ret = counNodes;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2124</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">int</span> idx3 = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2125</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                iot.jcypher.query.api.predicate.Concatenator booleanOp = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2126</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                JcNode nd = APIAccess.getNodeForType(intersectionDom, clazz);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2127</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                String nnm = ValueAccess.getName(nd).concat(collNodePostPrefix)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2128</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                .concat(APIAccess.getBaseNodeName(cpt.domainObjectMatch));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2129</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                nd = <span class="keyword">new</span> JcNode(nnm);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2130</td>  <td class="nbHitsUncovered"><a title="Line 2130: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2130: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (ret == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2131</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        ret = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2132</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                ret.add(nd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2133</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                clauses.add(OPTIONAL_MATCH.node(nd));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2134</td>  <td class="nbHitsCovered"><a title="Line 2134: Conditional coverage 100% (2/2).">&nbsp;8</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2134: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (ClausesPerType intCpt : buildIntersection) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2135</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                        JcNode n = intCpt.node;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2136</td>  <td class="nbHitsCovered"><a title="Line 2136: Conditional coverage 100% (2/2).">&nbsp;16</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2136: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (idx3 == 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2137</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                booleanOp = WHERE.BR_OPEN().NOT().valueOf(n).IS_NULL().AND().valueOf(nd).IN_list(n).BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2138</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2139</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                                booleanOp = booleanOp.AND().BR_OPEN().NOT().valueOf(n).IS_NULL().AND().valueOf(nd).IN_list(n).BR_CLOSE();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2140</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                        idx3++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2141</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2142</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">//booleanOp = booleanOp.BR_CLOSE();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2143</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                clauses.add(booleanOp);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2144</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                addCountWithClause(nd, countWithClauses, <span class="keyword">null</span>, clauses, cpt, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2145</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2146</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2147</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2148</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> handleBrackets(ClausesPerType cpt,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2149</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext, List&lt;IASTObject&gt; pendingBr) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2150</td>  <td class="nbHitsUncovered"><a title="Line 2150: Conditional coverage 50% (1/2).">&nbsp;8</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2150: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (!pendingBr.isEmpty()) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2151</td>  <td class="nbHitsUncovered"><a title="Line 2151: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2151: Conditional coverage 0% (0/2).">                                        <span class="keyword">for</span> (IASTObject iao : pendingBr)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2152</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                addClause(iao, cpt, cbContext);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2153</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        pendingBr.clear();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2154</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2155</td>  <td class="nbHitsCovered">&nbsp;8</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2156</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2157</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> handleScopeClose(<span class="keyword">int</span> scope, <span class="keyword">int</span> newScope, ClausesPerType cpt,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2158</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext, List&lt;IASTObject&gt; pendingBrClose) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2159</td>  <td class="nbHitsCovered"><a title="Line 2159: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;173</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2159: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                <span class="keyword">if</span> (scope != -1 &amp;&amp; scope != newScope) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2160</td>  <td class="nbHitsCovered"><a title="Line 2160: Conditional coverage 100% (2/2).">&nbsp;92</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2160: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!pendingBrClose.isEmpty()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2161</td>  <td class="nbHitsCovered"><a title="Line 2161: Conditional coverage 100% (2/2).">&nbsp;2</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2161: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (IASTObject iao : pendingBrClose)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2162</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                        addClause(iao, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2163</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                pendingBrClose.clear();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2164</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2165</td>  <td class="nbHitsCovered">&nbsp;90</td>  <td class="src"><pre class="src">&nbsp;                                                addClause(<span class="keyword">new</span> ConcatenateExpression(Concatenator.BR_CLOSE), cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2166</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2167</td>  <td class="nbHitsCovered">&nbsp;173</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> newScope;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2168</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2169</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2170</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> IASTObject handleScopeOpen(<span class="keyword">int</span> scope, <span class="keyword">int</span> newScope, ClausesPerType cpt,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2171</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        ClauseBuilderContext cbContext, List&lt;IASTObject&gt; pendingBrOpen,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2172</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        IASTObject pendingOr) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2173</td>  <td class="nbHitsCovered"><a title="Line 2173: Conditional coverage 100% (2/2).">&nbsp;100</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2173: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (scope != newScope) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2174</td>  <td class="nbHitsCovered"><a title="Line 2174: Conditional coverage 100% (2/2).">&nbsp;94</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2174: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (pendingOr != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2175</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                                addClause(pendingOr, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2176</td>  <td class="nbHitsCovered"><a title="Line 2176: Conditional coverage 100% (2/2).">&nbsp;94</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2176: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!pendingBrOpen.isEmpty()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2177</td>  <td class="nbHitsCovered"><a title="Line 2177: Conditional coverage 100% (2/2).">&nbsp;2</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2177: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (IASTObject iao : pendingBrOpen)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2178</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                        addClause(iao, cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2179</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                                pendingBrOpen.clear();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2180</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2181</td>  <td class="nbHitsCovered">&nbsp;92</td>  <td class="src"><pre class="src">&nbsp;                                                addClause(<span class="keyword">new</span> ConcatenateExpression(Concatenator.BR_OPEN), cpt, cbContext);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2182</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2183</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2184</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> pendingOr;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2185</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2186</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2187</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addCountWithClause(JcNode n, List&lt;IClause&gt; countWithClauses,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2188</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        List&lt;IClause&gt; selfWithClauses, List&lt;IClause&gt; selectClauses, ClausesPerType cpt,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2189</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> addSelf) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2190</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                String nnm = ValueAccess.getName(n);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2191</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                String alias = nnm.concat(countXprPostPrefix);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2192</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                JcNumber num = <span class="keyword">new</span> JcNumber(alias);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2193</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                selectClauses.add(WITH.count().DISTINCT().value(n).AS(num));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2194</td>  <td class="nbHitsCovered"><a title="Line 2194: Conditional coverage 100% (2/2).">&nbsp;72</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2194: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (addSelf)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2195</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                        selectClauses.add(WITH.value(n));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2196</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                selectClauses.addAll(countWithClauses);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2197</td>  <td class="nbHitsCovered"><a title="Line 2197: Conditional coverage 100% (2/2).">&nbsp;72</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2197: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (addSelf)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2198</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                        selectClauses.addAll(selfWithClauses);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2199</td>  <td class="nbHitsCovered"><a title="Line 2199: Conditional coverage 100% (2/2).">&nbsp;72</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2199: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (cpt.withClausesAddIdxs == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2200</td>  <td class="nbHitsCovered">&nbsp;22</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.withClausesAddIdxs = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2201</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                cpt.withClausesAddIdxs.add(0, selectClauses.size());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2202</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                                countWithClauses.add(0, WITH.value(num));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2203</td>  <td class="nbHitsCovered"><a title="Line 2203: Conditional coverage 100% (2/2).">&nbsp;72</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2203: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (addSelf)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2204</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                        selfWithClauses.add(WITH.value(n));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2205</td>  <td class="nbHitsCovered">&nbsp;72</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2206</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2207</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addTraversalConstraints2Select(TraversalPathsPerDOM tpd,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2208</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        List&lt;JcNode&gt; startNds, ClausesPerType cpt) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2209</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;JcPath&gt; paths = tpd.getAllPaths(startNds);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2210</td>  <td class="nbHitsCovered"><a title="Line 2210: Conditional coverage 100% (2/2).">&nbsp;60</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2210: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (paths.size() &gt; 0) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2211</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                        cpt.oneValid = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2212</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> bracket = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2213</td>  <td class="nbHitsUncovered"><a title="Line 2213: Conditional coverage 50% (1/2).">&nbsp;58</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2213: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (cpt.concatenator != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2214</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                cpt.concat = cpt.concatenator.AND().BR_OPEN();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2215</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                bracket = <span class="keyword">true</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2216</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2217</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">int</span> idx = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2218</td>  <td class="nbHitsCovered"><a title="Line 2218: Conditional coverage 100% (2/2).">&nbsp;58</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2218: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span>(JcPath path : paths) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2219</td>  <td class="nbHitsCovered"><a title="Line 2219: Conditional coverage 100% (2/2).">&nbsp;88</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2219: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (idx &gt; 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2220</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                        cpt.concatenator =</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2221</td>  <td class="nbHitsCovered">&nbsp;30</td>  <td class="src"><pre class="src">&nbsp;                                                                        cpt.concatenator.OR().valueOf(cpt.node).EQUALS(path.nodes().head());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2222</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2223</td>  <td class="nbHitsCovered">&nbsp;116</td>  <td class="src"><pre class="src">&nbsp;                                                        cpt.concatenator =</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2224</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                                                cpt.concat.valueOf(cpt.node).EQUALS(path.nodes().head());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2225</td>  <td class="nbHitsCovered">&nbsp;88</td>  <td class="src"><pre class="src">&nbsp;                                                idx++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2226</td>  <td class="nbHitsCovered">&nbsp;88</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2227</td>  <td class="nbHitsUncovered"><a title="Line 2227: Conditional coverage 50% (1/2).">&nbsp;58</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2227: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (bracket)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2228</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                cpt.concatenator =</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2229</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                cpt.concatenator.BR_CLOSE();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2230</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2231</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2232</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2233</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;StepClause&gt; buildStepClauses(TraversalExpression travEx, <span class="keyword">int</span> tmpNodeIdx, String startNodeName,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2234</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        String endNodeLabel, String origEndNodeName, <span class="keyword">boolean</span> copy) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2235</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                StepClause stepClause = <span class="keyword">new</span> StepClause();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2236</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                stepClause.buildAll(travEx, tmpNodeIdx, startNodeName, endNodeLabel,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2237</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                origEndNodeName, copy);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2238</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2239</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> <span class="keyword">this</span>.filterValidClauses(stepClause.stepClauses);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2240</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2241</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2242</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;StepClause&gt; filterValidClauses(List&lt;StepClause&gt; toFilter) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2243</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;StepClause&gt; ret = <span class="keyword">new</span> ArrayList&lt;StepClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2244</td>  <td class="nbHitsCovered"><a title="Line 2244: Conditional coverage 100% (2/2).">&nbsp;1171</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2244: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span>(StepClause sc : toFilter) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2245</td>  <td class="nbHitsCovered"><a title="Line 2245: Conditional coverage 100% (2/2).">&nbsp;1279</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2245: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (sc.getTotalMatchNode() != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2246</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">boolean</span> doAdd = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2247</td>  <td class="nbHitsCovered"><a title="Line 2247: Conditional coverage 100% (2/2).">&nbsp;438</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2247: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (StepClause scRet : ret) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2248</td>  <td class="nbHitsUncovered"><a title="Line 2248: Conditional coverage 50% (1/2).">&nbsp;61</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2248: Conditional coverage 50% (1/2).">                                                        <span class="keyword">if</span> (scRet.isSameAs(sc)) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2249</td>  <td class="nbHitsCovered">&nbsp;61</td>  <td class="src"><pre class="src">&nbsp;                                                                doAdd = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2250</td>  <td class="nbHitsCovered">&nbsp;61</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2251</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2252</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                }</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2253</td>  <td class="nbHitsCovered"><a title="Line 2253: Conditional coverage 100% (2/2).">&nbsp;438</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2253: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (doAdd)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2254</td>  <td class="nbHitsCovered">&nbsp;377</td>  <td class="src"><pre class="src">&nbsp;                                                        ret.add(sc);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2255</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2256</td>  <td class="nbHitsCovered">&nbsp;1279</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2257</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2258</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2259</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2260</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> String pathFromNode(String nodeName) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2261</td>  <td class="nbHitsCovered">&nbsp;754</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> nodeName.replaceFirst(APIAccess.nodePrefix, APIAccess.pathPrefix);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2262</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2263</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2264</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/***************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2265</td>  <td class="nbHitsCovered">&nbsp;139</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">class</span> CountIntersectsPerType {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2266</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> UnionExpression intersection;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2267</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;ClausesPerType&gt; buildIntersection;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2268</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> DomainObjectMatch&lt;?&gt; intersectionDom;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2269</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;JcNode&gt; countNodes;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2270</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2271</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2272</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/***************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2273</td>  <td class="nbHitsCovered">&nbsp;527</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">class</span> TraversalPathsPerDOM {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2274</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// key is the start node name</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2275</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Map&lt;String, List&lt;JcPath&gt;&gt; pathMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2276</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">boolean</span> consumed;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2277</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2278</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> TraversalPathsPerDOM() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2279</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2280</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.pathMap = <span class="keyword">new</span> HashMap&lt;String, List&lt;JcPath&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2281</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.consumed = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2282</td>  <td class="nbHitsCovered">&nbsp;143</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2283</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2284</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> addAll(Map&lt;String, List&lt;JcPath&gt;&gt; pMap) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2285</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                                        Iterator&lt;Entry&lt;String, List&lt;JcPath&gt;&gt;&gt; it = pMap.entrySet().iterator();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2286</td>  <td class="nbHitsCovered"><a title="Line 2286: Conditional coverage 100% (2/2).">&nbsp;410</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2286: Conditional coverage 100% (2/2).">                                        <span class="keyword">while</span>(it.hasNext()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2287</td>  <td class="nbHitsCovered">&nbsp;238</td>  <td class="src"><pre class="src">&nbsp;                                                Entry&lt;String, List&lt;JcPath&gt;&gt; entry = it.next();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2288</td>  <td class="nbHitsCovered">&nbsp;238</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;JcPath&gt; pths = <span class="keyword">this</span>.pathMap.get(entry.getKey());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2289</td>  <td class="nbHitsCovered"><a title="Line 2289: Conditional coverage 100% (2/2).">&nbsp;238</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2289: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (pths == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2290</td>  <td class="nbHitsCovered">&nbsp;160</td>  <td class="src"><pre class="src">&nbsp;                                                        pths = <span class="keyword">new</span> ArrayList&lt;JcPath&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2291</td>  <td class="nbHitsCovered">&nbsp;160</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.pathMap.put(entry.getKey(), pths);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2292</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2293</td>  <td class="nbHitsCovered">&nbsp;238</td>  <td class="src"><pre class="src">&nbsp;                                                pths.addAll(entry.getValue());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2294</td>  <td class="nbHitsCovered">&nbsp;238</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2295</td>  <td class="nbHitsCovered">&nbsp;172</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2296</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2297</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;JcPath&gt; getAllPaths(List&lt;JcNode&gt; nodes) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2298</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;JcPath&gt; ret = <span class="keyword">new</span> ArrayList&lt;JcPath&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2299</td>  <td class="nbHitsCovered"><a title="Line 2299: Conditional coverage 100% (2/2).">&nbsp;60</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2299: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (JcNode n : nodes) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2300</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;JcPath&gt; pths = <span class="keyword">this</span>.pathMap.get(ValueAccess.getName(n));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2301</td>  <td class="nbHitsCovered"><a title="Line 2301: Conditional coverage 100% (2/2).">&nbsp;60</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2301: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (pths != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2302</td>  <td class="nbHitsCovered">&nbsp;58</td>  <td class="src"><pre class="src">&nbsp;                                                        ret.addAll(pths);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2303</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2304</td>  <td class="nbHitsCovered">&nbsp;60</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2305</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2306</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2307</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2308</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/***************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2309</td>  <td class="nbHitsCovered">&nbsp;5438</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">class</span> TraversalResult {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2310</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;List&lt;IClause&gt;&gt; expressionParts;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2311</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// key is the start node name</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2312</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Map&lt;String, List&lt;JcPath&gt;&gt; startPathMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2313</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;ClausesPerType&gt; clausesPerTypeList;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2314</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> ExpressionsPerDOM expressionsPerDOM;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2315</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> ExpressionsPerDOM countExpressionsPerDOM;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2316</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Map&lt;Class&lt;?&gt;, CountIntersectsPerType&gt; countIntersectsPerType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2317</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2318</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;IClause&gt; getAllClauses() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2319</td>  <td class="nbHitsCovered">&nbsp;464</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;IClause&gt; ret = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2320</td>  <td class="nbHitsCovered"><a title="Line 2320: Conditional coverage 100% (2/2).">&nbsp;464</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2320: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (List&lt;IClause&gt; cls : <span class="keyword">this</span>.expressionParts) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2321</td>  <td class="nbHitsCovered">&nbsp;701</td>  <td class="src"><pre class="src">&nbsp;                                                ret.addAll(cls);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2322</td>  <td class="nbHitsCovered">&nbsp;701</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2323</td>  <td class="nbHitsCovered">&nbsp;464</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2324</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2325</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2326</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Map&lt;String, List&lt;JcPath&gt;&gt; getStartPathMap() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2327</td>  <td class="nbHitsCovered"><a title="Line 2327: Conditional coverage 100% (2/2).">&nbsp;476</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2327: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.startPathMap == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2328</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.startPathMap = <span class="keyword">new</span> HashMap&lt;String, List&lt;JcPath&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2329</td>  <td class="nbHitsCovered">&nbsp;476</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">this</span>.startPathMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2330</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2331</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2332</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> addStartPath(String startNodeName, JcPath startPath) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2333</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;JcPath&gt; pths = <span class="keyword">this</span>.getStartPathMap().get(startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2334</td>  <td class="nbHitsUncovered"><a title="Line 2334: Conditional coverage 50% (1/2).">&nbsp;152</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2334: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (pths == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2335</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                pths = <span class="keyword">new</span> ArrayList&lt;JcPath&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2336</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.getStartPathMap().put(startNodeName, pths);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2337</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2338</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                        pths.add(startPath);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2339</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2340</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2341</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;ClausesPerType&gt; getClausesPerTypeList() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2342</td>  <td class="nbHitsCovered"><a title="Line 2342: Conditional coverage 100% (2/2).">&nbsp;164</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2342: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.clausesPerTypeList == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2343</td>  <td class="nbHitsCovered">&nbsp;119</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.clausesPerTypeList = <span class="keyword">new</span> ArrayList&lt;ClausesPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2344</td>  <td class="nbHitsCovered">&nbsp;164</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">this</span>.clausesPerTypeList;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2345</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2346</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2347</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2348</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/***************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2349</td>  <td class="nbHitsCovered">&nbsp;9263</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">class</span> StepClause {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2350</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Node matchNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2351</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> StepClause next;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2352</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> StepClause previous;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2353</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;FieldMapping&gt; fieldMappings;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2354</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">int</span> fmIndex;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2355</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> TraversalExpression traversalExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2356</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Step step;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2357</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">int</span> stepIndex;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2358</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> String originalEndNodeName;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2359</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> String endNodeLabel;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2360</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> JcPath jcPath;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2361</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> JcNode startNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2362</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> JcNode endNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2363</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;StepClause&gt; stepClauses;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2364</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2365</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> buildAll(TraversalExpression travEx, <span class="keyword">int</span> tmpNodeIdx, String startNodeName, String endNodeLabel,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2366</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                String origEndNodeName, <span class="keyword">boolean</span> copy) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2367</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.stepClauses = <span class="keyword">new</span> ArrayList&lt;StepClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2368</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.originalEndNodeName = origEndNodeName;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2369</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.endNodeLabel = endNodeLabel;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2370</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.traversalExpression = travEx;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2371</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.buildFirst(tmpNodeIdx, startNodeName, copy);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2372</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2373</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2374</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> buildFirst(<span class="keyword">int</span> tmpNodeIdx, String startNodeName, <span class="keyword">boolean</span> copy) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2375</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.stepClauses.add(<span class="keyword">this</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2376</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.startNode = <span class="keyword">new</span> JcNode(startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2377</td>  <td class="nbHitsCovered"><a title="Line 2377: Conditional coverage 100% (2/2).">&nbsp;1171</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2377: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (copy) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2378</td>  <td class="nbHitsCovered">&nbsp;512</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.jcPath = <span class="keyword">new</span> JcPath(pathFromNode(<span class="keyword">this</span>.originalEndNodeName));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2379</td>  <td class="nbHitsCovered">&nbsp;512</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.matchNode = OPTIONAL_MATCH.path(<span class="keyword">this</span>.jcPath).node(<span class="keyword">this</span>.startNode);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2380</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2381</td>  <td class="nbHitsCovered">&nbsp;659</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.matchNode = OPTIONAL_MATCH.node(<span class="keyword">this</span>.startNode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2382</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        Class&lt;?&gt; typ = APIAccess.getTypeForNodeName(<span class="keyword">this</span>.traversalExpression.getStart(), startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2383</td>  <td class="nbHitsUncovered"><a title="Line 2383: Conditional coverage 50% (1/2).">&nbsp;1171</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2383: Conditional coverage 50% (1/2).">                                        <span class="keyword">boolean</span> isList = typ.equals(Collection.<span class="keyword">class</span>) ||</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2384</td>  <td class="nbHitsUncovered"><a title="Line 2384: Conditional coverage 50% (1/2).">&nbsp;1171</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2384: Conditional coverage 50% (1/2).">                                                        typ.equals(Array.<span class="keyword">class</span>); <span class="comment">// TODO what about other surrogates</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2385</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.stepIndex = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2386</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.step = <span class="keyword">this</span>.traversalExpression.getSteps().get(<span class="keyword">this</span>.stepIndex);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2387</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;Class&lt;?&gt;&gt; types = <span class="keyword">new</span> ArrayList&lt;Class&lt;?&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2388</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        types.add(typ);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2389</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.build(tmpNodeIdx, types, isList);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2390</td>  <td class="nbHitsCovered">&nbsp;1171</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2391</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2392</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> buildNext(<span class="keyword">int</span> tmpNodeIdx, List&lt;Class&lt;?&gt;&gt; types, <span class="keyword">boolean</span> isList,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2393</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                Step nextStep, <span class="keyword">int</span> nextStepIndex) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2394</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause stpc = <span class="keyword">new</span> StepClause();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2395</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.next = stpc;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2396</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.previous = <span class="keyword">this</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2397</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2398</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.matchNode = <span class="keyword">this</span>.matchNode;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2399</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.endNodeLabel = <span class="keyword">this</span>.endNodeLabel;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2400</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.originalEndNodeName = <span class="keyword">this</span>.originalEndNodeName;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2401</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.traversalExpression = <span class="keyword">this</span>.traversalExpression;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2402</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.step = nextStep;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2403</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.stepClauses = <span class="keyword">this</span>.stepClauses;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2404</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.stepIndex = nextStepIndex;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2405</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.build(tmpNodeIdx, types, isList);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2406</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2407</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2408</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> buildNextClone(<span class="keyword">int</span> tmpNodeIdx, List&lt;Class&lt;?&gt;&gt; types, <span class="keyword">boolean</span> isList,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2409</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                CloneInfo cloneInfo) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2410</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        cloneInfo.toClone = cloneInfo.toClone.next;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2411</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause stpc = <span class="keyword">new</span> StepClause();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2412</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.next = stpc;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2413</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.previous = <span class="keyword">this</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2414</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2415</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.matchNode = <span class="keyword">this</span>.matchNode;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2416</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.endNodeLabel = <span class="keyword">this</span>.endNodeLabel;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2417</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.originalEndNodeName = <span class="keyword">this</span>.originalEndNodeName;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2418</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.traversalExpression = <span class="keyword">this</span>.traversalExpression;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2419</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.stepClauses = <span class="keyword">this</span>.stepClauses;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2420</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.stepIndex = cloneInfo.toClone.stepIndex;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2421</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.step = cloneInfo.toClone.step;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2422</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.fieldMappings = cloneInfo.toClone.fieldMappings;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2423</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.fmIndex = cloneInfo.toClone.fmIndex;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2424</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                        stpc.buildClone(tmpNodeIdx, cloneInfo, isList);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2425</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2426</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2427</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> build(<span class="keyword">int</span> tmpNodeIdx, List&lt;Class&lt;?&gt;&gt; types, <span class="keyword">boolean</span> isList) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2428</td>  <td class="nbHitsCovered">&nbsp;2507</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;FieldMapping&gt; fms = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2429</td>  <td class="nbHitsCovered"><a title="Line 2429: Conditional coverage 100% (2/2).">&nbsp;2507</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2429: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (Class&lt;?&gt; t : types) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2430</td>  <td class="nbHitsCovered"><a title="Line 2430: Conditional coverage 100% (2/2).">&nbsp;2619</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2430: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (<span class="keyword">this</span>.step.getDirection() == 0) { <span class="comment">// forward</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2431</td>  <td class="nbHitsCovered">&nbsp;2546</td>  <td class="src"><pre class="src">&nbsp;                                                        FieldMapping fm = getMappingInfo().getFieldMapping(<span class="keyword">this</span>.step.getAttributeName(),</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2432</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        t);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2433</td>  <td class="nbHitsCovered"><a title="Line 2433: Conditional coverage 100% (2/2).">&nbsp;2546</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2433: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (fm != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2434</td>  <td class="nbHitsCovered"><a title="Line 2434: Conditional coverage 100% (2/2).">&nbsp;2512</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2434: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (fms == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2435</td>  <td class="nbHitsCovered">&nbsp;2417</td>  <td class="src"><pre class="src">&nbsp;                                                                        fms = <span class="keyword">new</span> ArrayList&lt;FieldMapping&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2436</td>  <td class="nbHitsCovered">&nbsp;2512</td>  <td class="src"><pre class="src">&nbsp;                                                                fms.add(fm);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2437</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2438</td>  <td class="nbHitsCovered">&nbsp;2546</td>  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> { <span class="comment">// backward</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2439</td>  <td class="nbHitsCovered"><a title="Line 2439: Conditional coverage 100% (2/2).">&nbsp;73</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2439: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (fms == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2440</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                                fms = <span class="keyword">new</span> ArrayList&lt;FieldMapping&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2441</td>  <td class="nbHitsCovered">&nbsp;73</td>  <td class="src"><pre class="src">&nbsp;                                                        List&lt;FieldMapping&gt; fms_t = getMappingInfo().getBackwardFieldMappings(<span class="keyword">this</span>.step.getAttributeName(),</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2442</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        t);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2443</td>  <td class="nbHitsCovered"><a title="Line 2443: Conditional coverage 100% (2/2).">&nbsp;73</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2443: Conditional coverage 100% (2/2).">                                                        <span class="keyword">for</span> (FieldMapping f : fms_t) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2444</td>  <td class="nbHitsCovered"><a title="Line 2444: Conditional coverage 100% (2/2).">&nbsp;78</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2444: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (!fms.contains(f))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2445</td>  <td class="nbHitsCovered">&nbsp;75</td>  <td class="src"><pre class="src">&nbsp;                                                                        fms.add(f);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2446</td>  <td class="nbHitsCovered">&nbsp;78</td>  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2447</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2448</td>  <td class="nbHitsCovered">&nbsp;2619</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2449</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2450</td>  <td class="nbHitsCovered">&nbsp;2507</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> doBuild = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2451</td>  <td class="nbHitsUncovered"><a title="Line 2451: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">&nbsp;2507</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2451: Conditional coverage 75% (3/4) [each condition: 100%, 50%].">                                        <span class="keyword">if</span> (fms != <span class="keyword">null</span> &amp;&amp; !fms.isEmpty()) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2452</td>  <td class="nbHitsCovered">&nbsp;2483</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.fieldMappings = fms;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2453</td>  <td class="nbHitsCovered">&nbsp;2483</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.fmIndex = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2454</td>  <td class="nbHitsCovered">&nbsp;2483</td>  <td class="src"><pre class="src">&nbsp;                                                doBuild = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2455</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2456</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// navigation has no result</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2457</td>  <td class="nbHitsCovered">&nbsp;24</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.matchNode = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2458</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2459</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2460</td>  <td class="nbHitsCovered"><a title="Line 2460: Conditional coverage 100% (2/2).">&nbsp;2507</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2460: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (doBuild) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2461</td>  <td class="nbHitsCovered"><a title="Line 2461: Conditional coverage 100% (2/2).">&nbsp;2483</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2461: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (<span class="keyword">this</span>.step.getDirection() == 0) <span class="comment">// forward</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2462</td>  <td class="nbHitsCovered">&nbsp;2417</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.buildStep(tmpNodeIdx, isList, <span class="keyword">null</span>, <span class="keyword">true</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2463</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2464</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.buildStep(tmpNodeIdx, isList, <span class="keyword">null</span>, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2465</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2466</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2467</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// test for additional paths</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2468</td>  <td class="nbHitsCovered"><a title="Line 2468: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;2507</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2468: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.fieldMappings != <span class="keyword">null</span> &amp;&amp; <span class="keyword">this</span>.fmIndex &lt; <span class="keyword">this</span>.fieldMappings.size() - 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2469</td>  <td class="nbHitsCovered">&nbsp;104</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.cloneTraversal(<span class="keyword">this</span>, tmpNodeIdx + 1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2470</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2471</td>  <td class="nbHitsCovered">&nbsp;2507</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2472</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2473</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> buildStep(<span class="keyword">int</span> tmpNodeIdx, <span class="keyword">boolean</span> listOrArray, CloneInfo cloneInfo,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2474</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">boolean</span> forward) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2475</td>  <td class="nbHitsCovered">&nbsp;2799</td>  <td class="src"><pre class="src">&nbsp;                                        FieldMapping fm = <span class="keyword">this</span>.fieldMappings.get(<span class="keyword">this</span>.fmIndex);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2476</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2477</td>  <td class="nbHitsCovered">&nbsp;2799</td>  <td class="src"><pre class="src">&nbsp;                                        Relation matchRel = matchNode.relation().type(fm.getPropertyOrRelationName());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2478</td>  <td class="nbHitsCovered"><a title="Line 2478: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2478: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (forward)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2479</td>  <td class="nbHitsCovered">&nbsp;2704</td>  <td class="src"><pre class="src">&nbsp;                                                matchRel = matchRel.out();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2480</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2481</td>  <td class="nbHitsCovered">&nbsp;95</td>  <td class="src"><pre class="src">&nbsp;                                                matchRel = matchRel.in();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2482</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2483</td>  <td class="nbHitsCovered"><a title="Line 2483: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2483: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.step.getMinDistance() != 1)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2484</td>  <td class="nbHitsCovered">&nbsp;451</td>  <td class="src"><pre class="src">&nbsp;                                                matchRel = matchRel.minHops(<span class="keyword">this</span>.step.getMinDistance());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2485</td>  <td class="nbHitsCovered"><a title="Line 2485: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2485: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.step.getMaxDistance() != 1) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2486</td>  <td class="nbHitsUncovered"><a title="Line 2486: Conditional coverage 50% (1/2).">&nbsp;622</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2486: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (<span class="keyword">this</span>.step.getMaxDistance() == -1)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2487</td>  <td class="nbHitsCovered">&nbsp;622</td>  <td class="src"><pre class="src">&nbsp;                                                        matchRel = matchRel.maxHopsUnbound();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2488</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2489</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        matchRel = matchRel.maxHops(<span class="keyword">this</span>.step.getMaxDistance());</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2490</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2491</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2492</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        Class&lt;?&gt; typ;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2493</td>  <td class="nbHitsCovered">&nbsp;2799</td>  <td class="src"><pre class="src">&nbsp;                                        CompoundObjectType cType = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2494</td>  <td class="nbHitsCovered"><a title="Line 2494: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2494: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (forward) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2495</td>  <td class="nbHitsCovered"><a title="Line 2495: Conditional coverage 100% (2/2).">&nbsp;2704</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2495: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (listOrArray) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2496</td>  <td class="nbHitsCovered">&nbsp;661</td>  <td class="src"><pre class="src">&nbsp;                                                        cType = getMappingInfo().getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2497</td>  <td class="nbHitsCovered">&nbsp;661</td>  <td class="src"><pre class="src">&nbsp;                                                                        .getFieldComponentType(fm.getClassFieldName());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2498</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2499</td>  <td class="nbHitsCovered">&nbsp;2043</td>  <td class="src"><pre class="src">&nbsp;                                                        cType = getMappingInfo().getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2500</td>  <td class="nbHitsCovered">&nbsp;2043</td>  <td class="src"><pre class="src">&nbsp;                                                                        .getConcreteFieldType(fm.getClassFieldName());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2501</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2502</td>  <td class="nbHitsUncovered"><a title="Line 2502: Conditional coverage 50% (1/2).">&nbsp;2704</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2502: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (cType != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2503</td>  <td class="nbHitsCovered">&nbsp;2704</td>  <td class="src"><pre class="src">&nbsp;                                                        typ = cType.getType();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2504</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2505</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        typ = fm.getFieldType();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2506</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> { <span class="comment">// backward</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2507</td>  <td class="nbHitsCovered">&nbsp;95</td>  <td class="src"><pre class="src">&nbsp;                                                typ = fm.getField().getDeclaringClass();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2508</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2509</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2510</td>  <td class="nbHitsCovered"><a title="Line 2510: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2510: Conditional coverage 100% (2/2).">                                        <span class="keyword">boolean</span> isList = typ.equals(Collection.<span class="keyword">class</span>) ||</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2511</td>  <td class="nbHitsUncovered"><a title="Line 2511: Conditional coverage 50% (1/2).">&nbsp;2123</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2511: Conditional coverage 50% (1/2).">                                                        typ.equals(Array.<span class="keyword">class</span>); <span class="comment">// TODO alternative check for surrogate</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2512</td>  <td class="nbHitsCovered">&nbsp;2799</td>  <td class="src"><pre class="src">&nbsp;                                        Step nextStep = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2513</td>  <td class="nbHitsCovered">&nbsp;2799</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">int</span> nextStepIndex = <span class="keyword">this</span>.stepIndex;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2514</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        List&lt;Class&lt;?&gt;&gt; types;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2515</td>  <td class="nbHitsCovered"><a title="Line 2515: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2515: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (isList) { <span class="comment">// need to advance one step</span></a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2516</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// surrogates have one (non-transient) field</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2517</td>  <td class="nbHitsCovered"><a title="Line 2517: Conditional coverage 100% (2/2).">&nbsp;676</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2517: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (forward) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2518</td>  <td class="nbHitsCovered">&nbsp;1322</td>  <td class="src"><pre class="src">&nbsp;                                                        nextStep = <span class="keyword">this</span>.step.createStep(<span class="keyword">this</span>.step.getDirection(),</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2519</td>  <td class="nbHitsCovered">&nbsp;661</td>  <td class="src"><pre class="src">&nbsp;                                                                        getMappingInfo().getObjectMappingFor(typ)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2520</td>  <td class="nbHitsCovered">&nbsp;661</td>  <td class="src"><pre class="src">&nbsp;                                                                                .fieldMappingsIterator().next().getPropertyOrRelationName());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2521</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> { <span class="comment">// backward</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2522</td>  <td class="nbHitsCovered">&nbsp;30</td>  <td class="src"><pre class="src">&nbsp;                                                        nextStep = <span class="keyword">this</span>.step.createStep(<span class="keyword">this</span>.step.getDirection(),</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2523</td>  <td class="nbHitsCovered">&nbsp;15</td>  <td class="src"><pre class="src">&nbsp;                                                                        <span class="keyword">this</span>.step.getAttributeName());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2524</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2525</td>  <td class="nbHitsCovered">&nbsp;676</td>  <td class="src"><pre class="src">&nbsp;                                                types = <span class="keyword">new</span> ArrayList&lt;Class&lt;?&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2526</td>  <td class="nbHitsCovered">&nbsp;676</td>  <td class="src"><pre class="src">&nbsp;                                                types.add(typ);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2527</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2528</td>  <td class="nbHitsCovered">&nbsp;2123</td>  <td class="src"><pre class="src">&nbsp;                                                nextStepIndex++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2529</td>  <td class="nbHitsCovered"><a title="Line 2529: Conditional coverage 100% (2/2).">&nbsp;2123</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2529: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (nextStepIndex &lt;= <span class="keyword">this</span>.traversalExpression.getSteps().size() - 1)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2530</td>  <td class="nbHitsCovered">&nbsp;868</td>  <td class="src"><pre class="src">&nbsp;                                                        nextStep = <span class="keyword">this</span>.traversalExpression.getSteps().get(nextStepIndex);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2531</td>  <td class="nbHitsCovered"><a title="Line 2531: Conditional coverage 100% (2/2).">&nbsp;2123</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2531: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (forward) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2532</td>  <td class="nbHitsUncovered"><a title="Line 2532: Conditional coverage 50% (1/2).">&nbsp;2043</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2532: Conditional coverage 50% (1/2).">                                                        <span class="keyword">if</span> (cType != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2533</td>  <td class="nbHitsCovered">&nbsp;2043</td>  <td class="src"><pre class="src">&nbsp;                                                                types = cType.getTypes(<span class="keyword">true</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2534</td>  <td class="nbHitsUncovered"><a title="Line 2534: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2534: Conditional coverage 0% (0/2).">                                                        <span class="keyword">else</span> <span class="keyword">if</span> (CompoundObjectType.isConcrete(typ)) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2535</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                types = <span class="keyword">new</span> ArrayList&lt;Class&lt;?&gt;&gt;();</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2536</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                types.add(typ);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2537</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2538</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                                types = <span class="keyword">new</span> ArrayList&lt;Class&lt;?&gt;&gt;();</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2539</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2540</td>  <td class="nbHitsCovered">&nbsp;80</td>  <td class="src"><pre class="src">&nbsp;                                                        types = getMappingInfo().getCompoundTypesFor(typ);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2541</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2542</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2543</td>  <td class="nbHitsCovered"><a title="Line 2543: Conditional coverage 100% (2/2).">&nbsp;2799</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2543: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (nextStep == <span class="keyword">null</span>) { <span class="comment">// we have reached the end</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2544</td>  <td class="nbHitsCovered"><a title="Line 2544: Conditional coverage 100% (2/2).">&nbsp;1255</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2544: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (isValidEndNodeType(types)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2545</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.endNode = <span class="keyword">new</span> JcNode(<span class="keyword">this</span>.originalEndNodeName.concat(tmpNodePostPrefix)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2546</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                                        .concat(String.valueOf(tmpNodeIdx)));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2547</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                        StepClause first = <span class="keyword">this</span>.getFirst();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2548</td>  <td class="nbHitsCovered"><a title="Line 2548: Conditional coverage 100% (2/2).">&nbsp;438</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2548: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (first.jcPath != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2549</td>  <td class="nbHitsCovered">&nbsp;176</td>  <td class="src"><pre class="src">&nbsp;                                                                String npm = ValueAccess.getName(first.jcPath).concat(tmpNodePostPrefix)</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2550</td>  <td class="nbHitsCovered">&nbsp;176</td>  <td class="src"><pre class="src">&nbsp;                                                                                .concat(String.valueOf(tmpNodeIdx));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2551</td>  <td class="nbHitsCovered">&nbsp;176</td>  <td class="src"><pre class="src">&nbsp;                                                                ValueAccess.setName(npm, first.jcPath);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2552</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2553</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.matchNode = matchRel.node(<span class="keyword">this</span>.endNode).label(<span class="keyword">this</span>.endNodeLabel);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2554</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2555</td>  <td class="nbHitsCovered">&nbsp;817</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.matchNode = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2556</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2557</td>  <td class="nbHitsCovered">&nbsp;1544</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.matchNode = matchRel.node();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2558</td>  <td class="nbHitsCovered"><a title="Line 2558: Conditional coverage 100% (2/2).">&nbsp;1544</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2558: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (cloneInfo != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2559</td>  <td class="nbHitsCovered">&nbsp;208</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.buildNextClone(tmpNodeIdx, types, isList, cloneInfo);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2560</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2561</td>  <td class="nbHitsCovered">&nbsp;1336</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.buildNext(tmpNodeIdx, types, isList, nextStep, nextStepIndex);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2562</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2563</td>  <td class="nbHitsCovered">&nbsp;2799</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2564</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2565</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">boolean</span> isValidEndNodeType(List&lt;Class&lt;?&gt;&gt; types) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2566</td>  <td class="nbHitsCovered"><a title="Line 2566: Conditional coverage 100% (2/2).">&nbsp;1255</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2566: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (Class&lt;?&gt; clazz : types) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2567</td>  <td class="nbHitsCovered"><a title="Line 2567: Conditional coverage 100% (2/2).">&nbsp;2109</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2567: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (<span class="keyword">this</span>.endNodeLabel.equals(getMappingInfo().getLabelForClass(clazz)))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2568</td>  <td class="nbHitsCovered">&nbsp;438</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">return</span> <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2569</td>  <td class="nbHitsCovered">&nbsp;1671</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2570</td>  <td class="nbHitsCovered">&nbsp;817</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2571</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2572</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2573</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> cloneTraversal(StepClause cloneTo, <span class="keyword">int</span> tmpNodeIdx) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2574</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause first = <span class="keyword">this</span>.getFirst();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2575</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause newFirst = <span class="keyword">new</span> StepClause();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2576</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        newFirst.stepClauses = first.stepClauses;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2577</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        CloneInfo cloneInfo = <span class="keyword">new</span> CloneInfo();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2578</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        cloneInfo.toClone = first;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2579</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        cloneInfo.cloneTo = cloneTo;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2580</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        newFirst.cloneFirst(cloneInfo, tmpNodeIdx);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2581</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2582</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2583</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> cloneFirst(CloneInfo cloneInfo, <span class="keyword">int</span> tmpNodeIdx) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2584</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.stepClauses.add(<span class="keyword">this</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2585</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.startNode = cloneInfo.toClone.startNode;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2586</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.jcPath = cloneInfo.toClone.jcPath;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2587</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.originalEndNodeName = cloneInfo.toClone.originalEndNodeName;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2588</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.endNodeLabel = cloneInfo.toClone.endNodeLabel;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2589</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.traversalExpression = cloneInfo.toClone.traversalExpression;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2590</td>  <td class="nbHitsCovered"><a title="Line 2590: Conditional coverage 100% (2/2).">&nbsp;108</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2590: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.jcPath != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2591</td>  <td class="nbHitsCovered">&nbsp;42</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.matchNode = OPTIONAL_MATCH.path(<span class="keyword">this</span>.jcPath).node(<span class="keyword">this</span>.startNode);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2592</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2593</td>  <td class="nbHitsCovered">&nbsp;66</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.matchNode = OPTIONAL_MATCH.node(<span class="keyword">this</span>.startNode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2594</td>  <td class="nbHitsCovered">&nbsp;216</td>  <td class="src"><pre class="src">&nbsp;                                        Class&lt;?&gt; typ = APIAccess.getTypeForNodeName(<span class="keyword">this</span>.traversalExpression.getStart(),</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2595</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                                        ValueAccess.getName(<span class="keyword">this</span>.startNode));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2596</td>  <td class="nbHitsUncovered"><a title="Line 2596: Conditional coverage 50% (1/2).">&nbsp;108</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2596: Conditional coverage 50% (1/2).">                                        <span class="keyword">boolean</span> isList = typ.equals(Collection.<span class="keyword">class</span>) ||</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2597</td>  <td class="nbHitsUncovered"><a title="Line 2597: Conditional coverage 50% (1/2).">&nbsp;108</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2597: Conditional coverage 50% (1/2).">                                                        typ.equals(Array.<span class="keyword">class</span>); <span class="comment">// TODO what about other surrogates</span></a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2598</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.stepIndex = cloneInfo.toClone.stepIndex;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2599</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.step = cloneInfo.toClone.step;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2600</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.fieldMappings = cloneInfo.toClone.fieldMappings;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2601</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.fmIndex = cloneInfo.toClone.fmIndex;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2602</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.buildClone(tmpNodeIdx, cloneInfo, isList);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2603</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2604</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2605</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> buildClone(<span class="keyword">int</span> tmpNodeIdx, CloneInfo cloneInfo, <span class="keyword">boolean</span> isList) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2606</td>  <td class="nbHitsCovered">&nbsp;316</td>  <td class="src"><pre class="src">&nbsp;                                        CloneInfo cli = cloneInfo;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2607</td>  <td class="nbHitsCovered"><a title="Line 2607: Conditional coverage 100% (2/2).">&nbsp;316</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2607: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (cli.stopCloning()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2608</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.fmIndex++;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2609</td>  <td class="nbHitsCovered">&nbsp;108</td>  <td class="src"><pre class="src">&nbsp;                                                cli = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2610</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2611</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2612</td>  <td class="nbHitsCovered"><a title="Line 2612: Conditional coverage 100% (2/2).">&nbsp;316</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2612: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.step.getDirection() == 0) <span class="comment">// forward</span></a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2613</td>  <td class="nbHitsCovered">&nbsp;287</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.buildStep(tmpNodeIdx, isList, cli, <span class="keyword">true</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2614</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2615</td>  <td class="nbHitsCovered">&nbsp;29</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.buildStep(tmpNodeIdx, isList, cli, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2616</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2617</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// test for additional paths</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2618</td>  <td class="nbHitsUncovered"><a title="Line 2618: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">&nbsp;316</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2618: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.fieldMappings != <span class="keyword">null</span> &amp;&amp; <span class="keyword">this</span>.fmIndex &lt; <span class="keyword">this</span>.fieldMappings.size() - 1) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2619</td>  <td class="nbHitsCovered">&nbsp;4</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.cloneTraversal(<span class="keyword">this</span>, tmpNodeIdx + 1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2620</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2621</td>  <td class="nbHitsCovered">&nbsp;316</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2622</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2623</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> JcNode getEndNode() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2624</td>  <td class="nbHitsCovered">&nbsp;377</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">this</span>.getLast().endNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2625</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2626</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2627</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Node getTotalMatchNode() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2628</td>  <td class="nbHitsCovered">&nbsp;1656</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">this</span>.getLast().matchNode;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2629</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2630</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2631</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> StepClause getFirst() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2632</td>  <td class="nbHitsCovered">&nbsp;546</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause first = <span class="keyword">this</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2633</td>  <td class="nbHitsCovered"><a title="Line 2633: Conditional coverage 100% (2/2).">&nbsp;1429</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2633: Conditional coverage 100% (2/2).">                                        <span class="keyword">while</span>(first.previous != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2634</td>  <td class="nbHitsCovered">&nbsp;883</td>  <td class="src"><pre class="src">&nbsp;                                                first = first.previous;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2635</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2636</td>  <td class="nbHitsCovered">&nbsp;546</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> first;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2637</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2638</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2639</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> StepClause getLast() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2640</td>  <td class="nbHitsCovered">&nbsp;2033</td>  <td class="src"><pre class="src">&nbsp;                                        StepClause last = <span class="keyword">this</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2641</td>  <td class="nbHitsCovered"><a title="Line 2641: Conditional coverage 100% (2/2).">&nbsp;4561</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2641: Conditional coverage 100% (2/2).">                                        <span class="keyword">while</span>(last.next != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2642</td>  <td class="nbHitsCovered">&nbsp;2528</td>  <td class="src"><pre class="src">&nbsp;                                                last = last.next;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2643</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2644</td>  <td class="nbHitsCovered">&nbsp;2033</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> last;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2645</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2646</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2647</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">boolean</span> isSameAs(StepClause toCompare) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2648</td>  <td class="nbHitsUncovered"><a title="Line 2648: Conditional coverage 50% (1/2).">&nbsp;244</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2648: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (toCompare == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2649</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2650</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2651</td>  <td class="nbHitsUncovered"><a title="Line 2651: Conditional coverage 50% (1/2).">&nbsp;244</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2651: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (!<span class="keyword">this</span>.originalEndNodeName.equals(toCompare.originalEndNodeName))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2652</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2653</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2654</td>  <td class="nbHitsCovered"><a title="Line 2654: Conditional coverage 100% (2/2).">&nbsp;244</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2654: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.startNode != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2655</td>  <td class="nbHitsUncovered"><a title="Line 2655: Conditional coverage 50% (1/2).">&nbsp;61</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2655: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (toCompare.startNode == <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2656</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2657</td>  <td class="nbHitsUncovered"><a title="Line 2657: Conditional coverage 50% (1/2).">&nbsp;122</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2657: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (!ValueAccess.getName(<span class="keyword">this</span>.startNode).equals(</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2658</td>  <td class="nbHitsCovered">&nbsp;61</td>  <td class="src"><pre class="src">&nbsp;                                                                ValueAccess.getName(toCompare.startNode)))</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2659</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                        <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2660</td>  <td class="nbHitsUncovered"><a title="Line 2660: Conditional coverage 50% (1/2).">&nbsp;183</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2660: Conditional coverage 50% (1/2).">                                        } <span class="keyword">else</span> <span class="keyword">if</span> (toCompare.startNode != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2661</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2662</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2663</td>  <td class="nbHitsCovered">&nbsp;244</td>  <td class="src"><pre class="src">&nbsp;                                        String relName = getFieldMapping().getPropertyOrRelationName();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2664</td>  <td class="nbHitsCovered">&nbsp;244</td>  <td class="src"><pre class="src">&nbsp;                                        String oRelName = toCompare.getFieldMapping().getPropertyOrRelationName();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2665</td>  <td class="nbHitsUncovered"><a title="Line 2665: Conditional coverage 50% (1/2).">&nbsp;244</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2665: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (!relName.equals(oRelName))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2666</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2667</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2668</td>  <td class="nbHitsCovered"><a title="Line 2668: Conditional coverage 100% (2/2).">&nbsp;244</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2668: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.next != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2669</td>  <td class="nbHitsCovered">&nbsp;183</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">this</span>.next.isSameAs(toCompare.next);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2670</td>  <td class="nbHitsUncovered"><a title="Line 2670: Conditional coverage 50% (1/2).">&nbsp;61</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2670: Conditional coverage 50% (1/2).">                                        <span class="keyword">else</span> <span class="keyword">if</span> (toCompare.next != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2671</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2672</td>  <td class="nbHitsCovered">&nbsp;61</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2673</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2674</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2675</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> FieldMapping getFieldMapping() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2676</td>  <td class="nbHitsUncovered"><a title="Line 2676: Conditional coverage 50% (1/2).">&nbsp;488</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2676: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.fieldMappings != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2677</td>  <td class="nbHitsCovered">&nbsp;488</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">this</span>.fieldMappings.get(<span class="keyword">this</span>.fmIndex);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2678</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2679</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2680</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2681</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2682</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/***********************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2683</td>  <td class="nbHitsCovered">&nbsp;2968</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">class</span> CloneInfo {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2684</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> StepClause toClone;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2685</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> StepClause cloneTo;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2686</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2687</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">boolean</span> stopCloning() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2688</td>  <td class="nbHitsCovered"><a title="Line 2688: Conditional coverage 100% (2/2).">&nbsp;316</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2688: Conditional coverage 100% (2/2).">                                        <span class="keyword">return</span> <span class="keyword">this</span>.toClone == <span class="keyword">this</span>.cloneTo;</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2689</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2690</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2691</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2692</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2693</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2694</td>  <td class="nbHitsCovered">&nbsp;12143</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> ClauseBuilderContext {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2695</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> stepClausesCount = 0;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2696</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;String&gt; validNodes;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2697</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2698</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// The DomainObjectMatch as Map-Key is owner of the collection expression;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2699</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// the one which is produced by the collection expression.</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2700</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// The Class which is key in the inner map is one type of the DomainObjectMatch which is owner</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2701</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// of the tarversal expression (produced by the traversal expression)</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2702</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// collection owner -&gt; traversal owner -&gt; TraversalResultsPerType</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2703</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> Map&lt;DomainObjectMatch&lt;?&gt;,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2704</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                Map&lt;DomainObjectMatch&lt;?&gt;, TraversalResultPerTypes&gt;&gt; travClausesPerCollectXpr;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2705</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2706</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> ClauseBuilderContext(List&lt;String&gt; validNodes) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2707</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2708</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.validNodes = validNodes;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2709</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2710</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2711</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addCountFor(DomainObjectMatch&lt;?&gt; collOwner, DomainObjectMatch&lt;?&gt; travOwner,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2712</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        String startNodeName, JcNode endNd) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2713</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                TraversalResultPerTypes travResPerTypes = <span class="keyword">this</span>.getTraversalResultPerTypes(collOwner, travOwner, <span class="keyword">true</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2714</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                travResPerTypes.addCount(startNodeName, endNd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2715</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2716</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2717</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;JcNode&gt; getCountsFor(DomainObjectMatch&lt;?&gt; collOwner, DomainObjectMatch&lt;?&gt; travOwner,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2718</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        String startNodeName) {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2719</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                UnionExpression ue;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2720</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                TraversalResultPerTypes travResPerTypes;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2721</td>  <td class="nbHitsCovered"><a title="Line 2721: Conditional coverage 100% (2/2).">&nbsp;27</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2721: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> ((ue = APIAccess.getUnionExpression(travOwner)) != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2722</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;JcNode&gt; ret = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2723</td>  <td class="nbHitsCovered"><a title="Line 2723: Conditional coverage 100% (2/2).">&nbsp;11</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2723: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; dom : ue.getSources()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2724</td>  <td class="nbHitsCovered">&nbsp;22</td>  <td class="src"><pre class="src">&nbsp;                                                travResPerTypes = <span class="keyword">this</span>.getTraversalResultPerTypes(collOwner, dom, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2725</td>  <td class="nbHitsUncovered"><a title="Line 2725: Conditional coverage 50% (1/2).">&nbsp;22</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2725: Conditional coverage 50% (1/2).">                                                <span class="keyword">if</span> (travResPerTypes != <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2726</td>  <td class="nbHitsCovered">&nbsp;22</td>  <td class="src"><pre class="src">&nbsp;                                                        List&lt;JcNode&gt; cf = travResPerTypes.getCountsFor(startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2727</td>  <td class="nbHitsCovered"><a title="Line 2727: Conditional coverage 100% (2/2).">&nbsp;22</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2727: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (cf != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2728</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                                                ret.addAll(travResPerTypes.getCountsFor(startNodeName));</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2729</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2730</td>  <td class="nbHitsCovered">&nbsp;22</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2731</td>  <td class="nbHitsCovered">&nbsp;11</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2732</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2733</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                travResPerTypes = <span class="keyword">this</span>.getTraversalResultPerTypes(collOwner, travOwner, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2734</td>  <td class="nbHitsUncovered"><a title="Line 2734: Conditional coverage 50% (1/2).">&nbsp;16</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2734: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (travResPerTypes != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2735</td>  <td class="nbHitsCovered">&nbsp;16</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> travResPerTypes.getCountsFor(startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2736</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2737</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2738</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2739</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addTravClausesPerColl(DomainObjectMatch&lt;?&gt; collOwner,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2740</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        DomainObjectMatch&lt;?&gt; travOwner, Class&lt;?&gt; travOwnerType, ClauseBuilder.TraversalResult travResult) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2741</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                TraversalResultPerTypes travResPerTypes = <span class="keyword">this</span>.getTraversalResultPerTypes(collOwner, travOwner, <span class="keyword">true</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2742</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                travResPerTypes.addTravResult(travOwnerType, travResult);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2743</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2744</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2745</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> TraversalResultPerTypes getTraversalResultPerTypes(DomainObjectMatch&lt;?&gt; collOwner,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2746</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        DomainObjectMatch&lt;?&gt; travOwner, <span class="keyword">boolean</span> doCreate) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2747</td>  <td class="nbHitsCovered"><a title="Line 2747: Conditional coverage 100% (2/2).">&nbsp;1316</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2747: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.travClausesPerCollectXpr == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2748</td>  <td class="nbHitsCovered"><a title="Line 2748: Conditional coverage 100% (2/2).">&nbsp;98</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2748: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!doCreate)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2749</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2750</td>  <td class="nbHitsCovered">&nbsp;46</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.travClausesPerCollectXpr = <span class="keyword">new</span> HashMap&lt;DomainObjectMatch&lt;?&gt;,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2751</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        Map&lt;DomainObjectMatch&lt;?&gt;, TraversalResultPerTypes&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2752</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2753</td>  <td class="nbHitsCovered">&nbsp;1264</td>  <td class="src"><pre class="src">&nbsp;                                Map&lt;DomainObjectMatch&lt;?&gt;, TraversalResultPerTypes&gt; travResOwnerMap = <span class="keyword">this</span>.travClausesPerCollectXpr.get(collOwner);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2754</td>  <td class="nbHitsCovered"><a title="Line 2754: Conditional coverage 100% (2/2).">&nbsp;1264</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2754: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (travResOwnerMap == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2755</td>  <td class="nbHitsUncovered"><a title="Line 2755: Conditional coverage 50% (1/2).">&nbsp;52</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2755: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (!doCreate)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2756</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2757</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        travResOwnerMap = <span class="keyword">new</span> HashMap&lt;DomainObjectMatch&lt;?&gt;, TraversalResultPerTypes&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2758</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.travClausesPerCollectXpr.put(collOwner, travResOwnerMap);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2759</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2760</td>  <td class="nbHitsCovered">&nbsp;1264</td>  <td class="src"><pre class="src">&nbsp;                                TraversalResultPerTypes travResPerTypes = travResOwnerMap.get(travOwner);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2761</td>  <td class="nbHitsCovered"><a title="Line 2761: Conditional coverage 100% (2/2).">&nbsp;1264</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2761: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (travResPerTypes == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2762</td>  <td class="nbHitsCovered"><a title="Line 2762: Conditional coverage 100% (2/2).">&nbsp;404</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2762: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (!doCreate)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2763</td>  <td class="nbHitsCovered">&nbsp;322</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2764</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                        travResPerTypes = <span class="keyword">new</span> TraversalResultPerTypes();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2765</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                        travResOwnerMap.put(travOwner, travResPerTypes);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2766</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2767</td>  <td class="nbHitsCovered">&nbsp;942</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> travResPerTypes;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2768</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2769</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2770</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> ClauseBuilder.TraversalResult getTravResult(DomainObjectMatch&lt;?&gt; collOwner,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2771</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        DomainObjectMatch&lt;?&gt; travOwner, Class&lt;?&gt; travOwnerType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2772</td>  <td class="nbHitsCovered">&nbsp;801</td>  <td class="src"><pre class="src">&nbsp;                                TraversalResultPerTypes travResPerTypes = <span class="keyword">this</span>.getTraversalResultPerTypes(collOwner, travOwner, <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2773</td>  <td class="nbHitsCovered"><a title="Line 2773: Conditional coverage 100% (2/2).">&nbsp;801</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2773: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (travResPerTypes != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2774</td>  <td class="nbHitsCovered">&nbsp;427</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">return</span> travResPerTypes.getTravResult(travOwnerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2775</td>  <td class="nbHitsCovered">&nbsp;374</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2776</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2777</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2778</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> isNodeValid(JcNode nd) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2779</td>  <td class="nbHitsCovered">&nbsp;5653</td>  <td class="src"><pre class="src">&nbsp;                                String ndName = ValueAccess.getName(nd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2780</td>  <td class="nbHitsCovered"><a title="Line 2780: Conditional coverage 100% (2/2).">&nbsp;5653</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2780: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (String n : <span class="keyword">this</span>.validNodes) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2781</td>  <td class="nbHitsCovered"><a title="Line 2781: Conditional coverage 100% (2/2).">&nbsp;81459</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2781: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (n.equals(ndName))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2782</td>  <td class="nbHitsCovered">&nbsp;1916</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2783</td>  <td class="nbHitsCovered">&nbsp;79543</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2784</td>  <td class="nbHitsCovered">&nbsp;3737</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2785</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2786</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2787</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;JcNode&gt; filterValidNodes(List&lt;JcNode&gt; nds) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2788</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;JcNode&gt; ret = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2789</td>  <td class="nbHitsCovered"><a title="Line 2789: Conditional coverage 100% (2/2).">&nbsp;14</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2789: Conditional coverage 100% (2/2).">                                <span class="keyword">for</span> (JcNode n : nds) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2790</td>  <td class="nbHitsUncovered"><a title="Line 2790: Conditional coverage 50% (1/2).">&nbsp;24</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2790: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.isNodeValid(n))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2791</td>  <td class="nbHitsCovered">&nbsp;24</td>  <td class="src"><pre class="src">&nbsp;                                                ret.add(n);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2792</td>  <td class="nbHitsCovered">&nbsp;24</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2793</td>  <td class="nbHitsCovered">&nbsp;14</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> ret;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2794</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2795</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2796</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2797</td>  <td class="nbHitsCovered">&nbsp;1120</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">class</span> TraversalResultPerTypes {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2798</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2799</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Map&lt;Class&lt;?&gt;, ClauseBuilder.TraversalResult&gt; travResultsPerType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2800</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="comment">// traversal start node name -&gt; list of traversal end nodes</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2801</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> Map&lt;String, List&lt;JcNode&gt;&gt; startNode2CountMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2802</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2803</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> addCount(String startNodeName, JcNode endNode) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2804</td>  <td class="nbHitsCovered"><a title="Line 2804: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2804: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.startNode2CountMap == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2805</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.startNode2CountMap = <span class="keyword">new</span> HashMap&lt;String, List&lt;JcNode&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2806</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;JcNode&gt; endNodes = <span class="keyword">this</span>.startNode2CountMap.get(startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2807</td>  <td class="nbHitsCovered"><a title="Line 2807: Conditional coverage 100% (2/2).">&nbsp;152</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2807: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (endNodes == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2808</td>  <td class="nbHitsCovered">&nbsp;104</td>  <td class="src"><pre class="src">&nbsp;                                                endNodes = <span class="keyword">new</span> ArrayList&lt;JcNode&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2809</td>  <td class="nbHitsCovered">&nbsp;104</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.startNode2CountMap.put(startNodeName, endNodes);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2810</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2811</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                        endNodes.add(endNode);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2812</td>  <td class="nbHitsCovered">&nbsp;152</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2813</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2814</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> List&lt;JcNode&gt; getCountsFor(String startNodeName) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2815</td>  <td class="nbHitsUncovered"><a title="Line 2815: Conditional coverage 50% (1/2).">&nbsp;52</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2815: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.startNode2CountMap != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2816</td>  <td class="nbHitsCovered">&nbsp;52</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">this</span>.startNode2CountMap.get(startNodeName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2817</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2818</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2819</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2820</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> <span class="keyword">void</span> addTravResult(Class&lt;?&gt; travOwnerType, ClauseBuilder.TraversalResult traversalresult) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2821</td>  <td class="nbHitsCovered"><a title="Line 2821: Conditional coverage 100% (2/2).">&nbsp;325</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2821: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.travResultsPerType == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2822</td>  <td class="nbHitsCovered">&nbsp;82</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.travResultsPerType = <span class="keyword">new</span> HashMap&lt;Class&lt;?&gt;, ClauseBuilder.TraversalResult&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2823</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.travResultsPerType.put(travOwnerType, traversalresult);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2824</td>  <td class="nbHitsCovered">&nbsp;325</td>  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2825</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2826</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">private</span> ClauseBuilder.TraversalResult getTravResult(Class&lt;?&gt; travOwnerType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2827</td>  <td class="nbHitsUncovered"><a title="Line 2827: Conditional coverage 50% (1/2).">&nbsp;427</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2827: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.travResultsPerType != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2828</td>  <td class="nbHitsCovered">&nbsp;427</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">this</span>.travResultsPerType.get(travOwnerType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2829</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2830</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2831</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2832</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2833</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2834</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2835</td>  <td class="nbHitsCovered">&nbsp;12305</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> StateContext {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2836</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> State state;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2837</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> blockCount;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2838</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> String baseNodeName;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2839</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;IASTObject&gt; candidates;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2840</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;String&gt; dependencies;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2841</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2842</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// -1 .. init,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2843</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">// 0 .. foreign predicate expression,</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2844</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> orRemoveState;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2845</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> IASTObject orToAdd;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2846</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2847</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> StateContext(String bndNm) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2848</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2849</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.state = State.INIT;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2850</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.blockCount = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2851</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.candidates = <span class="keyword">new</span> ArrayList&lt;IASTObject&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2852</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.orRemoveState = -1;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2853</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.baseNodeName = bndNm;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2854</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2855</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2856</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addDependency(String nodeName) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2857</td>  <td class="nbHitsCovered"><a title="Line 2857: Conditional coverage 100% (2/2).">&nbsp;444</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2857: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (nodeName != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2858</td>  <td class="nbHitsCovered">&nbsp;385</td>  <td class="src"><pre class="src">&nbsp;                                        String nn = nodeName;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2859</td>  <td class="nbHitsCovered"><a title="Line 2859: Conditional coverage 100% (2/2).">&nbsp;385</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2859: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.dependencies == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2860</td>  <td class="nbHitsCovered">&nbsp;246</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.dependencies = <span class="keyword">new</span> ArrayList&lt;String&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2861</td>  <td class="nbHitsCovered">&nbsp;385</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">int</span> idx = nodeName.indexOf(separator);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2862</td>  <td class="nbHitsCovered">&nbsp;385</td>  <td class="src"><pre class="src">&nbsp;                                        idx = nodeName.indexOf(separator, idx + 1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2863</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="comment">// extract base-node-name if needed</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2864</td>  <td class="nbHitsCovered"><a title="Line 2864: Conditional coverage 100% (2/2).">&nbsp;385</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2864: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (idx &gt;= 0)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2865</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                nn = nodeName.substring(0, idx);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2866</td>  <td class="nbHitsUncovered"><a title="Line 2866: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">&nbsp;385</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2866: Conditional coverage 75% (3/4) [each condition: 50%, 100%].">                                        <span class="keyword">if</span> (!nn.equals(<span class="keyword">this</span>.baseNodeName) &amp;&amp; !<span class="keyword">this</span>.dependencies.contains(nn))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2867</td>  <td class="nbHitsCovered">&nbsp;365</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.dependencies.add(nn);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2868</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2869</td>  <td class="nbHitsCovered">&nbsp;444</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2870</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2871</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2872</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2873</td>  <td class="nbHitsCovered">&nbsp;47754</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> ClausesPerType {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2874</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> DomainObjectMatch&lt;?&gt; domainObjectMatch;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2875</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> JcNode node;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2876</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> Class&lt;?&gt; domainObjectType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2877</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> valid;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2878</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> oneValid;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2879</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> previousOr;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2880</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> testForNextIsOr;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2881</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> pageOffset;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2882</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> pageLength;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2883</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;IClause&gt; clauses;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2884</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> ExpressionsPerDOM expressionsPerDOM;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2885</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> Concat concat = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2886</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> iot.jcypher.query.api.predicate.Concatenator concatenator = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2887</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;IClause&gt; traversalClauses;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2888</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;IClause&gt; collectionClauses;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2889</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;Long&gt; startIds;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2890</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> lastIsWith;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2891</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> isCollectExpression;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2892</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> startCountSelectXpr;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2893</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;Integer&gt; withClausesAddIdxs;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2894</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> closeBracket;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2895</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2896</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> ClausesPerType(JcNode node, DomainObjectMatch&lt;?&gt; dom, Class&lt;?&gt; type) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2897</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2898</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.node = node;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2899</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.domainObjectMatch = dom;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2900</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.domainObjectType = type;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2901</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.valid = <span class="keyword">true</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2902</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.oneValid = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2903</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.previousOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2904</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.testForNextIsOr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2905</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.closeBracket = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2906</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.startCountSelectXpr = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2907</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.isCollectExpression = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2908</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.lastIsWith = <span class="keyword">false</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2909</td>  <td class="nbHitsCovered">&nbsp;1367</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2910</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2911</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> needDistinctQuery() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2912</td>  <td class="nbHitsCovered"><a title="Line 2912: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;670</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2912: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                <span class="keyword">return</span> <span class="keyword">this</span>.pageOffset &gt; 0 || <span class="keyword">this</span>.pageLength &gt;= 0;</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2913</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2914</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2915</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> JcNumber getJcNumber(String prefix) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2916</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> QueryBuilder.<span class="keyword">this</span>.getJcNumber(prefix, <span class="keyword">this</span>.node);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2917</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2918</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2919</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2920</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                         * may return null in case it is not valid</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2921</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                         * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2922</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                         */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2923</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;IClause&gt; getClauses(List&lt;ClausesPerType&gt; added) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2924</td>  <td class="nbHitsCovered"><a title="Line 2924: Conditional coverage 100% (2/2).">&nbsp;788</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2924: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.clauses == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2925</td>  <td class="nbHitsUncovered"><a title="Line 2925: Conditional coverage 50% (1/2).">&nbsp;694</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2925: Conditional coverage 50% (1/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.valid) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2926</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.clauses = <span class="keyword">new</span> ArrayList&lt;IClause&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2927</td>  <td class="nbHitsCovered"><a title="Line 2927: Conditional coverage 100% (2/2).">&nbsp;694</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2927: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (<span class="keyword">this</span>.traversalClauses != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2928</td>  <td class="nbHitsCovered"><a title="Line 2928: Conditional coverage 100% (2/2).">&nbsp;182</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2928: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (<span class="keyword">this</span>.concatenator != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2929</td>  <td class="nbHitsCovered">&nbsp;12</td>  <td class="src"><pre class="src">&nbsp;                                                                IClause cl = <span class="keyword">this</span>.traversalClauses.get(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2930</td>  <td class="nbHitsCovered">&nbsp;6</td>  <td class="src"><pre class="src">&nbsp;                                                                                <span class="keyword">this</span>.traversalClauses.size() - 1);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2931</td>  <td class="nbHitsCovered"><a title="Line 2931: Conditional coverage 100% (2/2).">&nbsp;6</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2931: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (cl <span class="keyword">instanceof</span> iot.jcypher.query.api.predicate.Concatenator)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2932</td>  <td class="nbHitsCovered">&nbsp;5</td>  <td class="src"><pre class="src">&nbsp;                                                                        <span class="keyword">this</span>.traversalClauses.remove(<span class="keyword">this</span>.traversalClauses.size() - 1);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2933</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2934</td>  <td class="nbHitsCovered">&nbsp;182</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.clauses.addAll(<span class="keyword">this</span>.traversalClauses);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2935</td>  <td class="nbHitsCovered">&nbsp;182</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.traversalClauses = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2936</td>  <td class="nbHitsCovered"><a title="Line 2936: Conditional coverage 100% (2/2).">&nbsp;512</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2936: Conditional coverage 100% (2/2).">                                                } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.collectionClauses != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2937</td>  <td class="nbHitsCovered">&nbsp;87</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">int</span> offset = <span class="keyword">this</span>.clauses.size();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2938</td>  <td class="nbHitsCovered">&nbsp;87</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.clauses.addAll(<span class="keyword">this</span>.collectionClauses);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2939</td>  <td class="nbHitsCovered"><a title="Line 2939: Conditional coverage 100% (2/2).">&nbsp;87</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2939: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (<span class="keyword">this</span>.withClausesAddIdxs != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2940</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="comment">// add missing with clauses</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2941</td>  <td class="nbHitsCovered"><a title="Line 2941: Conditional coverage 100% (2/2).">&nbsp;36</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2941: Conditional coverage 100% (2/2).">                                                                <span class="keyword">for</span> (<span class="keyword">int</span> idx : <span class="keyword">this</span>.withClausesAddIdxs) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2942</td>  <td class="nbHitsCovered"><a title="Line 2942: Conditional coverage 100% (2/2).">&nbsp;86</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2942: Conditional coverage 100% (2/2).">                                                                        <span class="keyword">for</span> (ClausesPerType cpt : added) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2943</td>  <td class="nbHitsCovered">&nbsp;196</td>  <td class="src"><pre class="src">&nbsp;                                                                                <span class="keyword">this</span>.clauses.add(idx + offset, WITH.value(cpt.node));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2944</td>  <td class="nbHitsCovered">&nbsp;196</td>  <td class="src"><pre class="src">&nbsp;                                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2945</td>  <td class="nbHitsCovered">&nbsp;86</td>  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2946</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2947</td>  <td class="nbHitsCovered">&nbsp;87</td>  <td class="src"><pre class="src">&nbsp;                                                } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2948</td>  <td class="nbHitsCovered">&nbsp;425</td>  <td class="src"><pre class="src">&nbsp;                                                        String nodeLabel = getMappingInfo().getLabelForClass(<span class="keyword">this</span>.domainObjectType);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2949</td>  <td class="nbHitsCovered"><a title="Line 2949: Conditional coverage 100% (2/2).">&nbsp;425</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2949: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (<span class="keyword">this</span>.startIds != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2950</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">long</span>[] sids = <span class="keyword">new</span> <span class="keyword">long</span>[<span class="keyword">this</span>.startIds.size()];</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2951</td>  <td class="nbHitsCovered"><a title="Line 2951: Conditional coverage 100% (2/2).">&nbsp;42</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2951: Conditional coverage 100% (2/2).">                                                                <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; <span class="keyword">this</span>.startIds.size(); i++) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2952</td>  <td class="nbHitsCovered">&nbsp;33</td>  <td class="src"><pre class="src">&nbsp;                                                                        sids[i] = <span class="keyword">this</span>.startIds.get(i).longValue();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2953</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2954</td>  <td class="nbHitsCovered">&nbsp;18</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">this</span>.clauses.add(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2955</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                                        START.node(<span class="keyword">this</span>.node).byId(sids)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2956</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                );</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2957</td>  <td class="nbHitsCovered">&nbsp;9</td>  <td class="src"><pre class="src">&nbsp;                                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2958</td>  <td class="nbHitsCovered">&nbsp;832</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">this</span>.clauses.add(</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2959</td>  <td class="nbHitsCovered">&nbsp;416</td>  <td class="src"><pre class="src">&nbsp;                                                                        OPTIONAL_MATCH.node(<span class="keyword">this</span>.node).label(nodeLabel)</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2960</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                );</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2961</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2962</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2963</td>  <td class="nbHitsCovered"><a title="Line 2963: Conditional coverage 100% (2/2).">&nbsp;694</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2963: Conditional coverage 100% (2/2).">                                                <span class="keyword">if</span> (<span class="keyword">this</span>.concatenator != <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2964</td>  <td class="nbHitsCovered"><a title="Line 2964: Conditional coverage 100% (2/2).">&nbsp;434</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2964: Conditional coverage 100% (2/2).">                                                        <span class="keyword">this</span>.clauses.add(<span class="keyword">this</span>.closeBracket ? <span class="keyword">this</span>.concatenator.BR_CLOSE() :</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2965</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">this</span>.concatenator);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2966</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">else</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2967</td>  <td class="nbHitsCovered">&nbsp;260</td>  <td class="src"><pre class="src">&nbsp;                                                        <span class="keyword">this</span>.clauses.add(SEPARATE.nextClause());</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2968</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2969</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2970</td>  <td class="nbHitsCovered">&nbsp;788</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> <span class="keyword">this</span>.clauses;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2971</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2972</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2973</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addClausesTo(List&lt;IClause&gt; clauses, List&lt;ClausesPerType&gt; added) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2974</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                List&lt;IClause&gt; mcs = <span class="keyword">this</span>.getClauses(added);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2975</td>  <td class="nbHitsUncovered"><a title="Line 2975: Conditional coverage 50% (1/2).">&nbsp;94</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2975: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (mcs != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2976</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                        clauses.addAll(mcs);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2977</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2978</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;2979</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addDependencyClauses(List&lt;IClause&gt; clauses, List&lt;ClausesPerType&gt; added,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2980</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        OrderClausesHolder withClausesHolder, ClauseBuilderContext cbContext,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2981</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">boolean</span> isCountQuery) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2982</td>  <td class="nbHitsCovered"><a title="Line 2982: Conditional coverage 100% (2/2).">&nbsp;694</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2982: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.expressionsPerDOM.flattenedDependencies != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2983</td>  <td class="nbHitsCovered"><a title="Line 2983: Conditional coverage 100% (2/2).">&nbsp;372</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2983: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (ExpressionsPerDOM xpd : <span class="keyword">this</span>.expressionsPerDOM.flattenedDependencies) {</a></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2984</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// for a traversal expression for this select expression we do not need to</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2985</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// add the original traversal expression, because the select expression</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2986</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                <span class="comment">// will work on the clones.</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2987</td>  <td class="nbHitsCovered">&nbsp;900</td>  <td class="src"><pre class="src">&nbsp;                                                List&lt;DomainObjectMatch&lt;?&gt;&gt; collOwner = APIAccess.getCollectExpressionOwner(xpd.domainObjectMatch);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2988</td>  <td class="nbHitsCovered"><a title="Line 2988: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">&nbsp;900</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2988: Conditional coverage 100% (4/4) [each condition: 100%, 100%].">                                                <span class="keyword">boolean</span> addExpressions = collOwner == <span class="keyword">null</span> || !collOwner.contains(<span class="keyword">this</span>.domainObjectMatch);</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2989</td>  <td class="nbHitsCovered"><a title="Line 2989: Conditional coverage 100% (2/2).">&nbsp;900</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2989: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (ClausesPerType cpt : xpd.clausesPerTypes) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2990</td>  <td class="nbHitsCovered"><a title="Line 2990: Conditional coverage 100% (2/2).">&nbsp;4813</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2990: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (cbContext.isNodeValid(cpt.node)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2991</td>  <td class="nbHitsCovered"><a title="Line 2991: Conditional coverage 100% (2/2).">&nbsp;1491</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2991: Conditional coverage 100% (2/2).">                                                                <span class="keyword">if</span> (!added.contains(cpt)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2992</td>  <td class="nbHitsCovered"><a title="Line 2992: Conditional coverage 100% (2/2).">&nbsp;202</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 2992: Conditional coverage 100% (2/2).">                                                                        <span class="keyword">if</span> (addExpressions) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2993</td>  <td class="nbHitsUncovered"><a title="Line 2993: Conditional coverage 50% (1/2).">&nbsp;94</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 2993: Conditional coverage 50% (1/2).">                                                                                <span class="keyword">if</span> (!isCountQuery)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2994</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                                                                        withClausesHolder.checkForOrdeClause(cpt);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2995</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                                                                cpt.addClausesTo(clauses, added);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;2996</td>  <td class="nbHitsCovered">&nbsp;94</td>  <td class="src"><pre class="src">&nbsp;                                                                                added.add(cpt);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2997</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;2998</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">//                                                                        added.add(cpt);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;2999</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3000</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3001</td>  <td class="nbHitsCovered">&nbsp;4813</td>  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3002</td>  <td class="nbHitsCovered">&nbsp;900</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3003</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3004</td>  <td class="nbHitsCovered">&nbsp;694</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3005</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3006</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">boolean</span> isValidDependency(String vn,</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3007</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        List&lt;String&gt; depBases) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3008</td>  <td class="nbHitsUncovered"><a title="Line 3008: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3008: Conditional coverage 0% (0/2).">                                <span class="keyword">for</span> (String bnm : depBases) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3009</td>  <td class="nbHitsUncovered"><a title="Line 3009: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3009: Conditional coverage 0% (0/2).">                                        <span class="keyword">if</span> (vn.startsWith(bnm))</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3010</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                                <span class="keyword">return</span> <span class="keyword">true</span>;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3011</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                }</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3012</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">return</span> <span class="keyword">false</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3013</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3014</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3015</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3016</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3017</td>  <td class="nbHitsCovered">&nbsp;8669</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> ExpressionsPerDOM {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3018</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> DomainObjectMatch&lt;?&gt; domainObjectMatch;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3019</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;IASTObject&gt; xPressions;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3020</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;DomainObjectMatch&lt;?&gt;&gt; dependencies;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3021</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;ExpressionsPerDOM&gt; flattenedDependencies;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3022</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;ClausesPerType&gt; clausesPerTypes;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3023</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3024</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> ExpressionsPerDOM(DomainObjectMatch&lt;?&gt; domainObjectMatch,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3025</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                        List&lt;IASTObject&gt; xPressions, List&lt;String&gt; deps) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3026</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3027</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.domainObjectMatch = domainObjectMatch;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3028</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.xPressions = xPressions;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3029</td>  <td class="nbHitsCovered"><a title="Line 3029: Conditional coverage 100% (2/2).">&nbsp;649</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3029: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (deps != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3030</td>  <td class="nbHitsCovered">&nbsp;246</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.dependencies = <span class="keyword">new</span> ArrayList&lt;DomainObjectMatch&lt;?&gt;&gt;(deps.size());</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3031</td>  <td class="nbHitsCovered"><a title="Line 3031: Conditional coverage 100% (2/2).">&nbsp;246</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3031: Conditional coverage 100% (2/2).">                                        <span class="keyword">for</span> (String nn : deps) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3032</td>  <td class="nbHitsUncovered"><a title="Line 3032: Conditional coverage 50% (1/2).">&nbsp;365</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3032: Conditional coverage 50% (1/2).">                                                <span class="keyword">for</span> (DomainObjectMatch&lt;?&gt; dom : domainObjectMatches) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3033</td>  <td class="nbHitsCovered"><a title="Line 3033: Conditional coverage 100% (2/2).">&nbsp;842</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3033: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (APIAccess.getBaseNodeName(dom).equals(nn)) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3034</td>  <td class="nbHitsCovered">&nbsp;365</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">this</span>.dependencies.add(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3035</td>  <td class="nbHitsCovered">&nbsp;365</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">break</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3036</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3037</td>  <td class="nbHitsCovered">&nbsp;477</td>  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3038</td>  <td class="nbHitsCovered">&nbsp;365</td>  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3039</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3040</td>  <td class="nbHitsCovered">&nbsp;649</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3041</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3042</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addDependencies(List&lt;ExpressionsPerDOM&gt; xpds) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3043</td>  <td class="nbHitsCovered"><a title="Line 3043: Conditional coverage 100% (2/2).">&nbsp;353</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3043: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (xpds != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3044</td>  <td class="nbHitsCovered"><a title="Line 3044: Conditional coverage 100% (2/2).">&nbsp;171</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3044: Conditional coverage 100% (2/2).">                                        <span class="keyword">if</span> (<span class="keyword">this</span>.flattenedDependencies == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3045</td>  <td class="nbHitsCovered">&nbsp;78</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.flattenedDependencies = <span class="keyword">new</span> ArrayList&lt;ExpressionsPerDOM&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3046</td>  <td class="nbHitsCovered">&nbsp;78</td>  <td class="src"><pre class="src">&nbsp;                                                <span class="keyword">this</span>.flattenedDependencies.addAll(xpds);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3047</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        } <span class="keyword">else</span> {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3048</td>  <td class="nbHitsCovered"><a title="Line 3048: Conditional coverage 100% (2/2).">&nbsp;93</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3048: Conditional coverage 100% (2/2).">                                                <span class="keyword">for</span> (ExpressionsPerDOM xpd : xpds) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3049</td>  <td class="nbHitsCovered"><a title="Line 3049: Conditional coverage 100% (2/2).">&nbsp;170</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3049: Conditional coverage 100% (2/2).">                                                        <span class="keyword">if</span> (!<span class="keyword">this</span>.flattenedDependencies.contains(xpd))</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3050</td>  <td class="nbHitsCovered">&nbsp;36</td>  <td class="src"><pre class="src">&nbsp;                                                                <span class="keyword">this</span>.flattenedDependencies.add(xpd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3051</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                                                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3052</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3053</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3054</td>  <td class="nbHitsCovered">&nbsp;353</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3055</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3056</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">void</span> addDependency(ExpressionsPerDOM xpd) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3057</td>  <td class="nbHitsCovered"><a title="Line 3057: Conditional coverage 100% (2/2).">&nbsp;353</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3057: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.flattenedDependencies == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3058</td>  <td class="nbHitsCovered">&nbsp;144</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.flattenedDependencies = <span class="keyword">new</span> ArrayList&lt;ExpressionsPerDOM&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3059</td>  <td class="nbHitsCovered">&nbsp;353</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.flattenedDependencies.add(xpd);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3060</td>  <td class="nbHitsCovered">&nbsp;353</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3061</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3062</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3063</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3064</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3065</td>  <td class="nbHitsCovered">&nbsp;5626</td>  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">class</span> QueryContext {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3066</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> List&lt;ResultsPerType&gt; resultsPerType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3067</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> Map&lt;DomainObjectMatch&lt;?&gt;, List&lt;ResultsPerType&gt;&gt; resultsMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3068</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">boolean</span> execCount;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3069</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3070</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> QueryContext(<span class="keyword">boolean</span> execCount) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3071</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3072</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.resultsPerType = <span class="keyword">new</span> ArrayList&lt;ResultsPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3073</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.resultsMap = <span class="keyword">new</span> HashMap&lt;DomainObjectMatch&lt;?&gt;, List&lt;ResultsPerType&gt;&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3074</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.execCount = execCount;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3075</td>  <td class="nbHitsCovered">&nbsp;181</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3076</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3077</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> ResultsPerType addFor(QueryBuilder.ClausesPerType cpt, <span class="keyword">boolean</span> isCountQuery) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3078</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        DomainObjectMatch&lt;?&gt; dom = cpt.domainObjectMatch;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3079</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        Class&lt;?&gt; type = cpt.domainObjectType;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3080</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;ResultsPerType&gt; resPerTypeList = <span class="keyword">this</span>.resultsMap.get(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3081</td>  <td class="nbHitsCovered"><a title="Line 3081: Conditional coverage 100% (2/2).">&nbsp;688</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3081: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (resPerTypeList == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3082</td>  <td class="nbHitsCovered">&nbsp;362</td>  <td class="src"><pre class="src">&nbsp;                                resPerTypeList = <span class="keyword">new</span> ArrayList&lt;ResultsPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3083</td>  <td class="nbHitsCovered">&nbsp;362</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.resultsMap.put(dom, resPerTypeList);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3084</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3085</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        ResultsPerType resPerType = <span class="keyword">null</span>;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3086</td>  <td class="nbHitsCovered"><a title="Line 3086: Conditional coverage 100% (2/2).">&nbsp;688</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3086: Conditional coverage 100% (2/2).">                        <span class="keyword">for</span> (ResultsPerType rpt : resPerTypeList) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3087</td>  <td class="nbHitsUncovered"><a title="Line 3087: Conditional coverage 50% (1/2).">&nbsp;481</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3087: Conditional coverage 50% (1/2).">                                <span class="keyword">if</span> (rpt.type.equals(type)) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3088</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        resPerType = rpt;</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3089</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        <span class="keyword">break</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3090</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                                }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3091</td>  <td class="nbHitsCovered">&nbsp;481</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3092</td>  <td class="nbHitsUncovered"><a title="Line 3092: Conditional coverage 50% (1/2).">&nbsp;688</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3092: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (resPerType == <span class="keyword">null</span>) {</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3093</td>  <td class="nbHitsCovered"><a title="Line 3093: Conditional coverage 100% (2/2).">&nbsp;688</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3093: Conditional coverage 100% (2/2).">                                String pref = isCountQuery ? countPrefix : idPrefix;</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3094</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                resPerType = <span class="keyword">new</span> ResultsPerType(type, ValueAccess.getName(cpt.node), cpt.getJcNumber(pref));</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3095</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                resPerTypeList.add(resPerType);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3096</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3097</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> resPerType;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3098</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3099</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3100</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> addEmptyFor(QueryBuilder.ClausesPerType cpt) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3101</td>  <td class="nbHitsCovered">&nbsp;521</td>  <td class="src"><pre class="src">&nbsp;                        DomainObjectMatch&lt;?&gt; dom = cpt.domainObjectMatch;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3102</td>  <td class="nbHitsCovered">&nbsp;521</td>  <td class="src"><pre class="src">&nbsp;                        List&lt;ResultsPerType&gt; resPerTypeList = <span class="keyword">this</span>.resultsMap.get(dom);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3103</td>  <td class="nbHitsCovered"><a title="Line 3103: Conditional coverage 100% (2/2).">&nbsp;521</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3103: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (resPerTypeList == <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3104</td>  <td class="nbHitsCovered">&nbsp;95</td>  <td class="src"><pre class="src">&nbsp;                                resPerTypeList = <span class="keyword">new</span> ArrayList&lt;ResultsPerType&gt;();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3105</td>  <td class="nbHitsCovered">&nbsp;95</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.resultsMap.put(dom, resPerTypeList);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3106</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3107</td>  <td class="nbHitsCovered">&nbsp;521</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3108</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3109</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> queryExecuted() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3110</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                        Iterator&lt;Entry&lt;DomainObjectMatch&lt;?&gt;, List&lt;ResultsPerType&gt;&gt;&gt; it = <span class="keyword">this</span>.resultsMap.entrySet().iterator();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3111</td>  <td class="nbHitsCovered"><a title="Line 3111: Conditional coverage 100% (2/2).">&nbsp;594</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3111: Conditional coverage 100% (2/2).">                        <span class="keyword">while</span>(it.hasNext()) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3112</td>  <td class="nbHitsCovered">&nbsp;424</td>  <td class="src"><pre class="src">&nbsp;                                Entry&lt;DomainObjectMatch&lt;?&gt;, List&lt;ResultsPerType&gt;&gt; entry = it.next();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3113</td>  <td class="nbHitsCovered">&nbsp;424</td>  <td class="src"><pre class="src">&nbsp;                                APIAccess.setPageChanged(entry.getKey(), <span class="keyword">false</span>);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3114</td>  <td class="nbHitsCovered">&nbsp;424</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3115</td>  <td class="nbHitsCovered">&nbsp;170</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3116</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3117</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3118</td>  <td class="nbHitsCovered">&nbsp;6662</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">class</span> ResultsPerType {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3119</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> Class&lt;?&gt; type;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3120</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> JcPrimitive jcPrimitive;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3121</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> JcNumber jcNumber;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3122</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;Long&gt; ids;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3123</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> List&lt;Object&gt; simpleValues;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3124</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">long</span> count;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3125</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> <span class="keyword">int</span> queryIndex;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3126</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        </pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3127</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">private</span> ResultsPerType(Class&lt;?&gt; type, String retName, JcNumber num) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3128</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3129</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.type = type;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3130</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.jcNumber = num;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3131</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.count = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3132</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.queryIndex = 0;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3133</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.jcPrimitive = MappingUtil.fromType(type, retName);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3134</td>  <td class="nbHitsCovered">&nbsp;688</td>  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3135</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3136</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3137</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3138</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/*************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3139</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> enum State {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3140</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                INIT, HAS_XPRESSION</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3141</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3142</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3143</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/****************************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3144</td>  <td class="nbHitsCovered">&nbsp;1480</td>  <td class="src"><pre class="src">&nbsp;        <span class="keyword">private</span> <span class="keyword">class</span> RecordedQueryContext {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3145</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> RecordedQuery recordedQuery;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3146</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> QueriesPerThread queriesPerThread;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3147</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> AbstractDomainQuery domainQuery;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3148</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> Map&lt;Object, String&gt; object2IdMap;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3149</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> DomainQueryResult queryResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3150</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> CountQueryResult countResult;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3151</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3152</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> RecordedQueryContext(RecordedQuery recordedQuery, QueriesPerThread queriesPerThread,</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3153</td>  <td class="nbHitsCovered">&nbsp;214</td>  <td class="src"><pre class="src">&nbsp;                                AbstractDomainQuery q) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3154</td>  <td class="nbHitsCovered">&nbsp;214</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3155</td>  <td class="nbHitsCovered">&nbsp;214</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.recordedQuery = recordedQuery;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3156</td>  <td class="nbHitsCovered">&nbsp;214</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.queriesPerThread = queriesPerThread;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3157</td>  <td class="nbHitsCovered">&nbsp;214</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">this</span>.domainQuery = q;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3158</td>  <td class="nbHitsCovered">&nbsp;214</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3159</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3160</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> <span class="keyword">void</span> queryCompleted() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3161</td>  <td class="nbHitsCovered"><a title="Line 3161: Conditional coverage 100% (2/2).">&nbsp;437</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3161: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (<span class="keyword">this</span>.queriesPerThread != <span class="keyword">null</span>) {</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3162</td>  <td class="nbHitsCovered"><a title="Line 3162: Conditional coverage 100% (2/2).">&nbsp;286</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3162: Conditional coverage 100% (2/2).">                                <span class="keyword">if</span> (<span class="keyword">this</span>.object2IdMap == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3163</td>  <td class="nbHitsCovered">&nbsp;142</td>  <td class="src"><pre class="src">&nbsp;                                        <span class="keyword">this</span>.object2IdMap = <span class="keyword">this</span>.queriesPerThread.getDOM2IdMap(<span class="keyword">this</span>.domainQuery);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3164</td>  <td class="nbHitsCovered">&nbsp;286</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">this</span>.queriesPerThread.queryCompleted(<span class="keyword">this</span>.domainQuery);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3165</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                        }</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3166</td>  <td class="nbHitsCovered">&nbsp;437</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3167</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3168</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> DomainObjectMatch&lt;?&gt; findMatchingTo(DomainObjectMatch&lt;?&gt; dom) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3169</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        DomainObjectMatch&lt;?&gt; om = APIAccess.getDelegate(dom); <span class="comment">// handle generic model</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3170</td>  <td class="nbHitsCovered"><a title="Line 3170: Conditional coverage 100% (2/2).">&nbsp;2</a></td>  <td class="src"><pre class="src">&nbsp;<a title="Line 3170: Conditional coverage 100% (2/2).">                        <span class="keyword">if</span> (om == <span class="keyword">null</span>)</a></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3171</td>  <td class="nbHitsCovered">&nbsp;1</td>  <td class="src"><pre class="src">&nbsp;                                om = dom;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3172</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        String oid = <span class="keyword">this</span>.object2IdMap.get(om);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3173</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        ReplayedQueryContext rctxt = InternalAccess.getQueryExecutor(getReplayedQuery()).getReplayedQueryContext();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3174</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        DomainObjectMatch&lt;?&gt; match = rctxt.getById(oid);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3175</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> match;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3176</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3177</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3178</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> AbstractDomainQuery getReplayedQuery() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3179</td>  <td class="nbHitsUncovered"><a title="Line 3179: Conditional coverage 50% (1/2).">&nbsp;2</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3179: Conditional coverage 50% (1/2).">                        <span class="keyword">if</span> (<span class="keyword">this</span>.queryResult != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3180</td>  <td class="nbHitsCovered">&nbsp;2</td>  <td class="src"><pre class="src">&nbsp;                                <span class="keyword">return</span> InternalAccess.getDomainQuery(<span class="keyword">this</span>.queryResult);</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3181</td>  <td class="nbHitsUncovered"><a title="Line 3181: Conditional coverage 0% (0/2).">&nbsp;0</a></td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;<a title="Line 3181: Conditional coverage 0% (0/2).">                        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.countResult != <span class="keyword">null</span>)</a></span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3182</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                <span class="keyword">return</span> InternalAccess.getDomainQuery(<span class="keyword">this</span>.countResult);</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3183</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">return</span> <span class="keyword">null</span>;</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3184</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3185</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3186</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3187</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        <span class="comment">/************************************/</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3188</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;        <span class="keyword">public</span> <span class="keyword">class</span> MappingInfo {</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3189</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3190</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                <span class="keyword">private</span> MappingInfo() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3191</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">super</span>();</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3192</td>  <td class="nbHitsCovered">&nbsp;279</td>  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3193</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3194</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> ObjectMapping getObjectMappingFor(Class&lt;?&gt; domainObjectType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3195</td>  <td class="nbHitsCovered">&nbsp;9564</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ((IIntDomainAccess)domainAccess).getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3196</td>  <td class="nbHitsCovered">&nbsp;4782</td>  <td class="src"><pre class="src">&nbsp;                                        .getObjectMappingFor(domainObjectType);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3197</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3198</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3199</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="comment">/**</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3200</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * may return null</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3201</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param attribName</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3202</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @param domainObjectType</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3203</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 * @return</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3204</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;<span class="comment">                 */</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3205</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> FieldMapping getFieldMapping(String attribName, Class&lt;?&gt; domainObjectType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3206</td>  <td class="nbHitsCovered">&nbsp;4121</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> getObjectMappingFor(domainObjectType).getFieldMappingForField(attribName);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3207</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3208</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3209</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> List&lt;FieldMapping&gt; getBackwardFieldMappings(String attribName, Class&lt;?&gt; domainObjectType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3210</td>  <td class="nbHitsCovered">&nbsp;146</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ((IIntDomainAccess)domainAccess).getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3211</td>  <td class="nbHitsCovered">&nbsp;73</td>  <td class="src"><pre class="src">&nbsp;                                        .getBackwardFieldMappings(attribName, domainObjectType);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3212</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3213</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3214</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> List&lt;Class&lt;?&gt;&gt; getCompoundTypesFor(Class&lt;?&gt; domainObjectType) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3215</td>  <td class="nbHitsCovered">&nbsp;1620</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ((IIntDomainAccess)domainAccess).getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3216</td>  <td class="nbHitsCovered">&nbsp;810</td>  <td class="src"><pre class="src">&nbsp;                                        .getCompoundTypesFor(domainObjectType);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3217</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3218</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3219</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> String getLabelForClass(Class&lt;?&gt; clazz) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3220</td>  <td class="nbHitsCovered">&nbsp;6796</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ((IIntDomainAccess)domainAccess).getInternalDomainAccess()</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3221</td>  <td class="nbHitsCovered">&nbsp;3398</td>  <td class="src"><pre class="src">&nbsp;                                        .getLabelForClass(clazz);</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3222</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3223</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3224</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> Class&lt;?&gt; getClassForLabel(String label) {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3225</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                        <span class="keyword">return</span> ((IIntDomainAccess)domainAccess).getInternalDomainAccess()</span></pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3226</td>  <td class="nbHitsUncovered">&nbsp;0</td>  <td class="src"><pre class="src"><span class="srcUncovered">&nbsp;                                        .getClassForLabel(label);</span></pre></td></tr>
<tr>  <td class="numLine">&nbsp;3227</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3228</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3229</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> QueryExecutor getQueryExecutor() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3230</td>  <td class="nbHitsCovered">&nbsp;3</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> QueryExecutor.<span class="keyword">this</span>;</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3231</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3232</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                </pre></td></tr>
<tr>  <td class="numLine">&nbsp;3233</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                <span class="keyword">public</span> InternalDomainAccess getInternalDomainAccess() {</pre></td></tr>
<tr>  <td class="numLineCover">&nbsp;3234</td>  <td class="nbHitsCovered">&nbsp;4018</td>  <td class="src"><pre class="src">&nbsp;                        <span class="keyword">return</span> ((IIntDomainAccess)domainAccess).getInternalDomainAccess();</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3235</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;                }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3236</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;        }</pre></td></tr>
<tr>  <td class="numLine">&nbsp;3237</td>  <td class="nbHits">&nbsp;</td>
  <td class="src"><pre class="src">&nbsp;}</pre></td></tr>
</table>

<div class="footer">Report generated by <a href="http://cobertura.sourceforge.net/" target="_top">Cobertura</a> 2.1.1 on 3/25/25 9:47 PM.</div>
</body>
</html>
